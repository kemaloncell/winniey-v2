var Nw=Object.defineProperty,Rw=Object.defineProperties;var Mw=Object.getOwnPropertyDescriptors;var gd=Object.getOwnPropertySymbols;var kw=Object.prototype.hasOwnProperty,Dw=Object.prototype.propertyIsEnumerable;var md=(e,t,r)=>t in e?Nw(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Us=(e,t)=>{for(var r in t||(t={}))kw.call(t,r)&&md(e,r,t[r]);if(gd)for(var r of gd(t))Dw.call(t,r)&&md(e,r,t[r]);return e},fc=(e,t)=>Rw(e,Mw(t));/*!
  * @intlify/shared v9.1.9
  * (c) 2021 kazuya kawaguchi
  * Released under the MIT License.
  */const Uw=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol",cn=e=>Uw?Symbol(e):e,Fw=(e,t,r)=>Lw({l:e,k:t,s:r}),Lw=e=>JSON.stringify(e).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\u0027/g,"\\u0027"),ot=e=>typeof e=="number"&&isFinite(e),Bw=e=>$f(e)==="[object Date]",Da=e=>$f(e)==="[object RegExp]",Cu=e=>Te(e)&&Object.keys(e).length===0;function jw(e,t){typeof console!="undefined"&&(console.warn("[intlify] "+e),t&&console.warn(t.stack))}const St=Object.assign;let yd;const qf=()=>yd||(yd=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});function bd(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}const qw=Object.prototype.hasOwnProperty;function Rm(e,t){return qw.call(e,t)}const ht=Array.isArray,_t=e=>typeof e=="function",ge=e=>typeof e=="string",Qe=e=>typeof e=="boolean",Et=e=>e!==null&&typeof e=="object",Mm=Object.prototype.toString,$f=e=>Mm.call(e),Te=e=>$f(e)==="[object Object]",$w=e=>e==null?"":ht(e)||Te(e)&&e.toString===Mm?JSON.stringify(e,null,2):String(e);/*!
  * @intlify/message-resolver v9.1.9
  * (c) 2021 kazuya kawaguchi
  * Released under the MIT License.
  */const Kw=Object.prototype.hasOwnProperty;function Hw(e,t){return Kw.call(e,t)}const ga=e=>e!==null&&typeof e=="object",$n=[];$n[0]={w:[0],i:[3,0],["["]:[4],o:[7]};$n[1]={w:[1],["."]:[2],["["]:[4],o:[7]};$n[2]={w:[2],i:[3,0],["0"]:[3,0]};$n[3]={i:[3,0],["0"]:[3,0],w:[1,1],["."]:[2,1],["["]:[4,1],o:[7,1]};$n[4]={["'"]:[5,0],['"']:[6,0],["["]:[4,2],["]"]:[1,3],o:8,l:[4,0]};$n[5]={["'"]:[4,0],o:8,l:[5,0]};$n[6]={['"']:[4,0],o:8,l:[6,0]};const Vw=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function zw(e){return Vw.test(e)}function Ww(e){const t=e.charCodeAt(0),r=e.charCodeAt(e.length-1);return t===r&&(t===34||t===39)?e.slice(1,-1):e}function Gw(e){if(e==null)return"o";switch(e.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return e;case 95:case 36:case 45:return"i";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"w"}return"i"}function Yw(e){const t=e.trim();return e.charAt(0)==="0"&&isNaN(parseInt(e))?!1:zw(t)?Ww(t):"*"+t}function Jw(e){const t=[];let r=-1,n=0,i=0,o,s,a,c,u,l,f;const h=[];h[0]=()=>{s===void 0?s=a:s+=a},h[1]=()=>{s!==void 0&&(t.push(s),s=void 0)},h[2]=()=>{h[0](),i++},h[3]=()=>{if(i>0)i--,n=4,h[0]();else{if(i=0,s===void 0||(s=Yw(s),s===!1))return!1;h[1]()}};function v(){const g=e[r+1];if(n===5&&g==="'"||n===6&&g==='"')return r++,a="\\"+g,h[0](),!0}for(;n!==null;)if(r++,o=e[r],!(o==="\\"&&v())){if(c=Gw(o),f=$n[n],u=f[c]||f.l||8,u===8||(n=u[0],u[1]!==void 0&&(l=h[u[1]],l&&(a=o,l()===!1))))return;if(n===7)return t}}const wd=new Map;function Ua(e,t){if(!ga(e))return null;let r=wd.get(t);if(r||(r=Jw(t),r&&wd.set(t,r)),!r)return null;const n=r.length;let i=e,o=0;for(;o<n;){const s=i[r[o]];if(s===void 0)return null;i=s,o++}return i}function pl(e){if(!ga(e))return e;for(const t in e)if(!!Hw(e,t))if(!t.includes("."))ga(e[t])&&pl(e[t]);else{const r=t.split("."),n=r.length-1;let i=e;for(let o=0;o<n;o++)r[o]in i||(i[r[o]]={}),i=i[r[o]];i[r[n]]=e[t],delete e[t],ga(i[r[n]])&&pl(i[r[n]])}return e}/*!
  * @intlify/runtime v9.1.9
  * (c) 2021 kazuya kawaguchi
  * Released under the MIT License.
  */const Qw=e=>e,Xw=e=>"",Zw="text",e_=e=>e.length===0?"":e.join(""),t_=$w;function _d(e,t){return e=Math.abs(e),t===2?e?e>1?1:0:1:e?Math.min(e,2):0}function r_(e){const t=ot(e.pluralIndex)?e.pluralIndex:-1;return e.named&&(ot(e.named.count)||ot(e.named.n))?ot(e.named.count)?e.named.count:ot(e.named.n)?e.named.n:t:t}function n_(e,t){t.count||(t.count=e),t.n||(t.n=e)}function i_(e={}){const t=e.locale,r=r_(e),n=Et(e.pluralRules)&&ge(t)&&_t(e.pluralRules[t])?e.pluralRules[t]:_d,i=Et(e.pluralRules)&&ge(t)&&_t(e.pluralRules[t])?_d:void 0,o=y=>y[n(r,y.length,i)],s=e.list||[],a=y=>s[y],c=e.named||{};ot(e.pluralIndex)&&n_(r,c);const u=y=>c[y];function l(y){const b=_t(e.messages)?e.messages(y):Et(e.messages)?e.messages[y]:!1;return b||(e.parent?e.parent.message(y):Xw)}const f=y=>e.modifiers?e.modifiers[y]:Qw,h=Te(e.processor)&&_t(e.processor.normalize)?e.processor.normalize:e_,v=Te(e.processor)&&_t(e.processor.interpolate)?e.processor.interpolate:t_,g=Te(e.processor)&&ge(e.processor.type)?e.processor.type:Zw,w={list:a,named:u,plural:o,linked:(y,b)=>{const _=l(y)(w);return ge(b)?f(b)(_):_},message:l,type:g,interpolate:v,normalize:h};return w}/*!
  * @intlify/message-compiler v9.1.9
  * (c) 2021 kazuya kawaguchi
  * Released under the MIT License.
  */function km(e,t,r={}){const{domain:n,messages:i,args:o}=r,s=e,a=new SyntaxError(String(s));return a.code=e,t&&(a.location=t),a.domain=n,a}/*!
  * @intlify/devtools-if v9.1.9
  * (c) 2021 kazuya kawaguchi
  * Released under the MIT License.
  */const Dm={I18nInit:"i18n:init",FunctionTranslate:"function:translate"};/*!
  * @intlify/core-base v9.1.9
  * (c) 2021 kazuya kawaguchi
  * Released under the MIT License.
  */let as=null;function o_(e){as=e}function s_(e,t,r){as&&as.emit(Dm.I18nInit,{timestamp:Date.now(),i18n:e,version:t,meta:r})}const a_=u_(Dm.FunctionTranslate);function u_(e){return t=>as&&as.emit(e,t)}const c_="9.1.9",Ou=-1,Sd="";function l_(){return{upper:e=>ge(e)?e.toUpperCase():e,lower:e=>ge(e)?e.toLowerCase():e,capitalize:e=>ge(e)?`${e.charAt(0).toLocaleUpperCase()}${e.substr(1)}`:e}}let f_,Um=null;const Ed=e=>{Um=e},h_=()=>Um;let Ad=0;function d_(e={}){const t=ge(e.version)?e.version:c_,r=ge(e.locale)?e.locale:"en-US",n=ht(e.fallbackLocale)||Te(e.fallbackLocale)||ge(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:r,i=Te(e.messages)?e.messages:{[r]:{}},o=Te(e.datetimeFormats)?e.datetimeFormats:{[r]:{}},s=Te(e.numberFormats)?e.numberFormats:{[r]:{}},a=St({},e.modifiers||{},l_()),c=e.pluralRules||{},u=_t(e.missing)?e.missing:null,l=Qe(e.missingWarn)||Da(e.missingWarn)?e.missingWarn:!0,f=Qe(e.fallbackWarn)||Da(e.fallbackWarn)?e.fallbackWarn:!0,h=!!e.fallbackFormat,v=!!e.unresolving,g=_t(e.postTranslation)?e.postTranslation:null,w=Te(e.processor)?e.processor:null,y=Qe(e.warnHtmlMessage)?e.warnHtmlMessage:!0,b=!!e.escapeParameter,_=_t(e.messageCompiler)?e.messageCompiler:f_,T=_t(e.onWarn)?e.onWarn:jw,A=e,x=Et(A.__datetimeFormatters)?A.__datetimeFormatters:new Map,R=Et(A.__numberFormatters)?A.__numberFormatters:new Map,k=Et(A.__meta)?A.__meta:{};Ad++;const U={version:t,cid:Ad,locale:r,fallbackLocale:n,messages:i,datetimeFormats:o,numberFormats:s,modifiers:a,pluralRules:c,missing:u,missingWarn:l,fallbackWarn:f,fallbackFormat:h,unresolving:v,postTranslation:g,processor:w,warnHtmlMessage:y,escapeParameter:b,messageCompiler:_,onWarn:T,__datetimeFormatters:x,__numberFormatters:R,__meta:k};return __INTLIFY_PROD_DEVTOOLS__&&s_(U,t,k),U}function Kf(e,t,r,n,i){const{missing:o,onWarn:s}=e;if(o!==null){const a=o(e,r,t,i);return ge(a)?a:t}else return t}function Is(e,t,r){const n=e;n.__localeChainCache||(n.__localeChainCache=new Map);let i=n.__localeChainCache.get(r);if(!i){i=[];let o=[r];for(;ht(o);)o=Td(i,o,t);const s=ht(t)?t:Te(t)?t.default?t.default:null:t;o=ge(s)?[s]:s,ht(o)&&Td(i,o,!1),n.__localeChainCache.set(r,i)}return i}function Td(e,t,r){let n=!0;for(let i=0;i<t.length&&Qe(n);i++){const o=t[i];ge(o)&&(n=p_(e,t[i],r))}return n}function p_(e,t,r){let n;const i=t.split("-");do{const o=i.join("-");n=v_(e,o,r),i.splice(-1,1)}while(i.length&&n===!0);return n}function v_(e,t,r){let n=!1;if(!e.includes(t)&&(n=!0,t)){n=t[t.length-1]!=="!";const i=t.replace(/!/g,"");e.push(i),(ht(r)||Te(r))&&r[i]&&(n=r[i])}return n}function Po(e,t,r){const n=e;n.__localeChainCache=new Map,Is(e,r,t)}function Qi(e){return km(e,null,void 0)}const Id=()=>"",Or=e=>_t(e);function xd(e,...t){const{fallbackFormat:r,postTranslation:n,unresolving:i,fallbackLocale:o,messages:s}=e,[a,c]=vl(...t),u=Qe(c.missingWarn)?c.missingWarn:e.missingWarn,l=Qe(c.fallbackWarn)?c.fallbackWarn:e.fallbackWarn,f=Qe(c.escapeParameter)?c.escapeParameter:e.escapeParameter,h=!!c.resolvedMessage,v=ge(c.default)||Qe(c.default)?Qe(c.default)?a:c.default:r?a:"",g=r||v!=="",w=ge(c.locale)?c.locale:e.locale;f&&g_(c);let[y,b,_]=h?[a,w,s[w]||{}]:m_(e,a,w,o,l,u),T=a;if(!h&&!(ge(y)||Or(y))&&g&&(y=v,T=y),!h&&(!(ge(y)||Or(y))||!ge(b)))return i?Ou:a;let A=!1;const x=()=>{A=!0},R=Or(y)?y:Fm(e,a,b,y,T,x);if(A)return y;const k=w_(e,b,_,c),U=i_(k),B=y_(e,R,U),N=n?n(B):B;if(__INTLIFY_PROD_DEVTOOLS__){const F={timestamp:Date.now(),key:ge(a)?a:Or(y)?y.key:"",locale:b||(Or(y)?y.locale:""),format:ge(y)?y:Or(y)?y.source:"",message:N};F.meta=St({},e.__meta,h_()||{}),a_(F)}return N}function g_(e){ht(e.list)?e.list=e.list.map(t=>ge(t)?bd(t):t):Et(e.named)&&Object.keys(e.named).forEach(t=>{ge(e.named[t])&&(e.named[t]=bd(e.named[t]))})}function m_(e,t,r,n,i,o){const{messages:s,onWarn:a}=e,c=Is(e,n,r);let u={},l,f=null;const h="translate";for(let v=0;v<c.length&&(l=c[v],u=s[l]||{},(f=Ua(u,t))===null&&(f=u[t]),!(ge(f)||_t(f)));v++){const g=Kf(e,t,l,o,h);g!==t&&(f=g)}return[f,l,u]}function Fm(e,t,r,n,i,o){const{messageCompiler:s,warnHtmlMessage:a}=e;if(Or(n)){const u=n;return u.locale=u.locale||r,u.key=u.key||t,u}const c=s(n,b_(e,r,i,n,a,o));return c.locale=r,c.key=t,c.source=n,c}function y_(e,t,r){return t(r)}function vl(...e){const[t,r,n]=e,i={};if(!ge(t)&&!ot(t)&&!Or(t))throw Qi(14);const o=ot(t)?String(t):(Or(t),t);return ot(r)?i.plural=r:ge(r)?i.default=r:Te(r)&&!Cu(r)?i.named=r:ht(r)&&(i.list=r),ot(n)?i.plural=n:ge(n)?i.default=n:Te(n)&&St(i,n),[o,i]}function b_(e,t,r,n,i,o){return{warnHtmlMessage:i,onError:s=>{throw o&&o(s),s},onCacheKey:s=>Fw(t,r,s)}}function w_(e,t,r,n){const{modifiers:i,pluralRules:o}=e,a={locale:t,modifiers:i,pluralRules:o,messages:c=>{const u=Ua(r,c);if(ge(u)){let l=!1;const h=Fm(e,c,t,u,c,()=>{l=!0});return l?Id:h}else return Or(u)?u:Id}};return e.processor&&(a.processor=e.processor),n.list&&(a.list=n.list),n.named&&(a.named=n.named),ot(n.plural)&&(a.pluralIndex=n.plural),a}function Cd(e,...t){const{datetimeFormats:r,unresolving:n,fallbackLocale:i,onWarn:o}=e,{__datetimeFormatters:s}=e,[a,c,u,l]=gl(...t),f=Qe(u.missingWarn)?u.missingWarn:e.missingWarn;Qe(u.fallbackWarn)?u.fallbackWarn:e.fallbackWarn;const h=!!u.part,v=ge(u.locale)?u.locale:e.locale,g=Is(e,i,v);if(!ge(a)||a==="")return new Intl.DateTimeFormat(v).format(c);let w={},y,b=null;const _="datetime format";for(let x=0;x<g.length&&(y=g[x],w=r[y]||{},b=w[a],!Te(b));x++)Kf(e,a,y,f,_);if(!Te(b)||!ge(y))return n?Ou:a;let T=`${y}__${a}`;Cu(l)||(T=`${T}__${JSON.stringify(l)}`);let A=s.get(T);return A||(A=new Intl.DateTimeFormat(y,St({},b,l)),s.set(T,A)),h?A.formatToParts(c):A.format(c)}function gl(...e){const[t,r,n,i]=e;let o={},s={},a;if(ge(t)){if(!/\d{4}-\d{2}-\d{2}(T.*)?/.test(t))throw Qi(16);a=new Date(t);try{a.toISOString()}catch{throw Qi(16)}}else if(Bw(t)){if(isNaN(t.getTime()))throw Qi(15);a=t}else if(ot(t))a=t;else throw Qi(14);return ge(r)?o.key=r:Te(r)&&(o=r),ge(n)?o.locale=n:Te(n)&&(s=n),Te(i)&&(s=i),[o.key||"",a,o,s]}function Od(e,t,r){const n=e;for(const i in r){const o=`${t}__${i}`;!n.__datetimeFormatters.has(o)||n.__datetimeFormatters.delete(o)}}function Pd(e,...t){const{numberFormats:r,unresolving:n,fallbackLocale:i,onWarn:o}=e,{__numberFormatters:s}=e,[a,c,u,l]=ml(...t),f=Qe(u.missingWarn)?u.missingWarn:e.missingWarn;Qe(u.fallbackWarn)?u.fallbackWarn:e.fallbackWarn;const h=!!u.part,v=ge(u.locale)?u.locale:e.locale,g=Is(e,i,v);if(!ge(a)||a==="")return new Intl.NumberFormat(v).format(c);let w={},y,b=null;const _="number format";for(let x=0;x<g.length&&(y=g[x],w=r[y]||{},b=w[a],!Te(b));x++)Kf(e,a,y,f,_);if(!Te(b)||!ge(y))return n?Ou:a;let T=`${y}__${a}`;Cu(l)||(T=`${T}__${JSON.stringify(l)}`);let A=s.get(T);return A||(A=new Intl.NumberFormat(y,St({},b,l)),s.set(T,A)),h?A.formatToParts(c):A.format(c)}function ml(...e){const[t,r,n,i]=e;let o={},s={};if(!ot(t))throw Qi(14);const a=t;return ge(r)?o.key=r:Te(r)&&(o=r),ge(n)?o.locale=n:Te(n)&&(s=n),Te(i)&&(s=i),[o.key||"",a,o,s]}function Nd(e,t,r){const n=e;for(const i in r){const o=`${t}__${i}`;!n.__numberFormatters.has(o)||n.__numberFormatters.delete(o)}}typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(qf().__INTLIFY_PROD_DEVTOOLS__=!1);function Hf(e,t){const r=Object.create(null),n=e.split(",");for(let i=0;i<n.length;i++)r[n[i]]=!0;return t?i=>!!r[i.toLowerCase()]:i=>!!r[i]}const __="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",S_=Hf(__);function Lm(e){return!!e||e===""}function Vf(e){if(be(e)){const t={};for(let r=0;r<e.length;r++){const n=e[r],i=rt(n)?T_(n):Vf(n);if(i)for(const o in i)t[o]=i[o]}return t}else{if(rt(e))return e;if(Ve(e))return e}}const E_=/;(?![^(]*\))/g,A_=/:(.+)/;function T_(e){const t={};return e.split(E_).forEach(r=>{if(r){const n=r.split(A_);n.length>1&&(t[n[0].trim()]=n[1].trim())}}),t}function zf(e){let t="";if(rt(e))t=e;else if(be(e))for(let r=0;r<e.length;r++){const n=zf(e[r]);n&&(t+=n+" ")}else if(Ve(e))for(const r in e)e[r]&&(t+=r+" ");return t.trim()}function I_(e,t){if(e.length!==t.length)return!1;let r=!0;for(let n=0;r&&n<e.length;n++)r=xs(e[n],t[n]);return r}function xs(e,t){if(e===t)return!0;let r=Rd(e),n=Rd(t);if(r||n)return r&&n?e.getTime()===t.getTime():!1;if(r=be(e),n=be(t),r||n)return r&&n?I_(e,t):!1;if(r=Ve(e),n=Ve(t),r||n){if(!r||!n)return!1;const i=Object.keys(e).length,o=Object.keys(t).length;if(i!==o)return!1;for(const s in e){const a=e.hasOwnProperty(s),c=t.hasOwnProperty(s);if(a&&!c||!a&&c||!xs(e[s],t[s]))return!1}}return String(e)===String(t)}function Wf(e,t){return e.findIndex(r=>xs(r,t))}const R3=e=>rt(e)?e:e==null?"":be(e)||Ve(e)&&(e.toString===qm||!Se(e.toString))?JSON.stringify(e,Bm,2):String(e),Bm=(e,t)=>t&&t.__v_isRef?Bm(e,t.value):ro(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((r,[n,i])=>(r[`${n} =>`]=i,r),{})}:wo(t)?{[`Set(${t.size})`]:[...t.values()]}:Ve(t)&&!be(t)&&!$m(t)?String(t):t,Ue={},to=[],_r=()=>{},x_=()=>!1,C_=/^on[^a-z]/,Cs=e=>C_.test(e),Gf=e=>e.startsWith("onUpdate:"),Tt=Object.assign,Yf=(e,t)=>{const r=e.indexOf(t);r>-1&&e.splice(r,1)},O_=Object.prototype.hasOwnProperty,xe=(e,t)=>O_.call(e,t),be=Array.isArray,ro=e=>Pu(e)==="[object Map]",wo=e=>Pu(e)==="[object Set]",Rd=e=>e instanceof Date,Se=e=>typeof e=="function",rt=e=>typeof e=="string",Jf=e=>typeof e=="symbol",Ve=e=>e!==null&&typeof e=="object",jm=e=>Ve(e)&&Se(e.then)&&Se(e.catch),qm=Object.prototype.toString,Pu=e=>qm.call(e),P_=e=>Pu(e).slice(8,-1),$m=e=>Pu(e)==="[object Object]",Qf=e=>rt(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Ho=Hf(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Nu=e=>{const t=Object.create(null);return r=>t[r]||(t[r]=e(r))},N_=/-(\w)/g,Ur=Nu(e=>e.replace(N_,(t,r)=>r?r.toUpperCase():"")),R_=/\B([A-Z])/g,Ei=Nu(e=>e.replace(R_,"-$1").toLowerCase()),Ru=Nu(e=>e.charAt(0).toUpperCase()+e.slice(1)),hc=Nu(e=>e?`on${Ru(e)}`:""),us=(e,t)=>!Object.is(e,t),ma=(e,t)=>{for(let r=0;r<e.length;r++)e[r](t)},Fa=(e,t,r)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:r})},La=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let Md;const M_=()=>Md||(Md=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});let zr;class Km{constructor(t=!1){this.active=!0,this.effects=[],this.cleanups=[],!t&&zr&&(this.parent=zr,this.index=(zr.scopes||(zr.scopes=[])).push(this)-1)}run(t){if(this.active)try{return zr=this,t()}finally{zr=this.parent}}on(){zr=this}off(){zr=this.parent}stop(t){if(this.active){let r,n;for(r=0,n=this.effects.length;r<n;r++)this.effects[r].stop();for(r=0,n=this.cleanups.length;r<n;r++)this.cleanups[r]();if(this.scopes)for(r=0,n=this.scopes.length;r<n;r++)this.scopes[r].stop(!0);if(this.parent&&!t){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.active=!1}}}function Hm(e){return new Km(e)}function k_(e,t=zr){t&&t.active&&t.effects.push(e)}const Xf=e=>{const t=new Set(e);return t.w=0,t.n=0,t},Vm=e=>(e.w&Ln)>0,zm=e=>(e.n&Ln)>0,D_=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=Ln},U_=e=>{const{deps:t}=e;if(t.length){let r=0;for(let n=0;n<t.length;n++){const i=t[n];Vm(i)&&!zm(i)?i.delete(e):t[r++]=i,i.w&=~Ln,i.n&=~Ln}t.length=r}},yl=new WeakMap;let Lo=0,Ln=1;const bl=30;let kr;const fi=Symbol(""),wl=Symbol("");class Zf{constructor(t,r=null,n){this.fn=t,this.scheduler=r,this.active=!0,this.deps=[],this.parent=void 0,k_(this,n)}run(){if(!this.active)return this.fn();let t=kr,r=Rn;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=kr,kr=this,Rn=!0,Ln=1<<++Lo,Lo<=bl?D_(this):kd(this),this.fn()}finally{Lo<=bl&&U_(this),Ln=1<<--Lo,kr=this.parent,Rn=r,this.parent=void 0}}stop(){this.active&&(kd(this),this.onStop&&this.onStop(),this.active=!1)}}function kd(e){const{deps:t}=e;if(t.length){for(let r=0;r<t.length;r++)t[r].delete(e);t.length=0}}let Rn=!0;const Wm=[];function _o(){Wm.push(Rn),Rn=!1}function So(){const e=Wm.pop();Rn=e===void 0?!0:e}function Jt(e,t,r){if(Rn&&kr){let n=yl.get(e);n||yl.set(e,n=new Map);let i=n.get(r);i||n.set(r,i=Xf()),Gm(i)}}function Gm(e,t){let r=!1;Lo<=bl?zm(e)||(e.n|=Ln,r=!Vm(e)):r=!e.has(kr),r&&(e.add(kr),kr.deps.push(e))}function sn(e,t,r,n,i,o){const s=yl.get(e);if(!s)return;let a=[];if(t==="clear")a=[...s.values()];else if(r==="length"&&be(e))s.forEach((c,u)=>{(u==="length"||u>=n)&&a.push(c)});else switch(r!==void 0&&a.push(s.get(r)),t){case"add":be(e)?Qf(r)&&a.push(s.get("length")):(a.push(s.get(fi)),ro(e)&&a.push(s.get(wl)));break;case"delete":be(e)||(a.push(s.get(fi)),ro(e)&&a.push(s.get(wl)));break;case"set":ro(e)&&a.push(s.get(fi));break}if(a.length===1)a[0]&&_l(a[0]);else{const c=[];for(const u of a)u&&c.push(...u);_l(Xf(c))}}function _l(e,t){for(const r of be(e)?e:[...e])(r!==kr||r.allowRecurse)&&(r.scheduler?r.scheduler():r.run())}const F_=Hf("__proto__,__v_isRef,__isVue"),Ym=new Set(Object.getOwnPropertyNames(Symbol).map(e=>Symbol[e]).filter(Jf)),L_=eh(),B_=eh(!1,!0),j_=eh(!0),Dd=q_();function q_(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...r){const n=Ce(this);for(let o=0,s=this.length;o<s;o++)Jt(n,"get",o+"");const i=n[t](...r);return i===-1||i===!1?n[t](...r.map(Ce)):i}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...r){_o();const n=Ce(this)[t].apply(this,r);return So(),n}}),e}function eh(e=!1,t=!1){return function(n,i,o){if(i==="__v_isReactive")return!e;if(i==="__v_isReadonly")return e;if(i==="__v_isShallow")return t;if(i==="__v_raw"&&o===(e?t?n1:ey:t?Zm:Xm).get(n))return n;const s=be(n);if(!e&&s&&xe(Dd,i))return Reflect.get(Dd,i,o);const a=Reflect.get(n,i,o);return(Jf(i)?Ym.has(i):F_(i))||(e||Jt(n,"get",i),t)?a:qe(a)?!s||!Qf(i)?a.value:a:Ve(a)?e?ty(a):Eo(a):a}}const $_=Jm(),K_=Jm(!0);function Jm(e=!1){return function(r,n,i,o){let s=r[n];if(cs(s)&&qe(s)&&!qe(i))return!1;if(!e&&!cs(i)&&(ry(i)||(i=Ce(i),s=Ce(s)),!be(r)&&qe(s)&&!qe(i)))return s.value=i,!0;const a=be(r)&&Qf(n)?Number(n)<r.length:xe(r,n),c=Reflect.set(r,n,i,o);return r===Ce(o)&&(a?us(i,s)&&sn(r,"set",n,i):sn(r,"add",n,i)),c}}function H_(e,t){const r=xe(e,t);e[t];const n=Reflect.deleteProperty(e,t);return n&&r&&sn(e,"delete",t,void 0),n}function V_(e,t){const r=Reflect.has(e,t);return(!Jf(t)||!Ym.has(t))&&Jt(e,"has",t),r}function z_(e){return Jt(e,"iterate",be(e)?"length":fi),Reflect.ownKeys(e)}const Qm={get:L_,set:$_,deleteProperty:H_,has:V_,ownKeys:z_},W_={get:j_,set(e,t){return!0},deleteProperty(e,t){return!0}},G_=Tt({},Qm,{get:B_,set:K_}),th=e=>e,Mu=e=>Reflect.getPrototypeOf(e);function Fs(e,t,r=!1,n=!1){e=e.__v_raw;const i=Ce(e),o=Ce(t);t!==o&&!r&&Jt(i,"get",t),!r&&Jt(i,"get",o);const{has:s}=Mu(i),a=n?th:r?ih:ls;if(s.call(i,t))return a(e.get(t));if(s.call(i,o))return a(e.get(o));e!==i&&e.get(t)}function Ls(e,t=!1){const r=this.__v_raw,n=Ce(r),i=Ce(e);return e!==i&&!t&&Jt(n,"has",e),!t&&Jt(n,"has",i),e===i?r.has(e):r.has(e)||r.has(i)}function Bs(e,t=!1){return e=e.__v_raw,!t&&Jt(Ce(e),"iterate",fi),Reflect.get(e,"size",e)}function Ud(e){e=Ce(e);const t=Ce(this);return Mu(t).has.call(t,e)||(t.add(e),sn(t,"add",e,e)),this}function Fd(e,t){t=Ce(t);const r=Ce(this),{has:n,get:i}=Mu(r);let o=n.call(r,e);o||(e=Ce(e),o=n.call(r,e));const s=i.call(r,e);return r.set(e,t),o?us(t,s)&&sn(r,"set",e,t):sn(r,"add",e,t),this}function Ld(e){const t=Ce(this),{has:r,get:n}=Mu(t);let i=r.call(t,e);i||(e=Ce(e),i=r.call(t,e)),n&&n.call(t,e);const o=t.delete(e);return i&&sn(t,"delete",e,void 0),o}function Bd(){const e=Ce(this),t=e.size!==0,r=e.clear();return t&&sn(e,"clear",void 0,void 0),r}function js(e,t){return function(n,i){const o=this,s=o.__v_raw,a=Ce(s),c=t?th:e?ih:ls;return!e&&Jt(a,"iterate",fi),s.forEach((u,l)=>n.call(i,c(u),c(l),o))}}function qs(e,t,r){return function(...n){const i=this.__v_raw,o=Ce(i),s=ro(o),a=e==="entries"||e===Symbol.iterator&&s,c=e==="keys"&&s,u=i[e](...n),l=r?th:t?ih:ls;return!t&&Jt(o,"iterate",c?wl:fi),{next(){const{value:f,done:h}=u.next();return h?{value:f,done:h}:{value:a?[l(f[0]),l(f[1])]:l(f),done:h}},[Symbol.iterator](){return this}}}}function fn(e){return function(...t){return e==="delete"?!1:this}}function Y_(){const e={get(o){return Fs(this,o)},get size(){return Bs(this)},has:Ls,add:Ud,set:Fd,delete:Ld,clear:Bd,forEach:js(!1,!1)},t={get(o){return Fs(this,o,!1,!0)},get size(){return Bs(this)},has:Ls,add:Ud,set:Fd,delete:Ld,clear:Bd,forEach:js(!1,!0)},r={get(o){return Fs(this,o,!0)},get size(){return Bs(this,!0)},has(o){return Ls.call(this,o,!0)},add:fn("add"),set:fn("set"),delete:fn("delete"),clear:fn("clear"),forEach:js(!0,!1)},n={get(o){return Fs(this,o,!0,!0)},get size(){return Bs(this,!0)},has(o){return Ls.call(this,o,!0)},add:fn("add"),set:fn("set"),delete:fn("delete"),clear:fn("clear"),forEach:js(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(o=>{e[o]=qs(o,!1,!1),r[o]=qs(o,!0,!1),t[o]=qs(o,!1,!0),n[o]=qs(o,!0,!0)}),[e,r,t,n]}const[J_,Q_,X_,Z_]=Y_();function rh(e,t){const r=t?e?Z_:X_:e?Q_:J_;return(n,i,o)=>i==="__v_isReactive"?!e:i==="__v_isReadonly"?e:i==="__v_raw"?n:Reflect.get(xe(r,i)&&i in n?r:n,i,o)}const e1={get:rh(!1,!1)},t1={get:rh(!1,!0)},r1={get:rh(!0,!1)},Xm=new WeakMap,Zm=new WeakMap,ey=new WeakMap,n1=new WeakMap;function i1(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function o1(e){return e.__v_skip||!Object.isExtensible(e)?0:i1(P_(e))}function Eo(e){return cs(e)?e:nh(e,!1,Qm,e1,Xm)}function s1(e){return nh(e,!1,G_,t1,Zm)}function ty(e){return nh(e,!0,W_,r1,ey)}function nh(e,t,r,n,i){if(!Ve(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const o=i.get(e);if(o)return o;const s=o1(e);if(s===0)return e;const a=new Proxy(e,s===2?n:r);return i.set(e,a),a}function Mn(e){return cs(e)?Mn(e.__v_raw):!!(e&&e.__v_isReactive)}function cs(e){return!!(e&&e.__v_isReadonly)}function ry(e){return!!(e&&e.__v_isShallow)}function ny(e){return Mn(e)||cs(e)}function Ce(e){const t=e&&e.__v_raw;return t?Ce(t):e}function co(e){return Fa(e,"__v_skip",!0),e}const ls=e=>Ve(e)?Eo(e):e,ih=e=>Ve(e)?ty(e):e;function iy(e){Rn&&kr&&(e=Ce(e),Gm(e.dep||(e.dep=Xf())))}function oy(e,t){e=Ce(e),e.dep&&_l(e.dep)}function qe(e){return!!(e&&e.__v_isRef===!0)}function Rr(e){return sy(e,!1)}function a1(e){return sy(e,!0)}function sy(e,t){return qe(e)?e:new u1(e,t)}class u1{constructor(t,r){this.__v_isShallow=r,this.dep=void 0,this.__v_isRef=!0,this._rawValue=r?t:Ce(t),this._value=r?t:ls(t)}get value(){return iy(this),this._value}set value(t){t=this.__v_isShallow?t:Ce(t),us(t,this._rawValue)&&(this._rawValue=t,this._value=this.__v_isShallow?t:ls(t),oy(this))}}function Vo(e){return qe(e)?e.value:e}const c1={get:(e,t,r)=>Vo(Reflect.get(e,t,r)),set:(e,t,r,n)=>{const i=e[t];return qe(i)&&!qe(r)?(i.value=r,!0):Reflect.set(e,t,r,n)}};function ay(e){return Mn(e)?e:new Proxy(e,c1)}function l1(e){const t=be(e)?new Array(e.length):{};for(const r in e)t[r]=h1(e,r);return t}class f1{constructor(t,r,n){this._object=t,this._key=r,this._defaultValue=n,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}}function h1(e,t,r){const n=e[t];return qe(n)?n:new f1(e,t,r)}class d1{constructor(t,r,n,i){this._setter=r,this.dep=void 0,this.__v_isRef=!0,this._dirty=!0,this.effect=new Zf(t,()=>{this._dirty||(this._dirty=!0,oy(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=n}get value(){const t=Ce(this);return iy(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function p1(e,t,r=!1){let n,i;const o=Se(e);return o?(n=e,i=_r):(n=e.get,i=e.set),new d1(n,i,o||!i,r)}Promise.resolve();function kn(e,t,r,n){let i;try{i=n?e(...n):e()}catch(o){ku(o,t,r)}return i}function Sr(e,t,r,n){if(Se(e)){const o=kn(e,t,r,n);return o&&jm(o)&&o.catch(s=>{ku(s,t,r)}),o}const i=[];for(let o=0;o<e.length;o++)i.push(Sr(e[o],t,r,n));return i}function ku(e,t,r,n=!0){const i=t?t.vnode:null;if(t){let o=t.parent;const s=t.proxy,a=r;for(;o;){const u=o.ec;if(u){for(let l=0;l<u.length;l++)if(u[l](e,s,a)===!1)return}o=o.parent}const c=t.appContext.config.errorHandler;if(c){kn(c,null,10,[e,s,a]);return}}v1(e,r,i,n)}function v1(e,t,r,n=!0){console.error(e)}let Ba=!1,Sl=!1;const Kt=[];let Zr=0;const zo=[];let Bo=null,Hi=0;const Wo=[];let bn=null,Vi=0;const uy=Promise.resolve();let oh=null,El=null;function sh(e){const t=oh||uy;return e?t.then(this?e.bind(this):e):t}function g1(e){let t=Zr+1,r=Kt.length;for(;t<r;){const n=t+r>>>1;fs(Kt[n])<e?t=n+1:r=n}return t}function cy(e){(!Kt.length||!Kt.includes(e,Ba&&e.allowRecurse?Zr+1:Zr))&&e!==El&&(e.id==null?Kt.push(e):Kt.splice(g1(e.id),0,e),ly())}function ly(){!Ba&&!Sl&&(Sl=!0,oh=uy.then(hy))}function m1(e){const t=Kt.indexOf(e);t>Zr&&Kt.splice(t,1)}function fy(e,t,r,n){be(e)?r.push(...e):(!t||!t.includes(e,e.allowRecurse?n+1:n))&&r.push(e),ly()}function y1(e){fy(e,Bo,zo,Hi)}function b1(e){fy(e,bn,Wo,Vi)}function ah(e,t=null){if(zo.length){for(El=t,Bo=[...new Set(zo)],zo.length=0,Hi=0;Hi<Bo.length;Hi++)Bo[Hi]();Bo=null,Hi=0,El=null,ah(e,t)}}function ja(e){if(Wo.length){const t=[...new Set(Wo)];if(Wo.length=0,bn){bn.push(...t);return}for(bn=t,bn.sort((r,n)=>fs(r)-fs(n)),Vi=0;Vi<bn.length;Vi++)bn[Vi]();bn=null,Vi=0}}const fs=e=>e.id==null?1/0:e.id;function hy(e){Sl=!1,Ba=!0,ah(e),Kt.sort((r,n)=>fs(r)-fs(n));const t=_r;try{for(Zr=0;Zr<Kt.length;Zr++){const r=Kt[Zr];r&&r.active!==!1&&kn(r,null,14)}}finally{Zr=0,Kt.length=0,ja(),Ba=!1,oh=null,(Kt.length||zo.length||Wo.length)&&hy(e)}}function w1(e,t,...r){const n=e.vnode.props||Ue;let i=r;const o=t.startsWith("update:"),s=o&&t.slice(7);if(s&&s in n){const l=`${s==="modelValue"?"model":s}Modifiers`,{number:f,trim:h}=n[l]||Ue;h?i=r.map(v=>v.trim()):f&&(i=r.map(La))}let a,c=n[a=hc(t)]||n[a=hc(Ur(t))];!c&&o&&(c=n[a=hc(Ei(t))]),c&&Sr(c,e,6,i);const u=n[a+"Once"];if(u){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,Sr(u,e,6,i)}}function dy(e,t,r=!1){const n=t.emitsCache,i=n.get(e);if(i!==void 0)return i;const o=e.emits;let s={},a=!1;if(!Se(e)){const c=u=>{const l=dy(u,t,!0);l&&(a=!0,Tt(s,l))};!r&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}return!o&&!a?(n.set(e,null),null):(be(o)?o.forEach(c=>s[c]=null):Tt(s,o),n.set(e,s),s)}function uh(e,t){return!e||!Cs(t)?!1:(t=t.slice(2).replace(/Once$/,""),xe(e,t[0].toLowerCase()+t.slice(1))||xe(e,Ei(t))||xe(e,t))}let Vt=null,py=null;function qa(e){const t=Vt;return Vt=e,py=e&&e.type.__scopeId||null,t}function _1(e,t=Vt,r){if(!t||e._n)return e;const n=(...i)=>{n._d&&Yd(-1);const o=qa(t),s=e(...i);return qa(o),n._d&&Yd(1),s};return n._n=!0,n._c=!0,n._d=!0,n}function dc(e){const{type:t,vnode:r,proxy:n,withProxy:i,props:o,propsOptions:[s],slots:a,attrs:c,emit:u,render:l,renderCache:f,data:h,setupState:v,ctx:g,inheritAttrs:w}=e;let y,b;const _=qa(e);try{if(r.shapeFlag&4){const A=i||n;y=wr(l.call(A,A,f,o,v,h,g)),b=c}else{const A=t;y=wr(A.length>1?A(o,{attrs:c,slots:a,emit:u}):A(o,null)),b=t.props?c:S1(c)}}catch(A){Yo.length=0,ku(A,e,1),y=Xe(an)}let T=y;if(b&&w!==!1){const A=Object.keys(b),{shapeFlag:x}=T;A.length&&x&7&&(s&&A.some(Gf)&&(b=E1(b,s)),T=hs(T,b))}return r.dirs&&(T.dirs=T.dirs?T.dirs.concat(r.dirs):r.dirs),r.transition&&(T.transition=r.transition),y=T,qa(_),y}const S1=e=>{let t;for(const r in e)(r==="class"||r==="style"||Cs(r))&&((t||(t={}))[r]=e[r]);return t},E1=(e,t)=>{const r={};for(const n in e)(!Gf(n)||!(n.slice(9)in t))&&(r[n]=e[n]);return r};function A1(e,t,r){const{props:n,children:i,component:o}=e,{props:s,children:a,patchFlag:c}=t,u=o.emitsOptions;if(t.dirs||t.transition)return!0;if(r&&c>=0){if(c&1024)return!0;if(c&16)return n?jd(n,s,u):!!s;if(c&8){const l=t.dynamicProps;for(let f=0;f<l.length;f++){const h=l[f];if(s[h]!==n[h]&&!uh(u,h))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:n===s?!1:n?s?jd(n,s,u):!0:!!s;return!1}function jd(e,t,r){const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!0;for(let i=0;i<n.length;i++){const o=n[i];if(t[o]!==e[o]&&!uh(r,o))return!0}return!1}function T1({vnode:e,parent:t},r){for(;t&&t.subTree===e;)(e=t.vnode).el=r,t=t.parent}const I1=e=>e.__isSuspense;function vy(e,t){t&&t.pendingBranch?be(e)?t.effects.push(...e):t.effects.push(e):b1(e)}function ya(e,t){if(tt){let r=tt.provides;const n=tt.parent&&tt.parent.provides;n===r&&(r=tt.provides=Object.create(n)),r[e]=t}}function Yt(e,t,r=!1){const n=tt||Vt;if(n){const i=n.parent==null?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides;if(i&&e in i)return i[e];if(arguments.length>1)return r&&Se(t)?t.call(n.proxy):t}}function x1(e,t){return ch(e,null,t)}const qd={};function hi(e,t,r){return ch(e,t,r)}function ch(e,t,{immediate:r,deep:n,flush:i,onTrack:o,onTrigger:s}=Ue){const a=tt;let c,u=!1,l=!1;if(qe(e)?(c=()=>e.value,u=ry(e)):Mn(e)?(c=()=>e,n=!0):be(e)?(l=!0,u=e.some(Mn),c=()=>e.map(b=>{if(qe(b))return b.value;if(Mn(b))return ui(b);if(Se(b))return kn(b,a,2)})):Se(e)?t?c=()=>kn(e,a,2):c=()=>{if(!(a&&a.isUnmounted))return f&&f(),Sr(e,a,3,[h])}:c=_r,t&&n){const b=c;c=()=>ui(b())}let f,h=b=>{f=y.onStop=()=>{kn(b,a,4)}};if(ds)return h=_r,t?r&&Sr(t,a,3,[c(),l?[]:void 0,h]):c(),_r;let v=l?[]:qd;const g=()=>{if(!!y.active)if(t){const b=y.run();(n||u||(l?b.some((_,T)=>us(_,v[T])):us(b,v)))&&(f&&f(),Sr(t,a,3,[b,v===qd?void 0:v,h]),v=b)}else y.run()};g.allowRecurse=!!t;let w;i==="sync"?w=g:i==="post"?w=()=>Dt(g,a&&a.suspense):w=()=>{!a||a.isMounted?y1(g):g()};const y=new Zf(c,w);return t?r?g():v=y.run():i==="post"?Dt(y.run.bind(y),a&&a.suspense):y.run(),()=>{y.stop(),a&&a.scope&&Yf(a.scope.effects,y)}}function C1(e,t,r){const n=this.proxy,i=rt(e)?e.includes(".")?gy(n,e):()=>n[e]:e.bind(n,n);let o;Se(t)?o=t:(o=t.handler,r=t);const s=tt;lo(this);const a=ch(i,o.bind(n),r);return s?lo(s):pi(),a}function gy(e,t){const r=t.split(".");return()=>{let n=e;for(let i=0;i<r.length&&n;i++)n=n[r[i]];return n}}function ui(e,t){if(!Ve(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),qe(e))ui(e.value,t);else if(be(e))for(let r=0;r<e.length;r++)ui(e[r],t);else if(wo(e)||ro(e))e.forEach(r=>{ui(r,t)});else if($m(e))for(const r in e)ui(e[r],t);return e}function lh(e){return Se(e)?{setup:e,name:e.name}:e}const $a=e=>!!e.type.__asyncLoader,my=e=>e.type.__isKeepAlive;function O1(e,t){yy(e,"a",t)}function P1(e,t){yy(e,"da",t)}function yy(e,t,r=tt){const n=e.__wdc||(e.__wdc=()=>{let i=r;for(;i;){if(i.isDeactivated)return;i=i.parent}return e()});if(Du(t,n,r),r){let i=r.parent;for(;i&&i.parent;)my(i.parent.vnode)&&N1(n,t,r,i),i=i.parent}}function N1(e,t,r,n){const i=Du(t,e,n,!0);Uu(()=>{Yf(n[t],i)},r)}function Du(e,t,r=tt,n=!1){if(r){const i=r[e]||(r[e]=[]),o=t.__weh||(t.__weh=(...s)=>{if(r.isUnmounted)return;_o(),lo(r);const a=Sr(t,r,e,s);return pi(),So(),a});return n?i.unshift(o):i.push(o),o}}const ln=e=>(t,r=tt)=>(!ds||e==="sp")&&Du(e,t,r),R1=ln("bm"),fh=ln("m"),M1=ln("bu"),k1=ln("u"),by=ln("bum"),Uu=ln("um"),D1=ln("sp"),U1=ln("rtg"),F1=ln("rtc");function L1(e,t=tt){Du("ec",e,t)}let Al=!0;function B1(e){const t=_y(e),r=e.proxy,n=e.ctx;Al=!1,t.beforeCreate&&$d(t.beforeCreate,e,"bc");const{data:i,computed:o,methods:s,watch:a,provide:c,inject:u,created:l,beforeMount:f,mounted:h,beforeUpdate:v,updated:g,activated:w,deactivated:y,beforeDestroy:b,beforeUnmount:_,destroyed:T,unmounted:A,render:x,renderTracked:R,renderTriggered:k,errorCaptured:U,serverPrefetch:B,expose:N,inheritAttrs:F,components:L,directives:I,filters:P}=t;if(u&&j1(u,n,null,e.appContext.config.unwrapInjectedRef),s)for(const K in s){const G=s[K];Se(G)&&(n[K]=G.bind(r))}if(i){const K=i.call(r,r);Ve(K)&&(e.data=Eo(K))}if(Al=!0,o)for(const K in o){const G=o[K],q=Se(G)?G.bind(r,r):Se(G.get)?G.get.bind(r,r):_r,z=!Se(G)&&Se(G.set)?G.set.bind(r):_r,Y=lt({get:q,set:z});Object.defineProperty(n,K,{enumerable:!0,configurable:!0,get:()=>Y.value,set:X=>Y.value=X})}if(a)for(const K in a)wy(a[K],n,r,K);if(c){const K=Se(c)?c.call(r):c;Reflect.ownKeys(K).forEach(G=>{ya(G,K[G])})}l&&$d(l,e,"c");function j(K,G){be(G)?G.forEach(q=>K(q.bind(r))):G&&K(G.bind(r))}if(j(R1,f),j(fh,h),j(M1,v),j(k1,g),j(O1,w),j(P1,y),j(L1,U),j(F1,R),j(U1,k),j(by,_),j(Uu,A),j(D1,B),be(N))if(N.length){const K=e.exposed||(e.exposed={});N.forEach(G=>{Object.defineProperty(K,G,{get:()=>r[G],set:q=>r[G]=q})})}else e.exposed||(e.exposed={});x&&e.render===_r&&(e.render=x),F!=null&&(e.inheritAttrs=F),L&&(e.components=L),I&&(e.directives=I)}function j1(e,t,r=_r,n=!1){be(e)&&(e=Tl(e));for(const i in e){const o=e[i];let s;Ve(o)?"default"in o?s=Yt(o.from||i,o.default,!0):s=Yt(o.from||i):s=Yt(o),qe(s)&&n?Object.defineProperty(t,i,{enumerable:!0,configurable:!0,get:()=>s.value,set:a=>s.value=a}):t[i]=s}}function $d(e,t,r){Sr(be(e)?e.map(n=>n.bind(t.proxy)):e.bind(t.proxy),t,r)}function wy(e,t,r,n){const i=n.includes(".")?gy(r,n):()=>r[n];if(rt(e)){const o=t[e];Se(o)&&hi(i,o)}else if(Se(e))hi(i,e.bind(r));else if(Ve(e))if(be(e))e.forEach(o=>wy(o,t,r,n));else{const o=Se(e.handler)?e.handler.bind(r):t[e.handler];Se(o)&&hi(i,o,e)}}function _y(e){const t=e.type,{mixins:r,extends:n}=t,{mixins:i,optionsCache:o,config:{optionMergeStrategies:s}}=e.appContext,a=o.get(t);let c;return a?c=a:!i.length&&!r&&!n?c=t:(c={},i.length&&i.forEach(u=>Ka(c,u,s,!0)),Ka(c,t,s)),o.set(t,c),c}function Ka(e,t,r,n=!1){const{mixins:i,extends:o}=t;o&&Ka(e,o,r,!0),i&&i.forEach(s=>Ka(e,s,r,!0));for(const s in t)if(!(n&&s==="expose")){const a=q1[s]||r&&r[s];e[s]=a?a(e[s],t[s]):t[s]}return e}const q1={data:Kd,props:ri,emits:ri,methods:ri,computed:ri,beforeCreate:gt,created:gt,beforeMount:gt,mounted:gt,beforeUpdate:gt,updated:gt,beforeDestroy:gt,beforeUnmount:gt,destroyed:gt,unmounted:gt,activated:gt,deactivated:gt,errorCaptured:gt,serverPrefetch:gt,components:ri,directives:ri,watch:K1,provide:Kd,inject:$1};function Kd(e,t){return t?e?function(){return Tt(Se(e)?e.call(this,this):e,Se(t)?t.call(this,this):t)}:t:e}function $1(e,t){return ri(Tl(e),Tl(t))}function Tl(e){if(be(e)){const t={};for(let r=0;r<e.length;r++)t[e[r]]=e[r];return t}return e}function gt(e,t){return e?[...new Set([].concat(e,t))]:t}function ri(e,t){return e?Tt(Tt(Object.create(null),e),t):t}function K1(e,t){if(!e)return t;if(!t)return e;const r=Tt(Object.create(null),e);for(const n in t)r[n]=gt(e[n],t[n]);return r}function H1(e,t,r,n=!1){const i={},o={};Fa(o,Fu,1),e.propsDefaults=Object.create(null),Sy(e,t,i,o);for(const s in e.propsOptions[0])s in i||(i[s]=void 0);r?e.props=n?i:s1(i):e.type.props?e.props=i:e.props=o,e.attrs=o}function V1(e,t,r,n){const{props:i,attrs:o,vnode:{patchFlag:s}}=e,a=Ce(i),[c]=e.propsOptions;let u=!1;if((n||s>0)&&!(s&16)){if(s&8){const l=e.vnode.dynamicProps;for(let f=0;f<l.length;f++){let h=l[f];const v=t[h];if(c)if(xe(o,h))v!==o[h]&&(o[h]=v,u=!0);else{const g=Ur(h);i[g]=Il(c,a,g,v,e,!1)}else v!==o[h]&&(o[h]=v,u=!0)}}}else{Sy(e,t,i,o)&&(u=!0);let l;for(const f in a)(!t||!xe(t,f)&&((l=Ei(f))===f||!xe(t,l)))&&(c?r&&(r[f]!==void 0||r[l]!==void 0)&&(i[f]=Il(c,a,f,void 0,e,!0)):delete i[f]);if(o!==a)for(const f in o)(!t||!xe(t,f)&&!0)&&(delete o[f],u=!0)}u&&sn(e,"set","$attrs")}function Sy(e,t,r,n){const[i,o]=e.propsOptions;let s=!1,a;if(t)for(let c in t){if(Ho(c))continue;const u=t[c];let l;i&&xe(i,l=Ur(c))?!o||!o.includes(l)?r[l]=u:(a||(a={}))[l]=u:uh(e.emitsOptions,c)||(!(c in n)||u!==n[c])&&(n[c]=u,s=!0)}if(o){const c=Ce(r),u=a||Ue;for(let l=0;l<o.length;l++){const f=o[l];r[f]=Il(i,c,f,u[f],e,!xe(u,f))}}return s}function Il(e,t,r,n,i,o){const s=e[r];if(s!=null){const a=xe(s,"default");if(a&&n===void 0){const c=s.default;if(s.type!==Function&&Se(c)){const{propsDefaults:u}=i;r in u?n=u[r]:(lo(i),n=u[r]=c.call(null,t),pi())}else n=c}s[0]&&(o&&!a?n=!1:s[1]&&(n===""||n===Ei(r))&&(n=!0))}return n}function Ey(e,t,r=!1){const n=t.propsCache,i=n.get(e);if(i)return i;const o=e.props,s={},a=[];let c=!1;if(!Se(e)){const l=f=>{c=!0;const[h,v]=Ey(f,t,!0);Tt(s,h),v&&a.push(...v)};!r&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}if(!o&&!c)return n.set(e,to),to;if(be(o))for(let l=0;l<o.length;l++){const f=Ur(o[l]);Hd(f)&&(s[f]=Ue)}else if(o)for(const l in o){const f=Ur(l);if(Hd(f)){const h=o[l],v=s[f]=be(h)||Se(h)?{type:h}:h;if(v){const g=Wd(Boolean,v.type),w=Wd(String,v.type);v[0]=g>-1,v[1]=w<0||g<w,(g>-1||xe(v,"default"))&&a.push(f)}}}const u=[s,a];return n.set(e,u),u}function Hd(e){return e[0]!=="$"}function Vd(e){const t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:e===null?"null":""}function zd(e,t){return Vd(e)===Vd(t)}function Wd(e,t){return be(t)?t.findIndex(r=>zd(r,e)):Se(t)&&zd(t,e)?0:-1}const Ay=e=>e[0]==="_"||e==="$stable",hh=e=>be(e)?e.map(wr):[wr(e)],z1=(e,t,r)=>{const n=_1((...i)=>hh(t(...i)),r);return n._c=!1,n},Ty=(e,t,r)=>{const n=e._ctx;for(const i in e){if(Ay(i))continue;const o=e[i];if(Se(o))t[i]=z1(i,o,n);else if(o!=null){const s=hh(o);t[i]=()=>s}}},Iy=(e,t)=>{const r=hh(t);e.slots.default=()=>r},W1=(e,t)=>{if(e.vnode.shapeFlag&32){const r=t._;r?(e.slots=Ce(t),Fa(t,"_",r)):Ty(t,e.slots={})}else e.slots={},t&&Iy(e,t);Fa(e.slots,Fu,1)},G1=(e,t,r)=>{const{vnode:n,slots:i}=e;let o=!0,s=Ue;if(n.shapeFlag&32){const a=t._;a?r&&a===1?o=!1:(Tt(i,t),!r&&a===1&&delete i._):(o=!t.$stable,Ty(t,i)),s=t}else t&&(Iy(e,t),s={default:1});if(o)for(const a in i)!Ay(a)&&!(a in s)&&delete i[a]};function M3(e,t){const r=Vt;if(r===null)return e;const n=r.proxy,i=e.dirs||(e.dirs=[]);for(let o=0;o<t.length;o++){let[s,a,c,u=Ue]=t[o];Se(s)&&(s={mounted:s,updated:s}),s.deep&&ui(a),i.push({dir:s,instance:n,value:a,oldValue:void 0,arg:c,modifiers:u})}return e}function Cr(e,t,r,n){const i=e.dirs,o=t&&t.dirs;for(let s=0;s<i.length;s++){const a=i[s];o&&(a.oldValue=o[s].value);let c=a.dir[n];c&&(_o(),Sr(c,r,8,[e.el,a,e,t]),So())}}function xy(){return{app:null,config:{isNativeTag:x_,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Y1=0;function J1(e,t){return function(n,i=null){i!=null&&!Ve(i)&&(i=null);const o=xy(),s=new Set;let a=!1;const c=o.app={_uid:Y1++,_component:n,_props:i,_container:null,_context:o,_instance:null,version:yS,get config(){return o.config},set config(u){},use(u,...l){return s.has(u)||(u&&Se(u.install)?(s.add(u),u.install(c,...l)):Se(u)&&(s.add(u),u(c,...l))),c},mixin(u){return o.mixins.includes(u)||o.mixins.push(u),c},component(u,l){return l?(o.components[u]=l,c):o.components[u]},directive(u,l){return l?(o.directives[u]=l,c):o.directives[u]},mount(u,l,f){if(!a){const h=Xe(n,i);return h.appContext=o,l&&t?t(h,u):e(h,u,f),a=!0,c._container=u,u.__vue_app__=c,ph(h.component)||h.component.proxy}},unmount(){a&&(e(null,c._container),delete c._container.__vue_app__)},provide(u,l){return o.provides[u]=l,c}};return c}}function Ha(e,t,r,n,i=!1){if(be(e)){e.forEach((h,v)=>Ha(h,t&&(be(t)?t[v]:t),r,n,i));return}if($a(n)&&!i)return;const o=n.shapeFlag&4?ph(n.component)||n.component.proxy:n.el,s=i?null:o,{i:a,r:c}=e,u=t&&t.r,l=a.refs===Ue?a.refs={}:a.refs,f=a.setupState;if(u!=null&&u!==c&&(rt(u)?(l[u]=null,xe(f,u)&&(f[u]=null)):qe(u)&&(u.value=null)),Se(c))kn(c,a,12,[s,l]);else{const h=rt(c),v=qe(c);if(h||v){const g=()=>{if(e.f){const w=h?l[c]:c.value;i?be(w)&&Yf(w,o):be(w)?w.includes(o)||w.push(o):h?l[c]=[o]:(c.value=[o],e.k&&(l[e.k]=c.value))}else h?(l[c]=s,xe(f,c)&&(f[c]=s)):qe(c)&&(c.value=s,e.k&&(l[e.k]=s))};s?(g.id=-1,Dt(g,r)):g()}}}let hn=!1;const $s=e=>/svg/.test(e.namespaceURI)&&e.tagName!=="foreignObject",pc=e=>e.nodeType===8;function Q1(e){const{mt:t,p:r,o:{patchProp:n,nextSibling:i,parentNode:o,remove:s,insert:a,createComment:c}}=e,u=(y,b)=>{if(!b.hasChildNodes()){r(null,y,b),ja();return}hn=!1,l(b.firstChild,y,null,null,null),ja(),hn&&console.error("Hydration completed but contains mismatches.")},l=(y,b,_,T,A,x=!1)=>{const R=pc(y)&&y.data==="[",k=()=>g(y,b,_,T,A,R),{type:U,ref:B,shapeFlag:N}=b,F=y.nodeType;b.el=y;let L=null;switch(U){case mi:F!==3?L=k():(y.data!==b.children&&(hn=!0,y.data=b.children),L=i(y));break;case an:F!==8||R?L=k():L=i(y);break;case Go:if(F!==1)L=k();else{L=y;const I=!b.children.length;for(let P=0;P<b.staticCount;P++)I&&(b.children+=L.outerHTML),P===b.staticCount-1&&(b.anchor=L),L=i(L);return L}break;case bt:R?L=v(y,b,_,T,A,x):L=k();break;default:if(N&1)F!==1||b.type.toLowerCase()!==y.tagName.toLowerCase()?L=k():L=f(y,b,_,T,A,x);else if(N&6){b.slotScopeIds=A;const I=o(y);if(t(b,I,null,_,T,$s(I),x),L=R?w(y):i(y),$a(b)){let P;R?(P=Xe(bt),P.anchor=L?L.previousSibling:I.lastChild):P=y.nodeType===3?Uy(""):Xe("div"),P.el=y,b.component.subTree=P}}else N&64?F!==8?L=k():L=b.type.hydrate(y,b,_,T,A,x,e,h):N&128&&(L=b.type.hydrate(y,b,_,T,$s(o(y)),A,x,e,l))}return B!=null&&Ha(B,null,T,b),L},f=(y,b,_,T,A,x)=>{x=x||!!b.dynamicChildren;const{type:R,props:k,patchFlag:U,shapeFlag:B,dirs:N}=b,F=R==="input"&&N||R==="option";if(F||U!==-1){if(N&&Cr(b,null,_,"created"),k)if(F||!x||U&48)for(const I in k)(F&&I.endsWith("value")||Cs(I)&&!Ho(I))&&n(y,I,null,k[I],!1,void 0,_);else k.onClick&&n(y,"onClick",null,k.onClick,!1,void 0,_);let L;if((L=k&&k.onVnodeBeforeMount)&&or(L,_,b),N&&Cr(b,null,_,"beforeMount"),((L=k&&k.onVnodeMounted)||N)&&vy(()=>{L&&or(L,_,b),N&&Cr(b,null,_,"mounted")},T),B&16&&!(k&&(k.innerHTML||k.textContent))){let I=h(y.firstChild,b,y,_,T,A,x);for(;I;){hn=!0;const P=I;I=I.nextSibling,s(P)}}else B&8&&y.textContent!==b.children&&(hn=!0,y.textContent=b.children)}return y.nextSibling},h=(y,b,_,T,A,x,R)=>{R=R||!!b.dynamicChildren;const k=b.children,U=k.length;for(let B=0;B<U;B++){const N=R?k[B]:k[B]=wr(k[B]);if(y)y=l(y,N,T,A,x,R);else{if(N.type===mi&&!N.children)continue;hn=!0,r(null,N,_,null,T,A,$s(_),x)}}return y},v=(y,b,_,T,A,x)=>{const{slotScopeIds:R}=b;R&&(A=A?A.concat(R):R);const k=o(y),U=h(i(y),b,k,_,T,A,x);return U&&pc(U)&&U.data==="]"?i(b.anchor=U):(hn=!0,a(b.anchor=c("]"),k,U),U)},g=(y,b,_,T,A,x)=>{if(hn=!0,b.el=null,x){const U=w(y);for(;;){const B=i(y);if(B&&B!==U)s(B);else break}}const R=i(y),k=o(y);return s(y),r(null,b,k,R,_,T,$s(k),A),R},w=y=>{let b=0;for(;y;)if(y=i(y),y&&pc(y)&&(y.data==="["&&b++,y.data==="]")){if(b===0)return i(y);b--}return y};return[u,l]}const Dt=vy;function X1(e){return Cy(e)}function Z1(e){return Cy(e,Q1)}function Cy(e,t){const r=M_();r.__VUE__=!0;const{insert:n,remove:i,patchProp:o,createElement:s,createText:a,createComment:c,setText:u,setElementText:l,parentNode:f,nextSibling:h,setScopeId:v=_r,cloneNode:g,insertStaticContent:w}=e,y=(D,$,Q,O=null,S=null,d=null,p=!1,m=null,E=!!$.dynamicChildren)=>{if(D===$)return;D&&!No(D,$)&&(O=se(D),te(D,S,d,!0),D=null),$.patchFlag===-2&&(E=!1,$.dynamicChildren=null);const{type:C,ref:H,shapeFlag:V}=$;switch(C){case mi:b(D,$,Q,O);break;case an:_(D,$,Q,O);break;case Go:D==null&&T($,Q,O,p);break;case bt:I(D,$,Q,O,S,d,p,m,E);break;default:V&1?R(D,$,Q,O,S,d,p,m,E):V&6?P(D,$,Q,O,S,d,p,m,E):(V&64||V&128)&&C.process(D,$,Q,O,S,d,p,m,E,ye)}H!=null&&S&&Ha(H,D&&D.ref,d,$||D,!$)},b=(D,$,Q,O)=>{if(D==null)n($.el=a($.children),Q,O);else{const S=$.el=D.el;$.children!==D.children&&u(S,$.children)}},_=(D,$,Q,O)=>{D==null?n($.el=c($.children||""),Q,O):$.el=D.el},T=(D,$,Q,O)=>{[D.el,D.anchor]=w(D.children,$,Q,O,D.el,D.anchor)},A=({el:D,anchor:$},Q,O)=>{let S;for(;D&&D!==$;)S=h(D),n(D,Q,O),D=S;n($,Q,O)},x=({el:D,anchor:$})=>{let Q;for(;D&&D!==$;)Q=h(D),i(D),D=Q;i($)},R=(D,$,Q,O,S,d,p,m,E)=>{p=p||$.type==="svg",D==null?k($,Q,O,S,d,p,m,E):N(D,$,S,d,p,m,E)},k=(D,$,Q,O,S,d,p,m)=>{let E,C;const{type:H,props:V,shapeFlag:ie,transition:ce,patchFlag:fe,dirs:we}=D;if(D.el&&g!==void 0&&fe===-1)E=D.el=g(D.el);else{if(E=D.el=s(D.type,d,V&&V.is,V),ie&8?l(E,D.children):ie&16&&B(D.children,E,null,O,S,d&&H!=="foreignObject",p,m),we&&Cr(D,null,O,"created"),V){for(const Ie in V)Ie!=="value"&&!Ho(Ie)&&o(E,Ie,null,V[Ie],d,D.children,O,S,re);"value"in V&&o(E,"value",null,V.value),(C=V.onVnodeBeforeMount)&&or(C,O,D)}U(E,D,D.scopeId,p,O)}we&&Cr(D,null,O,"beforeMount");const me=(!S||S&&!S.pendingBranch)&&ce&&!ce.persisted;me&&ce.beforeEnter(E),n(E,$,Q),((C=V&&V.onVnodeMounted)||me||we)&&Dt(()=>{C&&or(C,O,D),me&&ce.enter(E),we&&Cr(D,null,O,"mounted")},S)},U=(D,$,Q,O,S)=>{if(Q&&v(D,Q),O)for(let d=0;d<O.length;d++)v(D,O[d]);if(S){let d=S.subTree;if($===d){const p=S.vnode;U(D,p,p.scopeId,p.slotScopeIds,S.parent)}}},B=(D,$,Q,O,S,d,p,m,E=0)=>{for(let C=E;C<D.length;C++){const H=D[C]=m?En(D[C]):wr(D[C]);y(null,H,$,Q,O,S,d,p,m)}},N=(D,$,Q,O,S,d,p)=>{const m=$.el=D.el;let{patchFlag:E,dynamicChildren:C,dirs:H}=$;E|=D.patchFlag&16;const V=D.props||Ue,ie=$.props||Ue;let ce;Q&&Hn(Q,!1),(ce=ie.onVnodeBeforeUpdate)&&or(ce,Q,$,D),H&&Cr($,D,Q,"beforeUpdate"),Q&&Hn(Q,!0);const fe=S&&$.type!=="foreignObject";if(C?F(D.dynamicChildren,C,m,Q,O,fe,d):p||q(D,$,m,null,Q,O,fe,d,!1),E>0){if(E&16)L(m,$,V,ie,Q,O,S);else if(E&2&&V.class!==ie.class&&o(m,"class",null,ie.class,S),E&4&&o(m,"style",V.style,ie.style,S),E&8){const we=$.dynamicProps;for(let me=0;me<we.length;me++){const Ie=we[me],xt=V[Ie],Br=ie[Ie];(Br!==xt||Ie==="value")&&o(m,Ie,xt,Br,S,D.children,Q,O,re)}}E&1&&D.children!==$.children&&l(m,$.children)}else!p&&C==null&&L(m,$,V,ie,Q,O,S);((ce=ie.onVnodeUpdated)||H)&&Dt(()=>{ce&&or(ce,Q,$,D),H&&Cr($,D,Q,"updated")},O)},F=(D,$,Q,O,S,d,p)=>{for(let m=0;m<$.length;m++){const E=D[m],C=$[m],H=E.el&&(E.type===bt||!No(E,C)||E.shapeFlag&70)?f(E.el):Q;y(E,C,H,null,O,S,d,p,!0)}},L=(D,$,Q,O,S,d,p)=>{if(Q!==O){for(const m in O){if(Ho(m))continue;const E=O[m],C=Q[m];E!==C&&m!=="value"&&o(D,m,C,E,p,$.children,S,d,re)}if(Q!==Ue)for(const m in Q)!Ho(m)&&!(m in O)&&o(D,m,Q[m],null,p,$.children,S,d,re);"value"in O&&o(D,"value",Q.value,O.value)}},I=(D,$,Q,O,S,d,p,m,E)=>{const C=$.el=D?D.el:a(""),H=$.anchor=D?D.anchor:a("");let{patchFlag:V,dynamicChildren:ie,slotScopeIds:ce}=$;ce&&(m=m?m.concat(ce):ce),D==null?(n(C,Q,O),n(H,Q,O),B($.children,Q,H,S,d,p,m,E)):V>0&&V&64&&ie&&D.dynamicChildren?(F(D.dynamicChildren,ie,Q,S,d,p,m),($.key!=null||S&&$===S.subTree)&&Oy(D,$,!0)):q(D,$,Q,H,S,d,p,m,E)},P=(D,$,Q,O,S,d,p,m,E)=>{$.slotScopeIds=m,D==null?$.shapeFlag&512?S.ctx.activate($,Q,O,p,E):M($,Q,O,S,d,p,E):j(D,$,E)},M=(D,$,Q,O,S,d,p)=>{const m=D.component=fS(D,O,S);if(my(D)&&(m.ctx.renderer=ye),hS(m),m.asyncDep){if(S&&S.registerDep(m,K),!D.el){const E=m.subTree=Xe(an);_(null,E,$,Q)}return}K(m,D,$,Q,S,d,p)},j=(D,$,Q)=>{const O=$.component=D.component;if(A1(D,$,Q))if(O.asyncDep&&!O.asyncResolved){G(O,$,Q);return}else O.next=$,m1(O.update),O.update();else $.component=D.component,$.el=D.el,O.vnode=$},K=(D,$,Q,O,S,d,p)=>{const m=()=>{if(D.isMounted){let{next:H,bu:V,u:ie,parent:ce,vnode:fe}=D,we=H,me;Hn(D,!1),H?(H.el=fe.el,G(D,H,p)):H=fe,V&&ma(V),(me=H.props&&H.props.onVnodeBeforeUpdate)&&or(me,ce,H,fe),Hn(D,!0);const Ie=dc(D),xt=D.subTree;D.subTree=Ie,y(xt,Ie,f(xt.el),se(xt),D,S,d),H.el=Ie.el,we===null&&T1(D,Ie.el),ie&&Dt(ie,S),(me=H.props&&H.props.onVnodeUpdated)&&Dt(()=>or(me,ce,H,fe),S)}else{let H;const{el:V,props:ie}=$,{bm:ce,m:fe,parent:we}=D,me=$a($);if(Hn(D,!1),ce&&ma(ce),!me&&(H=ie&&ie.onVnodeBeforeMount)&&or(H,we,$),Hn(D,!0),V&&le){const Ie=()=>{D.subTree=dc(D),le(V,D.subTree,D,S,null)};me?$.type.__asyncLoader().then(()=>!D.isUnmounted&&Ie()):Ie()}else{const Ie=D.subTree=dc(D);y(null,Ie,Q,O,D,S,d),$.el=Ie.el}if(fe&&Dt(fe,S),!me&&(H=ie&&ie.onVnodeMounted)){const Ie=$;Dt(()=>or(H,we,Ie),S)}$.shapeFlag&256&&D.a&&Dt(D.a,S),D.isMounted=!0,$=Q=O=null}},E=D.effect=new Zf(m,()=>cy(D.update),D.scope),C=D.update=E.run.bind(E);C.id=D.uid,Hn(D,!0),C()},G=(D,$,Q)=>{$.component=D;const O=D.vnode.props;D.vnode=$,D.next=null,V1(D,$.props,O,Q),G1(D,$.children,Q),_o(),ah(void 0,D.update),So()},q=(D,$,Q,O,S,d,p,m,E=!1)=>{const C=D&&D.children,H=D?D.shapeFlag:0,V=$.children,{patchFlag:ie,shapeFlag:ce}=$;if(ie>0){if(ie&128){Y(C,V,Q,O,S,d,p,m,E);return}else if(ie&256){z(C,V,Q,O,S,d,p,m,E);return}}ce&8?(H&16&&re(C,S,d),V!==C&&l(Q,V)):H&16?ce&16?Y(C,V,Q,O,S,d,p,m,E):re(C,S,d,!0):(H&8&&l(Q,""),ce&16&&B(V,Q,O,S,d,p,m,E))},z=(D,$,Q,O,S,d,p,m,E)=>{D=D||to,$=$||to;const C=D.length,H=$.length,V=Math.min(C,H);let ie;for(ie=0;ie<V;ie++){const ce=$[ie]=E?En($[ie]):wr($[ie]);y(D[ie],ce,Q,null,S,d,p,m,E)}C>H?re(D,S,d,!0,!1,V):B($,Q,O,S,d,p,m,E,V)},Y=(D,$,Q,O,S,d,p,m,E)=>{let C=0;const H=$.length;let V=D.length-1,ie=H-1;for(;C<=V&&C<=ie;){const ce=D[C],fe=$[C]=E?En($[C]):wr($[C]);if(No(ce,fe))y(ce,fe,Q,null,S,d,p,m,E);else break;C++}for(;C<=V&&C<=ie;){const ce=D[V],fe=$[ie]=E?En($[ie]):wr($[ie]);if(No(ce,fe))y(ce,fe,Q,null,S,d,p,m,E);else break;V--,ie--}if(C>V){if(C<=ie){const ce=ie+1,fe=ce<H?$[ce].el:O;for(;C<=ie;)y(null,$[C]=E?En($[C]):wr($[C]),Q,fe,S,d,p,m,E),C++}}else if(C>ie)for(;C<=V;)te(D[C],S,d,!0),C++;else{const ce=C,fe=C,we=new Map;for(C=fe;C<=ie;C++){const Lt=$[C]=E?En($[C]):wr($[C]);Lt.key!=null&&we.set(Lt.key,C)}let me,Ie=0;const xt=ie-fe+1;let Br=!1,dd=0;const Oo=new Array(xt);for(C=0;C<xt;C++)Oo[C]=0;for(C=ce;C<=V;C++){const Lt=D[C];if(Ie>=xt){te(Lt,S,d,!0);continue}let Tr;if(Lt.key!=null)Tr=we.get(Lt.key);else for(me=fe;me<=ie;me++)if(Oo[me-fe]===0&&No(Lt,$[me])){Tr=me;break}Tr===void 0?te(Lt,S,d,!0):(Oo[Tr-fe]=C+1,Tr>=dd?dd=Tr:Br=!0,y(Lt,$[Tr],Q,null,S,d,p,m,E),Ie++)}const pd=Br?eS(Oo):to;for(me=pd.length-1,C=xt-1;C>=0;C--){const Lt=fe+C,Tr=$[Lt],vd=Lt+1<H?$[Lt+1].el:O;Oo[C]===0?y(null,Tr,Q,vd,S,d,p,m,E):Br&&(me<0||C!==pd[me]?X(Tr,Q,vd,2):me--)}}},X=(D,$,Q,O,S=null)=>{const{el:d,type:p,transition:m,children:E,shapeFlag:C}=D;if(C&6){X(D.component.subTree,$,Q,O);return}if(C&128){D.suspense.move($,Q,O);return}if(C&64){p.move(D,$,Q,ye);return}if(p===bt){n(d,$,Q);for(let V=0;V<E.length;V++)X(E[V],$,Q,O);n(D.anchor,$,Q);return}if(p===Go){A(D,$,Q);return}if(O!==2&&C&1&&m)if(O===0)m.beforeEnter(d),n(d,$,Q),Dt(()=>m.enter(d),S);else{const{leave:V,delayLeave:ie,afterLeave:ce}=m,fe=()=>n(d,$,Q),we=()=>{V(d,()=>{fe(),ce&&ce()})};ie?ie(d,fe,we):we()}else n(d,$,Q)},te=(D,$,Q,O=!1,S=!1)=>{const{type:d,props:p,ref:m,children:E,dynamicChildren:C,shapeFlag:H,patchFlag:V,dirs:ie}=D;if(m!=null&&Ha(m,null,Q,D,!0),H&256){$.ctx.deactivate(D);return}const ce=H&1&&ie,fe=!$a(D);let we;if(fe&&(we=p&&p.onVnodeBeforeUnmount)&&or(we,$,D),H&6)ee(D.component,Q,O);else{if(H&128){D.suspense.unmount(Q,O);return}ce&&Cr(D,null,$,"beforeUnmount"),H&64?D.type.remove(D,$,Q,S,ye,O):C&&(d!==bt||V>0&&V&64)?re(C,$,Q,!1,!0):(d===bt&&V&384||!S&&H&16)&&re(E,$,Q),O&&W(D)}(fe&&(we=p&&p.onVnodeUnmounted)||ce)&&Dt(()=>{we&&or(we,$,D),ce&&Cr(D,null,$,"unmounted")},Q)},W=D=>{const{type:$,el:Q,anchor:O,transition:S}=D;if($===bt){J(Q,O);return}if($===Go){x(D);return}const d=()=>{i(Q),S&&!S.persisted&&S.afterLeave&&S.afterLeave()};if(D.shapeFlag&1&&S&&!S.persisted){const{leave:p,delayLeave:m}=S,E=()=>p(Q,d);m?m(D.el,d,E):E()}else d()},J=(D,$)=>{let Q;for(;D!==$;)Q=h(D),i(D),D=Q;i($)},ee=(D,$,Q)=>{const{bum:O,scope:S,update:d,subTree:p,um:m}=D;O&&ma(O),S.stop(),d&&(d.active=!1,te(p,D,$,Q)),m&&Dt(m,$),Dt(()=>{D.isUnmounted=!0},$),$&&$.pendingBranch&&!$.isUnmounted&&D.asyncDep&&!D.asyncResolved&&D.suspenseId===$.pendingId&&($.deps--,$.deps===0&&$.resolve())},re=(D,$,Q,O=!1,S=!1,d=0)=>{for(let p=d;p<D.length;p++)te(D[p],$,Q,O,S)},se=D=>D.shapeFlag&6?se(D.component.subTree):D.shapeFlag&128?D.suspense.next():h(D.anchor||D.el),ve=(D,$,Q)=>{D==null?$._vnode&&te($._vnode,null,null,!0):y($._vnode||null,D,$,null,null,null,Q),ja(),$._vnode=D},ye={p:y,um:te,m:X,r:W,mt:M,mc:B,pc:q,pbc:F,n:se,o:e};let he,le;return t&&([he,le]=t(ye)),{render:ve,hydrate:he,createApp:J1(ve,he)}}function Hn({effect:e,update:t},r){e.allowRecurse=t.allowRecurse=r}function Oy(e,t,r=!1){const n=e.children,i=t.children;if(be(n)&&be(i))for(let o=0;o<n.length;o++){const s=n[o];let a=i[o];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[o]=En(i[o]),a.el=s.el),r||Oy(s,a))}}function eS(e){const t=e.slice(),r=[0];let n,i,o,s,a;const c=e.length;for(n=0;n<c;n++){const u=e[n];if(u!==0){if(i=r[r.length-1],e[i]<u){t[n]=i,r.push(n);continue}for(o=0,s=r.length-1;o<s;)a=o+s>>1,e[r[a]]<u?o=a+1:s=a;u<e[r[o]]&&(o>0&&(t[n]=r[o-1]),r[o]=n)}}for(o=r.length,s=r[o-1];o-- >0;)r[o]=s,s=t[s];return r}const tS=e=>e.__isTeleport,Py="components";function k3(e,t){return nS(Py,e,!0,t)||e}const rS=Symbol();function nS(e,t,r=!0,n=!1){const i=Vt||tt;if(i){const o=i.type;if(e===Py){const a=gS(o);if(a&&(a===t||a===Ur(t)||a===Ru(Ur(t))))return o}const s=Gd(i[e]||o[e],t)||Gd(i.appContext[e],t);return!s&&n?o:s}}function Gd(e,t){return e&&(e[t]||e[Ur(t)]||e[Ru(Ur(t))])}const bt=Symbol(void 0),mi=Symbol(void 0),an=Symbol(void 0),Go=Symbol(void 0),Yo=[];let di=null;function Ny(e=!1){Yo.push(di=e?null:[])}function iS(){Yo.pop(),di=Yo[Yo.length-1]||null}let Va=1;function Yd(e){Va+=e}function Ry(e){return e.dynamicChildren=Va>0?di||to:null,iS(),Va>0&&di&&di.push(e),e}function D3(e,t,r,n,i,o){return Ry(Dy(e,t,r,n,i,o,!0))}function My(e,t,r,n,i){return Ry(Xe(e,t,r,n,i,!0))}function za(e){return e?e.__v_isVNode===!0:!1}function No(e,t){return e.type===t.type&&e.key===t.key}const Fu="__vInternal",ky=({key:e})=>e!=null?e:null,ba=({ref:e,ref_key:t,ref_for:r})=>e!=null?rt(e)||qe(e)||Se(e)?{i:Vt,r:e,k:t,f:!!r}:e:null;function Dy(e,t=null,r=null,n=0,i=null,o=e===bt?0:1,s=!1,a=!1){const c={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&ky(t),ref:t&&ba(t),scopeId:py,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:n,dynamicProps:i,dynamicChildren:null,appContext:null};return a?(dh(c,r),o&128&&e.normalize(c)):r&&(c.shapeFlag|=rt(r)?8:16),Va>0&&!s&&di&&(c.patchFlag>0||o&6)&&c.patchFlag!==32&&di.push(c),c}const Xe=oS;function oS(e,t=null,r=null,n=0,i=null,o=!1){if((!e||e===rS)&&(e=an),za(e)){const a=hs(e,t,!0);return r&&dh(a,r),a}if(mS(e)&&(e=e.__vccOpts),t){t=sS(t);let{class:a,style:c}=t;a&&!rt(a)&&(t.class=zf(a)),Ve(c)&&(ny(c)&&!be(c)&&(c=Tt({},c)),t.style=Vf(c))}const s=rt(e)?1:I1(e)?128:tS(e)?64:Ve(e)?4:Se(e)?2:0;return Dy(e,t,r,n,i,s,o,!0)}function sS(e){return e?ny(e)||Fu in e?Tt({},e):e:null}function hs(e,t,r=!1){const{props:n,ref:i,patchFlag:o,children:s}=e,a=t?aS(n||{},t):n;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:a,key:a&&ky(a),ref:t&&t.ref?r&&i?be(i)?i.concat(ba(t)):[i,ba(t)]:ba(t):i,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:s,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==bt?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&hs(e.ssContent),ssFallback:e.ssFallback&&hs(e.ssFallback),el:e.el,anchor:e.anchor}}function Uy(e=" ",t=0){return Xe(mi,null,e,t)}function U3(e,t){const r=Xe(Go,null,e);return r.staticCount=t,r}function F3(e="",t=!1){return t?(Ny(),My(an,null,e)):Xe(an,null,e)}function wr(e){return e==null||typeof e=="boolean"?Xe(an):be(e)?Xe(bt,null,e.slice()):typeof e=="object"?En(e):Xe(mi,null,String(e))}function En(e){return e.el===null||e.memo?e:hs(e)}function dh(e,t){let r=0;const{shapeFlag:n}=e;if(t==null)t=null;else if(be(t))r=16;else if(typeof t=="object")if(n&65){const i=t.default;i&&(i._c&&(i._d=!1),dh(e,i()),i._c&&(i._d=!0));return}else{r=32;const i=t._;!i&&!(Fu in t)?t._ctx=Vt:i===3&&Vt&&(Vt.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Se(t)?(t={default:t,_ctx:Vt},r=32):(t=String(t),n&64?(r=16,t=[Uy(t)]):r=8);e.children=t,e.shapeFlag|=r}function aS(...e){const t={};for(let r=0;r<e.length;r++){const n=e[r];for(const i in n)if(i==="class")t.class!==n.class&&(t.class=zf([t.class,n.class]));else if(i==="style")t.style=Vf([t.style,n.style]);else if(Cs(i)){const o=t[i],s=n[i];s&&o!==s&&!(be(o)&&o.includes(s))&&(t[i]=o?[].concat(o,s):s)}else i!==""&&(t[i]=n[i])}return t}function or(e,t,r,n=null){Sr(e,t,7,[r,n])}function L3(e,t,r,n){let i;const o=r&&r[n];if(be(e)||rt(e)){i=new Array(e.length);for(let s=0,a=e.length;s<a;s++)i[s]=t(e[s],s,void 0,o&&o[s])}else if(typeof e=="number"){i=new Array(e);for(let s=0;s<e;s++)i[s]=t(s+1,s,void 0,o&&o[s])}else if(Ve(e))if(e[Symbol.iterator])i=Array.from(e,(s,a)=>t(s,a,void 0,o&&o[a]));else{const s=Object.keys(e);i=new Array(s.length);for(let a=0,c=s.length;a<c;a++){const u=s[a];i[a]=t(e[u],u,a,o&&o[a])}}else i=[];return r&&(r[n]=i),i}function B3(e,t,r={},n,i){if(Vt.isCE)return Xe("slot",t==="default"?null:{name:t},n&&n());let o=e[t];o&&o._c&&(o._d=!1),Ny();const s=o&&Fy(o(r)),a=My(bt,{key:r.key||`_${t}`},s||(n?n():[]),s&&e._===1?64:-2);return!i&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),o&&o._c&&(o._d=!0),a}function Fy(e){return e.some(t=>za(t)?!(t.type===an||t.type===bt&&!Fy(t.children)):!0)?e:null}const xl=e=>e?Ly(e)?ph(e)||e.proxy:xl(e.parent):null,Wa=Tt(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>xl(e.parent),$root:e=>xl(e.root),$emit:e=>e.emit,$options:e=>_y(e),$forceUpdate:e=>()=>cy(e.update),$nextTick:e=>sh.bind(e.proxy),$watch:e=>C1.bind(e)}),uS={get({_:e},t){const{ctx:r,setupState:n,data:i,props:o,accessCache:s,type:a,appContext:c}=e;let u;if(t[0]!=="$"){const v=s[t];if(v!==void 0)switch(v){case 1:return n[t];case 2:return i[t];case 4:return r[t];case 3:return o[t]}else{if(n!==Ue&&xe(n,t))return s[t]=1,n[t];if(i!==Ue&&xe(i,t))return s[t]=2,i[t];if((u=e.propsOptions[0])&&xe(u,t))return s[t]=3,o[t];if(r!==Ue&&xe(r,t))return s[t]=4,r[t];Al&&(s[t]=0)}}const l=Wa[t];let f,h;if(l)return t==="$attrs"&&Jt(e,"get",t),l(e);if((f=a.__cssModules)&&(f=f[t]))return f;if(r!==Ue&&xe(r,t))return s[t]=4,r[t];if(h=c.config.globalProperties,xe(h,t))return h[t]},set({_:e},t,r){const{data:n,setupState:i,ctx:o}=e;if(i!==Ue&&xe(i,t))i[t]=r;else if(n!==Ue&&xe(n,t))n[t]=r;else if(xe(e.props,t))return!1;return t[0]==="$"&&t.slice(1)in e?!1:(o[t]=r,!0)},has({_:{data:e,setupState:t,accessCache:r,ctx:n,appContext:i,propsOptions:o}},s){let a;return!!r[s]||e!==Ue&&xe(e,s)||t!==Ue&&xe(t,s)||(a=o[0])&&xe(a,s)||xe(n,s)||xe(Wa,s)||xe(i.config.globalProperties,s)}},cS=xy();let lS=0;function fS(e,t,r){const n=e.type,i=(t?t.appContext:e.appContext)||cS,o={uid:lS++,vnode:e,type:n,parent:t,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new Km(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Ey(n,i),emitsOptions:dy(n,i),emit:null,emitted:null,propsDefaults:Ue,inheritAttrs:n.inheritAttrs,ctx:Ue,data:Ue,props:Ue,attrs:Ue,slots:Ue,refs:Ue,setupState:Ue,setupContext:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=t?t.root:o,o.emit=w1.bind(null,o),e.ce&&e.ce(o),o}let tt=null;const Os=()=>tt||Vt,lo=e=>{tt=e,e.scope.on()},pi=()=>{tt&&tt.scope.off(),tt=null};function Ly(e){return e.vnode.shapeFlag&4}let ds=!1;function hS(e,t=!1){ds=t;const{props:r,children:n}=e.vnode,i=Ly(e);H1(e,r,i,t),W1(e,n);const o=i?dS(e,t):void 0;return ds=!1,o}function dS(e,t){const r=e.type;e.accessCache=Object.create(null),e.proxy=co(new Proxy(e.ctx,uS));const{setup:n}=r;if(n){const i=e.setupContext=n.length>1?vS(e):null;lo(e),_o();const o=kn(n,e,0,[e.props,i]);if(So(),pi(),jm(o)){if(o.then(pi,pi),t)return o.then(s=>{Jd(e,s,t)}).catch(s=>{ku(s,e,0)});e.asyncDep=o}else Jd(e,o,t)}else By(e,t)}function Jd(e,t,r){Se(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Ve(t)&&(e.setupState=ay(t)),By(e,r)}let Qd;function By(e,t,r){const n=e.type;if(!e.render){if(!t&&Qd&&!n.render){const i=n.template;if(i){const{isCustomElement:o,compilerOptions:s}=e.appContext.config,{delimiters:a,compilerOptions:c}=n,u=Tt(Tt({isCustomElement:o,delimiters:a},s),c);n.render=Qd(i,u)}}e.render=n.render||_r}lo(e),_o(),B1(e),So(),pi()}function pS(e){return new Proxy(e.attrs,{get(t,r){return Jt(e,"get","$attrs"),t[r]}})}function vS(e){const t=n=>{e.exposed=n||{}};let r;return{get attrs(){return r||(r=pS(e))},slots:e.slots,emit:e.emit,expose:t}}function ph(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(ay(co(e.exposed)),{get(t,r){if(r in t)return t[r];if(r in Wa)return Wa[r](e)}}))}function gS(e){return Se(e)&&e.displayName||e.name}function mS(e){return Se(e)&&"__vccOpts"in e}const lt=(e,t)=>p1(e,t,ds);function Dn(e,t,r){const n=arguments.length;return n===2?Ve(t)&&!be(t)?za(t)?Xe(e,null,[t]):Xe(e,t):Xe(e,null,t):(n>3?r=Array.prototype.slice.call(arguments,2):n===3&&za(r)&&(r=[r]),Xe(e,t,r))}const yS="3.2.30",bS="http://www.w3.org/2000/svg",oi=typeof document!="undefined"?document:null,Xd=oi&&oi.createElement("template"),wS={insert:(e,t,r)=>{t.insertBefore(e,r||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,r,n)=>{const i=t?oi.createElementNS(bS,e):oi.createElement(e,r?{is:r}:void 0);return e==="select"&&n&&n.multiple!=null&&i.setAttribute("multiple",n.multiple),i},createText:e=>oi.createTextNode(e),createComment:e=>oi.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>oi.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},cloneNode(e){const t=e.cloneNode(!0);return"_value"in e&&(t._value=e._value),t},insertStaticContent(e,t,r,n,i,o){const s=r?r.previousSibling:t.lastChild;if(i&&(i===o||i.nextSibling))for(;t.insertBefore(i.cloneNode(!0),r),!(i===o||!(i=i.nextSibling)););else{Xd.innerHTML=n?`<svg>${e}</svg>`:e;const a=Xd.content;if(n){const c=a.firstChild;for(;c.firstChild;)a.appendChild(c.firstChild);a.removeChild(c)}t.insertBefore(a,r)}return[s?s.nextSibling:t.firstChild,r?r.previousSibling:t.lastChild]}};function _S(e,t,r){const n=e._vtc;n&&(t=(t?[t,...n]:[...n]).join(" ")),t==null?e.removeAttribute("class"):r?e.setAttribute("class",t):e.className=t}function SS(e,t,r){const n=e.style,i=rt(r);if(r&&!i){for(const o in r)Cl(n,o,r[o]);if(t&&!rt(t))for(const o in t)r[o]==null&&Cl(n,o,"")}else{const o=n.display;i?t!==r&&(n.cssText=r):t&&e.removeAttribute("style"),"_vod"in e&&(n.display=o)}}const Zd=/\s*!important$/;function Cl(e,t,r){if(be(r))r.forEach(n=>Cl(e,t,n));else if(t.startsWith("--"))e.setProperty(t,r);else{const n=ES(e,t);Zd.test(r)?e.setProperty(Ei(n),r.replace(Zd,""),"important"):e[n]=r}}const ep=["Webkit","Moz","ms"],vc={};function ES(e,t){const r=vc[t];if(r)return r;let n=Ur(t);if(n!=="filter"&&n in e)return vc[t]=n;n=Ru(n);for(let i=0;i<ep.length;i++){const o=ep[i]+n;if(o in e)return vc[t]=o}return t}const tp="http://www.w3.org/1999/xlink";function AS(e,t,r,n,i){if(n&&t.startsWith("xlink:"))r==null?e.removeAttributeNS(tp,t.slice(6,t.length)):e.setAttributeNS(tp,t,r);else{const o=S_(t);r==null||o&&!Lm(r)?e.removeAttribute(t):e.setAttribute(t,o?"":r)}}function TS(e,t,r,n,i,o,s){if(t==="innerHTML"||t==="textContent"){n&&s(n,i,o),e[t]=r==null?"":r;return}if(t==="value"&&e.tagName!=="PROGRESS"&&!e.tagName.includes("-")){e._value=r;const a=r==null?"":r;(e.value!==a||e.tagName==="OPTION")&&(e.value=a),r==null&&e.removeAttribute(t);return}if(r===""||r==null){const a=typeof e[t];if(a==="boolean"){e[t]=Lm(r);return}else if(r==null&&a==="string"){e[t]="",e.removeAttribute(t);return}else if(a==="number"){try{e[t]=0}catch{}e.removeAttribute(t);return}}try{e[t]=r}catch{}}let Ga=Date.now,jy=!1;if(typeof window!="undefined"){Ga()>document.createEvent("Event").timeStamp&&(Ga=()=>performance.now());const e=navigator.userAgent.match(/firefox\/(\d+)/i);jy=!!(e&&Number(e[1])<=53)}let Ol=0;const IS=Promise.resolve(),xS=()=>{Ol=0},CS=()=>Ol||(IS.then(xS),Ol=Ga());function On(e,t,r,n){e.addEventListener(t,r,n)}function OS(e,t,r,n){e.removeEventListener(t,r,n)}function PS(e,t,r,n,i=null){const o=e._vei||(e._vei={}),s=o[t];if(n&&s)s.value=n;else{const[a,c]=NS(t);if(n){const u=o[t]=RS(n,i);On(e,a,u,c)}else s&&(OS(e,a,s,c),o[t]=void 0)}}const rp=/(?:Once|Passive|Capture)$/;function NS(e){let t;if(rp.test(e)){t={};let r;for(;r=e.match(rp);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[Ei(e.slice(2)),t]}function RS(e,t){const r=n=>{const i=n.timeStamp||Ga();(jy||i>=r.attached-1)&&Sr(MS(n,r.value),t,5,[n])};return r.value=e,r.attached=CS(),r}function MS(e,t){if(be(t)){const r=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{r.call(e),e._stopped=!0},t.map(n=>i=>!i._stopped&&n&&n(i))}else return t}const np=/^on[a-z]/,kS=(e,t,r,n,i=!1,o,s,a,c)=>{t==="class"?_S(e,n,i):t==="style"?SS(e,r,n):Cs(t)?Gf(t)||PS(e,t,r,n,s):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):DS(e,t,n,i))?TS(e,t,n,o,s,a,c):(t==="true-value"?e._trueValue=n:t==="false-value"&&(e._falseValue=n),AS(e,t,n,i))};function DS(e,t,r,n){return n?!!(t==="innerHTML"||t==="textContent"||t in e&&np.test(t)&&Se(r)):t==="spellcheck"||t==="draggable"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||np.test(t)&&rt(r)?!1:t in e}const fo=e=>{const t=e.props["onUpdate:modelValue"];return be(t)?r=>ma(t,r):t};function US(e){e.target.composing=!0}function ip(e){const t=e.target;t.composing&&(t.composing=!1,FS(t,"input"))}function FS(e,t){const r=document.createEvent("HTMLEvents");r.initEvent(t,!0,!0),e.dispatchEvent(r)}const j3={created(e,{modifiers:{lazy:t,trim:r,number:n}},i){e._assign=fo(i);const o=n||i.props&&i.props.type==="number";On(e,t?"change":"input",s=>{if(s.target.composing)return;let a=e.value;r?a=a.trim():o&&(a=La(a)),e._assign(a)}),r&&On(e,"change",()=>{e.value=e.value.trim()}),t||(On(e,"compositionstart",US),On(e,"compositionend",ip),On(e,"change",ip))},mounted(e,{value:t}){e.value=t==null?"":t},beforeUpdate(e,{value:t,modifiers:{lazy:r,trim:n,number:i}},o){if(e._assign=fo(o),e.composing||document.activeElement===e&&(r||n&&e.value.trim()===t||(i||e.type==="number")&&La(e.value)===t))return;const s=t==null?"":t;e.value!==s&&(e.value=s)}},q3={deep:!0,created(e,t,r){e._assign=fo(r),On(e,"change",()=>{const n=e._modelValue,i=ps(e),o=e.checked,s=e._assign;if(be(n)){const a=Wf(n,i),c=a!==-1;if(o&&!c)s(n.concat(i));else if(!o&&c){const u=[...n];u.splice(a,1),s(u)}}else if(wo(n)){const a=new Set(n);o?a.add(i):a.delete(i),s(a)}else s(qy(e,o))})},mounted:op,beforeUpdate(e,t,r){e._assign=fo(r),op(e,t,r)}};function op(e,{value:t,oldValue:r},n){e._modelValue=t,be(t)?e.checked=Wf(t,n.props.value)>-1:wo(t)?e.checked=t.has(n.props.value):t!==r&&(e.checked=xs(t,qy(e,!0)))}const $3={deep:!0,created(e,{value:t,modifiers:{number:r}},n){const i=wo(t);On(e,"change",()=>{const o=Array.prototype.filter.call(e.options,s=>s.selected).map(s=>r?La(ps(s)):ps(s));e._assign(e.multiple?i?new Set(o):o:o[0])}),e._assign=fo(n)},mounted(e,{value:t}){sp(e,t)},beforeUpdate(e,t,r){e._assign=fo(r)},updated(e,{value:t}){sp(e,t)}};function sp(e,t){const r=e.multiple;if(!(r&&!be(t)&&!wo(t))){for(let n=0,i=e.options.length;n<i;n++){const o=e.options[n],s=ps(o);if(r)be(t)?o.selected=Wf(t,s)>-1:o.selected=t.has(s);else if(xs(ps(o),t)){e.selectedIndex!==n&&(e.selectedIndex=n);return}}!r&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function ps(e){return"_value"in e?e._value:e.value}function qy(e,t){const r=t?"_trueValue":"_falseValue";return r in e?e[r]:t}const LS={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},K3=(e,t)=>r=>{if(!("key"in r))return;const n=Ei(r.key);if(t.some(i=>i===n||LS[i]===n))return e(r)},$y=Tt({patchProp:kS},wS);let Jo,ap=!1;function BS(){return Jo||(Jo=X1($y))}function jS(){return Jo=ap?Jo:Z1($y),ap=!0,Jo}const qS=(...e)=>{const t=BS().createApp(...e),{mount:r}=t;return t.mount=n=>{const i=Ky(n);if(!i)return;const o=t._component;!Se(o)&&!o.render&&!o.template&&(o.template=i.innerHTML),i.innerHTML="";const s=r(i,!1,i instanceof SVGElement);return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),s},t},$S=(...e)=>{const t=jS().createApp(...e),{mount:r}=t;return t.mount=n=>{const i=Ky(n);if(i)return r(i,!0,i instanceof SVGElement)},t};function Ky(e){return rt(e)?document.querySelector(e):e}/*!
  * vue-i18n v9.1.9
  * (c) 2021 kazuya kawaguchi
  * Released under the MIT License.
  */const KS="9.1.9";function HS(){typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(qf().__INTLIFY_PROD_DEVTOOLS__=!1)}function fr(e,...t){return km(e,null,void 0)}const gc="__INTLIFY_META__",Pl=cn("__transrateVNode"),Nl=cn("__datetimeParts"),Rl=cn("__numberParts");cn("__enableEmitter");cn("__disableEmitter");const VS=cn("__setPluralRules");cn("__intlifyMeta");const Hy=cn("__injectWithOption");let up=0;function cp(e){return(t,r,n,i)=>e(r,n,Os()||void 0,i)}function Vy(e,t){const{messages:r,__i18n:n}=t,i=Te(r)?r:ht(n)?{}:{[e]:{}};if(ht(n)&&n.forEach(({locale:o,resource:s})=>{o?(i[o]=i[o]||{},Ya(s,i[o])):Ya(s,i)}),t.flatJson)for(const o in i)Rm(i,o)&&pl(i[o]);return i}const Ks=e=>!Et(e)||ht(e);function Ya(e,t){if(Ks(e)||Ks(t))throw fr(20);for(const r in e)Rm(e,r)&&(Ks(e[r])||Ks(t[r])?t[r]=e[r]:Ya(e[r],t[r]))}const zS=()=>{const e=Os();return e&&e.type[gc]?{[gc]:e.type[gc]}:null};function zy(e={}){const{__root:t}=e,r=t===void 0;let n=Qe(e.inheritLocale)?e.inheritLocale:!0;const i=Rr(t&&n?t.locale.value:ge(e.locale)?e.locale:"en-US"),o=Rr(t&&n?t.fallbackLocale.value:ge(e.fallbackLocale)||ht(e.fallbackLocale)||Te(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:i.value),s=Rr(Vy(i.value,e)),a=Rr(Te(e.datetimeFormats)?e.datetimeFormats:{[i.value]:{}}),c=Rr(Te(e.numberFormats)?e.numberFormats:{[i.value]:{}});let u=t?t.missingWarn:Qe(e.missingWarn)||Da(e.missingWarn)?e.missingWarn:!0,l=t?t.fallbackWarn:Qe(e.fallbackWarn)||Da(e.fallbackWarn)?e.fallbackWarn:!0,f=t?t.fallbackRoot:Qe(e.fallbackRoot)?e.fallbackRoot:!0,h=!!e.fallbackFormat,v=_t(e.missing)?e.missing:null,g=_t(e.missing)?cp(e.missing):null,w=_t(e.postTranslation)?e.postTranslation:null,y=Qe(e.warnHtmlMessage)?e.warnHtmlMessage:!0,b=!!e.escapeParameter;const _=t?t.modifiers:Te(e.modifiers)?e.modifiers:{};let T=e.pluralRules||t&&t.pluralRules,A;function x(){return d_({version:KS,locale:i.value,fallbackLocale:o.value,messages:s.value,datetimeFormats:a.value,numberFormats:c.value,modifiers:_,pluralRules:T,missing:g===null?void 0:g,missingWarn:u,fallbackWarn:l,fallbackFormat:h,unresolving:!0,postTranslation:w===null?void 0:w,warnHtmlMessage:y,escapeParameter:b,__datetimeFormatters:Te(A)?A.__datetimeFormatters:void 0,__numberFormatters:Te(A)?A.__numberFormatters:void 0,__v_emitter:Te(A)?A.__v_emitter:void 0,__meta:{framework:"vue"}})}A=x(),Po(A,i.value,o.value);function R(){return[i.value,o.value,s.value,a.value,c.value]}const k=lt({get:()=>i.value,set:E=>{i.value=E,A.locale=i.value}}),U=lt({get:()=>o.value,set:E=>{o.value=E,A.fallbackLocale=o.value,Po(A,i.value,E)}}),B=lt(()=>s.value),N=lt(()=>a.value),F=lt(()=>c.value);function L(){return _t(w)?w:null}function I(E){w=E,A.postTranslation=E}function P(){return v}function M(E){E!==null&&(g=cp(E)),v=E,A.missing=g}function j(E,C,H,V,ie,ce){R();let fe;if(__INTLIFY_PROD_DEVTOOLS__)try{Ed(zS()),fe=E(A)}finally{Ed(null)}else fe=E(A);if(ot(fe)&&fe===Ou){const[we,me]=C();return t&&f?V(t):ie(we)}else{if(ce(fe))return fe;throw fr(14)}}function K(...E){return j(C=>xd(C,...E),()=>vl(...E),"translate",C=>C.t(...E),C=>C,C=>ge(C))}function G(...E){const[C,H,V]=E;if(V&&!Et(V))throw fr(15);return K(C,H,St({resolvedMessage:!0},V||{}))}function q(...E){return j(C=>Cd(C,...E),()=>gl(...E),"datetime format",C=>C.d(...E),()=>Sd,C=>ge(C))}function z(...E){return j(C=>Pd(C,...E),()=>ml(...E),"number format",C=>C.n(...E),()=>Sd,C=>ge(C))}function Y(E){return E.map(C=>ge(C)?Xe(mi,null,C,0):C)}const te={normalize:Y,interpolate:E=>E,type:"vnode"};function W(...E){return j(C=>{let H;const V=C;try{V.processor=te,H=xd(V,...E)}finally{V.processor=null}return H},()=>vl(...E),"translate",C=>C[Pl](...E),C=>[Xe(mi,null,C,0)],C=>ht(C))}function J(...E){return j(C=>Pd(C,...E),()=>ml(...E),"number format",C=>C[Rl](...E),()=>[],C=>ge(C)||ht(C))}function ee(...E){return j(C=>Cd(C,...E),()=>gl(...E),"datetime format",C=>C[Nl](...E),()=>[],C=>ge(C)||ht(C))}function re(E){T=E,A.pluralRules=T}function se(E,C){const H=ge(C)?C:i.value,V=he(H);return Ua(V,E)!==null}function ve(E){let C=null;const H=Is(A,o.value,i.value);for(let V=0;V<H.length;V++){const ie=s.value[H[V]]||{},ce=Ua(ie,E);if(ce!=null){C=ce;break}}return C}function ye(E){const C=ve(E);return C!=null?C:t?t.tm(E)||{}:{}}function he(E){return s.value[E]||{}}function le(E,C){s.value[E]=C,A.messages=s.value}function D(E,C){s.value[E]=s.value[E]||{},Ya(C,s.value[E]),A.messages=s.value}function $(E){return a.value[E]||{}}function Q(E,C){a.value[E]=C,A.datetimeFormats=a.value,Od(A,E,C)}function O(E,C){a.value[E]=St(a.value[E]||{},C),A.datetimeFormats=a.value,Od(A,E,C)}function S(E){return c.value[E]||{}}function d(E,C){c.value[E]=C,A.numberFormats=c.value,Nd(A,E,C)}function p(E,C){c.value[E]=St(c.value[E]||{},C),A.numberFormats=c.value,Nd(A,E,C)}return up++,t&&(hi(t.locale,E=>{n&&(i.value=E,A.locale=E,Po(A,i.value,o.value))}),hi(t.fallbackLocale,E=>{n&&(o.value=E,A.fallbackLocale=E,Po(A,i.value,o.value))})),{id:up,locale:k,fallbackLocale:U,get inheritLocale(){return n},set inheritLocale(E){n=E,E&&t&&(i.value=t.locale.value,o.value=t.fallbackLocale.value,Po(A,i.value,o.value))},get availableLocales(){return Object.keys(s.value).sort()},messages:B,datetimeFormats:N,numberFormats:F,get modifiers(){return _},get pluralRules(){return T||{}},get isGlobal(){return r},get missingWarn(){return u},set missingWarn(E){u=E,A.missingWarn=u},get fallbackWarn(){return l},set fallbackWarn(E){l=E,A.fallbackWarn=l},get fallbackRoot(){return f},set fallbackRoot(E){f=E},get fallbackFormat(){return h},set fallbackFormat(E){h=E,A.fallbackFormat=h},get warnHtmlMessage(){return y},set warnHtmlMessage(E){y=E,A.warnHtmlMessage=E},get escapeParameter(){return b},set escapeParameter(E){b=E,A.escapeParameter=E},t:K,rt:G,d:q,n:z,te:se,tm:ye,getLocaleMessage:he,setLocaleMessage:le,mergeLocaleMessage:D,getDateTimeFormat:$,setDateTimeFormat:Q,mergeDateTimeFormat:O,getNumberFormat:S,setNumberFormat:d,mergeNumberFormat:p,getPostTranslationHandler:L,setPostTranslationHandler:I,getMissingHandler:P,setMissingHandler:M,[Pl]:W,[Rl]:J,[Nl]:ee,[VS]:re,[Hy]:e.__injectWithOption}}const vh={tag:{type:[String,Object]},locale:{type:String},scope:{type:String,validator:e=>e==="parent"||e==="global",default:"parent"},i18n:{type:Object}},lp={name:"i18n-t",props:St({keypath:{type:String,required:!0},plural:{type:[Number,String],validator:e=>ot(e)||!isNaN(e)}},vh),setup(e,t){const{slots:r,attrs:n}=t,i=e.i18n||gh({useScope:e.scope,__useComponent:!0}),o=Object.keys(r).filter(s=>s!=="_");return()=>{const s={};e.locale&&(s.locale=e.locale),e.plural!==void 0&&(s.plural=ge(e.plural)?+e.plural:e.plural);const a=WS(t,o),c=i[Pl](e.keypath,a,s),u=St({},n);return ge(e.tag)||Et(e.tag)?Dn(e.tag,u,c):Dn(bt,u,c)}}};function WS({slots:e},t){return t.length===1&&t[0]==="default"?e.default?e.default():[]:t.reduce((r,n)=>{const i=e[n];return i&&(r[n]=i()),r},{})}function Wy(e,t,r,n){const{slots:i,attrs:o}=t;return()=>{const s={part:!0};let a={};e.locale&&(s.locale=e.locale),ge(e.format)?s.key=e.format:Et(e.format)&&(ge(e.format.key)&&(s.key=e.format.key),a=Object.keys(e.format).reduce((f,h)=>r.includes(h)?St({},f,{[h]:e.format[h]}):f,{}));const c=n(e.value,s,a);let u=[s.key];ht(c)?u=c.map((f,h)=>{const v=i[f.type];return v?v({[f.type]:f.value,index:h,parts:c}):[f.value]}):ge(c)&&(u=[c]);const l=St({},o);return ge(e.tag)||Et(e.tag)?Dn(e.tag,l,u):Dn(bt,l,u)}}const GS=["localeMatcher","style","unit","unitDisplay","currency","currencyDisplay","useGrouping","numberingSystem","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","notation","formatMatcher"],fp={name:"i18n-n",props:St({value:{type:Number,required:!0},format:{type:[String,Object]}},vh),setup(e,t){const r=e.i18n||gh({useScope:"parent",__useComponent:!0});return Wy(e,t,GS,(...n)=>r[Rl](...n))}},YS=["dateStyle","timeStyle","fractionalSecondDigits","calendar","dayPeriod","numberingSystem","localeMatcher","timeZone","hour12","hourCycle","formatMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName"],hp={name:"i18n-d",props:St({value:{type:[Number,Date],required:!0},format:{type:[String,Object]}},vh),setup(e,t){const r=e.i18n||gh({useScope:"parent",__useComponent:!0});return Wy(e,t,YS,(...n)=>r[Nl](...n))}};function JS(e,t){const r=e;if(e.mode==="composition")return r.__getInstance(t)||e.global;{const n=r.__getInstance(t);return n!=null?n.__composer:e.global.__composer}}function QS(e){const t=(r,{instance:n,value:i,modifiers:o})=>{if(!n||!n.$)throw fr(22);const s=JS(e,n.$),a=XS(i);r.textContent=s.t(...ZS(a))};return{beforeMount:t,beforeUpdate:t}}function XS(e){if(ge(e))return{path:e};if(Te(e)){if(!("path"in e))throw fr(19,"path");return e}else throw fr(20)}function ZS(e){const{path:t,locale:r,args:n,choice:i,plural:o}=e,s={},a=n||{};return ge(r)&&(s.locale=r),ot(i)&&(s.plural=i),ot(o)&&(s.plural=o),[t,a,s]}function eE(e,t,...r){const n=Te(r[0])?r[0]:{},i=!!n.useI18nComponentName;(Qe(n.globalInstall)?n.globalInstall:!0)&&(e.component(i?"i18n":lp.name,lp),e.component(fp.name,fp),e.component(hp.name,hp)),e.directive("t",QS(t))}function H3(e={}){const t=!!e.globalInjection,r=new Map,n=zy(e),i=cn(""),o={get mode(){return"composition"},async install(s,...a){s.__VUE_I18N_SYMBOL__=i,s.provide(s.__VUE_I18N_SYMBOL__,o),t&&oE(s,o.global),eE(s,o,...a)},get global(){return n},__instances:r,__getInstance(s){return r.get(s)||null},__setInstance(s,a){r.set(s,a)},__deleteInstance(s){r.delete(s)}};return o}function gh(e={}){const t=Os();if(t==null)throw fr(16);if(!t.appContext.app.__VUE_I18N_SYMBOL__)throw fr(17);const r=Yt(t.appContext.app.__VUE_I18N_SYMBOL__);if(!r)throw fr(22);const n=r.mode==="composition"?r.global:r.global.__composer,i=Cu(e)?"__i18n"in t.type?"local":"global":e.useScope?e.useScope:"local";if(i==="global"){let a=Et(e.messages)?e.messages:{};"__i18nGlobal"in t.type&&(a=Vy(n.locale.value,{messages:a,__i18n:t.type.__i18nGlobal}));const c=Object.keys(a);if(c.length&&c.forEach(u=>{n.mergeLocaleMessage(u,a[u])}),Et(e.datetimeFormats)){const u=Object.keys(e.datetimeFormats);u.length&&u.forEach(l=>{n.mergeDateTimeFormat(l,e.datetimeFormats[l])})}if(Et(e.numberFormats)){const u=Object.keys(e.numberFormats);u.length&&u.forEach(l=>{n.mergeNumberFormat(l,e.numberFormats[l])})}return n}if(i==="parent"){let a=tE(r,t,e.__useComponent);return a==null&&(a=n),a}if(r.mode==="legacy")throw fr(18);const o=r;let s=o.__getInstance(t);if(s==null){const a=t.type,c=St({},e);a.__i18n&&(c.__i18n=a.__i18n),n&&(c.__root=n),s=zy(c),rE(o,t),o.__setInstance(t,s)}return s}function tE(e,t,r=!1){let n=null;const i=t.root;let o=t.parent;for(;o!=null;){const s=e;if(e.mode==="composition")n=s.__getInstance(o);else{const a=s.__getInstance(o);a!=null&&(n=a.__composer),r&&n&&!n[Hy]&&(n=null)}if(n!=null||i===o)break;o=o.parent}return n}function rE(e,t,r){fh(()=>{},t),Uu(()=>{e.__deleteInstance(t)},t)}const nE=["locale","fallbackLocale","availableLocales"],iE=["t","rt","d","n","tm"];function oE(e,t){const r=Object.create(null);nE.forEach(n=>{const i=Object.getOwnPropertyDescriptor(t,n);if(!i)throw fr(22);const o=qe(i.value)?{get(){return i.value.value},set(s){i.value.value=s}}:{get(){return i.get&&i.get()}};Object.defineProperty(r,n,o)}),e.config.globalProperties.$i18n=r,iE.forEach(n=>{const i=Object.getOwnPropertyDescriptor(t,n);if(!i||!i.value)throw fr(22);Object.defineProperty(e.config.globalProperties,`$${n}`,i)})}HS();if(__INTLIFY_PROD_DEVTOOLS__){const e=qf();e.__INTLIFY__=!0,o_(e.__INTLIFY_DEVTOOLS_GLOBAL_HOOK__)}var Ge=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function Lu(e){if(e.__esModule)return e;var t=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(e).forEach(function(r){var n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,n.get?n:{enumerable:!0,get:function(){return e[r]}})}),t}function sE(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Gy={exports:{}};/* NProgress, (c) 2013, 2014 Rico Sta. Cruz - http://ricostacruz.com/nprogress
 * @license MIT */(function(e,t){(function(r,n){e.exports=n()})(Ge,function(){var r={};r.version="0.2.0";var n=r.settings={minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,showSpinner:!0,barSelector:'[role="bar"]',spinnerSelector:'[role="spinner"]',parent:"body",template:'<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'};r.configure=function(g){var w,y;for(w in g)y=g[w],y!==void 0&&g.hasOwnProperty(w)&&(n[w]=y);return this},r.status=null,r.set=function(g){var w=r.isStarted();g=i(g,n.minimum,1),r.status=g===1?null:g;var y=r.render(!w),b=y.querySelector(n.barSelector),_=n.speed,T=n.easing;return y.offsetWidth,a(function(A){n.positionUsing===""&&(n.positionUsing=r.getPositioningCSS()),c(b,s(g,_,T)),g===1?(c(y,{transition:"none",opacity:1}),y.offsetWidth,setTimeout(function(){c(y,{transition:"all "+_+"ms linear",opacity:0}),setTimeout(function(){r.remove(),A()},_)},_)):setTimeout(A,_)}),this},r.isStarted=function(){return typeof r.status=="number"},r.start=function(){r.status||r.set(0);var g=function(){setTimeout(function(){!r.status||(r.trickle(),g())},n.trickleSpeed)};return n.trickle&&g(),this},r.done=function(g){return!g&&!r.status?this:r.inc(.3+.5*Math.random()).set(1)},r.inc=function(g){var w=r.status;return w?(typeof g!="number"&&(g=(1-w)*i(Math.random()*w,.1,.95)),w=i(w+g,0,.994),r.set(w)):r.start()},r.trickle=function(){return r.inc(Math.random()*n.trickleRate)},function(){var g=0,w=0;r.promise=function(y){return!y||y.state()==="resolved"?this:(w===0&&r.start(),g++,w++,y.always(function(){w--,w===0?(g=0,r.done()):r.set((g-w)/g)}),this)}}(),r.render=function(g){if(r.isRendered())return document.getElementById("nprogress");l(document.documentElement,"nprogress-busy");var w=document.createElement("div");w.id="nprogress",w.innerHTML=n.template;var y=w.querySelector(n.barSelector),b=g?"-100":o(r.status||0),_=document.querySelector(n.parent),T;return c(y,{transition:"all 0 linear",transform:"translate3d("+b+"%,0,0)"}),n.showSpinner||(T=w.querySelector(n.spinnerSelector),T&&v(T)),_!=document.body&&l(_,"nprogress-custom-parent"),_.appendChild(w),w},r.remove=function(){f(document.documentElement,"nprogress-busy"),f(document.querySelector(n.parent),"nprogress-custom-parent");var g=document.getElementById("nprogress");g&&v(g)},r.isRendered=function(){return!!document.getElementById("nprogress")},r.getPositioningCSS=function(){var g=document.body.style,w="WebkitTransform"in g?"Webkit":"MozTransform"in g?"Moz":"msTransform"in g?"ms":"OTransform"in g?"O":"";return w+"Perspective"in g?"translate3d":w+"Transform"in g?"translate":"margin"};function i(g,w,y){return g<w?w:g>y?y:g}function o(g){return(-1+g)*100}function s(g,w,y){var b;return n.positionUsing==="translate3d"?b={transform:"translate3d("+o(g)+"%,0,0)"}:n.positionUsing==="translate"?b={transform:"translate("+o(g)+"%,0)"}:b={"margin-left":o(g)+"%"},b.transition="all "+w+"ms "+y,b}var a=function(){var g=[];function w(){var y=g.shift();y&&y(w)}return function(y){g.push(y),g.length==1&&w()}}(),c=function(){var g=["Webkit","O","Moz","ms"],w={};function y(A){return A.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,function(x,R){return R.toUpperCase()})}function b(A){var x=document.body.style;if(A in x)return A;for(var R=g.length,k=A.charAt(0).toUpperCase()+A.slice(1),U;R--;)if(U=g[R]+k,U in x)return U;return A}function _(A){return A=y(A),w[A]||(w[A]=b(A))}function T(A,x,R){x=_(x),A.style[x]=R}return function(A,x){var R=arguments,k,U;if(R.length==2)for(k in x)U=x[k],U!==void 0&&x.hasOwnProperty(k)&&T(A,k,U);else T(A,R[1],R[2])}}();function u(g,w){var y=typeof g=="string"?g:h(g);return y.indexOf(" "+w+" ")>=0}function l(g,w){var y=h(g),b=y+w;u(y,w)||(g.className=b.substring(1))}function f(g,w){var y=h(g),b;!u(g,w)||(b=y.replace(" "+w+" "," "),g.className=b.substring(1,b.length-1))}function h(g){return(" "+(g.className||"")+" ").replace(/\s+/gi," ")}function v(g){g&&g.parentNode&&g.parentNode.removeChild(g)}return r})})(Gy);var V3=Gy.exports,aE=!1;/*!
  * pinia v2.0.11
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */let Yy;const Bu=e=>Yy=e,Jy=Symbol();function Ml(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var Qo;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(Qo||(Qo={}));function z3(){const e=Hm(!0),t=e.run(()=>Rr({}));let r=[],n=[];const i=co({install(o){Bu(i),i._a=o,o.provide(Jy,i),o.config.globalProperties.$pinia=i,n.forEach(s=>r.push(s)),n=[]},use(o){return!this._a&&!aE?n.push(o):r.push(o),this},_p:r,_a:null,_e:e,_s:new Map,state:t});return i}const Qy=()=>{};function dp(e,t,r,n=Qy){e.push(t);const i=()=>{const o=e.indexOf(t);o>-1&&(e.splice(o,1),n())};return!r&&Os()&&Uu(i),i}function Ii(e,...t){e.slice().forEach(r=>{r(...t)})}function kl(e,t){for(const r in t){const n=t[r],i=e[r];Ml(i)&&Ml(n)&&!qe(n)&&!Mn(n)?e[r]=kl(i,n):e[r]=n}return e}const uE=Symbol();function cE(e){return!Ml(e)||!e.hasOwnProperty(uE)}const{assign:Wr}=Object;function lE(e){return!!(qe(e)&&e.effect)}function fE(e,t,r,n){const{state:i,actions:o,getters:s}=t,a=r.state.value[e];let c;function u(){a||(r.state.value[e]=i?i():{});const l=l1(r.state.value[e]);return Wr(l,o,Object.keys(s||{}).reduce((f,h)=>(f[h]=co(lt(()=>{Bu(r);const v=r._s.get(e);return s[h].call(v,v)})),f),{}))}return c=Xy(e,u,t,r),c.$reset=function(){const f=i?i():{};this.$patch(h=>{Wr(h,f)})},c}function Xy(e,t,r={},n,i){let o;const s=r.state,a=Wr({actions:{}},r),c={deep:!0};let u,l,f=co([]),h=co([]),v;const g=n.state.value[e];!s&&!g&&(n.state.value[e]={}),Rr({});function w(R){let k;u=l=!1,typeof R=="function"?(R(n.state.value[e]),k={type:Qo.patchFunction,storeId:e,events:v}):(kl(n.state.value[e],R),k={type:Qo.patchObject,payload:R,storeId:e,events:v}),sh().then(()=>{u=!0}),l=!0,Ii(f,k,n.state.value[e])}const y=Qy;function b(){o.stop(),f=[],h=[],n._s.delete(e)}function _(R,k){return function(){Bu(n);const U=Array.from(arguments),B=[],N=[];function F(P){B.push(P)}function L(P){N.push(P)}Ii(h,{args:U,name:R,store:A,after:F,onError:L});let I;try{I=k.apply(this&&this.$id===e?this:A,U)}catch(P){throw Ii(N,P),P}return I instanceof Promise?I.then(P=>(Ii(B,P),P)).catch(P=>(Ii(N,P),Promise.reject(P))):(Ii(B,I),I)}}const T={_p:n,$id:e,$onAction:dp.bind(null,h),$patch:w,$reset:y,$subscribe(R,k={}){const U=dp(f,R,k.detached,()=>B()),B=o.run(()=>hi(()=>n.state.value[e],N=>{(k.flush==="sync"?l:u)&&R({storeId:e,type:Qo.direct,events:v},N)},Wr({},c,k)));return U},$dispose:b},A=Eo(Wr({},T));n._s.set(e,A);const x=n._e.run(()=>(o=Hm(),o.run(()=>t())));for(const R in x){const k=x[R];if(qe(k)&&!lE(k)||Mn(k))s||(g&&cE(k)&&(qe(k)?k.value=g[R]:kl(k,g[R])),n.state.value[e][R]=k);else if(typeof k=="function"){const U=_(R,k);x[R]=U,a.actions[R]=k}}return Wr(A,x),Wr(Ce(A),x),Object.defineProperty(A,"$state",{get:()=>n.state.value[e],set:R=>{w(k=>{Wr(k,R)})}}),n._p.forEach(R=>{Wr(A,o.run(()=>R({store:A,app:n._a,pinia:n,options:a})))}),g&&s&&r.hydrate&&r.hydrate(A.$state,g),u=!0,l=!0,A}function W3(e,t,r){let n,i;const o=typeof t=="function";typeof e=="string"?(n=e,i=o?r:t):(i=e,n=e.id);function s(a,c){const u=Os();return a=a||u&&Yt(Jy),a&&Bu(a),a=Yy,a._s.has(n)||(o?Xy(n,t,i,a):fE(n,i,a)),a._s.get(n)}return s.$id=n,s}var Ja;(function(e){e.Cognito="COGNITO",e.Google="Google",e.Facebook="Facebook",e.Amazon="LoginWithAmazon",e.Apple="SignInWithApple"})(Ja||(Ja={}));function mc(e){var t=["provider"];return e&&!!t.find(function(r){return e.hasOwnProperty(r)})}function hE(e){var t=["customProvider"];return e&&!!t.find(function(r){return e.hasOwnProperty(r)})}function dE(e){var t=["customState"];return e&&!!t.find(function(r){return e.hasOwnProperty(r)})}function ci(e){return e.redirectSignIn!==void 0}var Pe;(function(e){e.NoConfig="noConfig",e.MissingAuthConfig="missingAuthConfig",e.EmptyUsername="emptyUsername",e.InvalidUsername="invalidUsername",e.EmptyPassword="emptyPassword",e.EmptyCode="emptyCode",e.SignUpError="signUpError",e.NoMFA="noMFA",e.InvalidMFA="invalidMFA",e.EmptyChallengeResponse="emptyChallengeResponse",e.NoUserSession="noUserSession",e.Default="default",e.DeviceConfig="deviceConfig",e.NetworkError="networkError"})(Pe||(Pe={}));function pE(e){return!!e.username}var vE="Logging",gE=globalThis&&globalThis.__values||function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},mE=globalThis&&globalThis.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return o},xi=globalThis&&globalThis.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(mE(arguments[t]));return e},pp={VERBOSE:1,DEBUG:2,INFO:3,WARN:4,ERROR:5},mr;(function(e){e.DEBUG="DEBUG",e.ERROR="ERROR",e.INFO="INFO",e.WARN="WARN",e.VERBOSE="VERBOSE"})(mr||(mr={}));var Ae=function(){function e(t,r){r===void 0&&(r=mr.WARN),this.name=t,this.level=r,this._pluggables=[]}return e.prototype._padding=function(t){return t<10?"0"+t:""+t},e.prototype._ts=function(){var t=new Date;return[this._padding(t.getMinutes()),this._padding(t.getSeconds())].join(":")+"."+t.getMilliseconds()},e.prototype.configure=function(t){return t?(this._config=t,this._config):this._config},e.prototype._log=function(t){for(var r,n,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];var s=this.level;e.LOG_LEVEL&&(s=e.LOG_LEVEL),typeof window!="undefined"&&window.LOG_LEVEL&&(s=window.LOG_LEVEL);var a=pp[s],c=pp[t];if(c>=a){var u=console.log.bind(console);t===mr.ERROR&&console.error&&(u=console.error.bind(console)),t===mr.WARN&&console.warn&&(u=console.warn.bind(console));var l="["+t+"] "+this._ts()+" "+this.name,f="";if(i.length===1&&typeof i[0]=="string")f=l+" - "+i[0],u(f);else if(i.length===1)f=l+" "+i[0],u(l,i[0]);else if(typeof i[0]=="string"){var h=i.slice(1);h.length===1&&(h=h[0]),f=l+" - "+i[0]+" "+h,u(l+" - "+i[0],h)}else f=l+" "+i,u(l,i);try{for(var v=gE(this._pluggables),g=v.next();!g.done;g=v.next()){var w=g.value,y={message:f,timestamp:Date.now()};w.pushLogs([y])}}catch(b){r={error:b}}finally{try{g&&!g.done&&(n=v.return)&&n.call(v)}finally{if(r)throw r.error}}}},e.prototype.log=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this._log.apply(this,xi([mr.INFO],t))},e.prototype.info=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this._log.apply(this,xi([mr.INFO],t))},e.prototype.warn=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this._log.apply(this,xi([mr.WARN],t))},e.prototype.error=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this._log.apply(this,xi([mr.ERROR],t))},e.prototype.debug=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this._log.apply(this,xi([mr.DEBUG],t))},e.prototype.verbose=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this._log.apply(this,xi([mr.VERBOSE],t))},e.prototype.addPluggable=function(t){t&&t.getCategoryName()===vE&&(this._pluggables.push(t),t.configure(this._config))},e.prototype.listPluggables=function(){return this._pluggables},e.LOG_LEVEL=null,e}(),yE=globalThis&&globalThis.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return o},yc=new Ae("Amplify"),bE=function(){function e(){this._components=[],this._config={},this._modules={},this.Auth=null,this.Analytics=null,this.API=null,this.Credentials=null,this.Storage=null,this.I18n=null,this.Cache=null,this.PubSub=null,this.Interactions=null,this.Pushnotification=null,this.UI=null,this.XR=null,this.Predictions=null,this.DataStore=null,this.Geo=null,this.Logger=Ae,this.ServiceWorker=null}return e.prototype.register=function(t){yc.debug("component registered in amplify",t),this._components.push(t),typeof t.getModuleName=="function"?(this._modules[t.getModuleName()]=t,this[t.getModuleName()]=t):yc.debug("no getModuleName method for component",t),t.configure(this._config)},e.prototype.configure=function(t){var r=this;return t?(this._config=Object.assign(this._config,t),yc.debug("amplify config",this._config),Object.entries(this._modules).forEach(function(n){var i=yE(n,2);i[0];var o=i[1];Object.keys(o).forEach(function(s){r._modules[s]&&(o[s]=r._modules[s])})}),this._components.map(function(n){n.configure(r._config)}),this._config):this._config},e.prototype.addPluggable=function(t){t&&t.getCategory&&typeof t.getCategory=="function"&&this._components.map(function(r){r.addPluggable&&typeof r.addPluggable=="function"&&r.addPluggable(t)})},e}(),Fr=new bE,wE="4.3.13",Dl="aws-amplify/"+wE,Pr={userAgent:Dl+" js",product:"",navigator:null,isReactNative:!1};if(typeof navigator!="undefined"&&navigator.product)switch(Pr.product=navigator.product||"",Pr.navigator=navigator||null,navigator.product){case"ReactNative":Pr.userAgent=Dl+" react-native",Pr.isReactNative=!0;break;default:Pr.userAgent=Dl+" js",Pr.isReactNative=!1;break}var bc=function(){return Pr.userAgent},Xo=globalThis&&globalThis.__assign||function(){return Xo=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Xo.apply(this,arguments)},Zy=globalThis&&globalThis.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return o},vp=globalThis&&globalThis.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Zy(arguments[t]));return e},jr=new Ae("Hub"),_E=typeof Symbol!="undefined"&&typeof Symbol.for=="function"?Symbol.for("amplify_default"):"@@amplify_default";function SE(e){return e.onHubCapsule!==void 0}var EE=function(){function e(t){this.listeners=[],this.patterns=[],this.protectedChannels=["core","auth","api","analytics","interactions","pubsub","storage","xr"],this.name=t}return e.prototype.remove=function(t,r){if(t instanceof RegExp){var n=this.patterns.find(function(o){var s=o.pattern;return s.source===t.source});if(!n){jr.warn("No listeners for "+t);return}this.patterns=vp(this.patterns.filter(function(o){return o!==n}))}else{var i=this.listeners[t];if(!i){jr.warn("No listeners for "+t);return}this.listeners[t]=vp(i.filter(function(o){var s=o.callback;return s!==r}))}},e.prototype.dispatch=function(t,r,n,i){if(n===void 0&&(n=""),this.protectedChannels.indexOf(t)>-1){var o=i===_E;o||jr.warn("WARNING: "+t+" is protected and dispatching on it can have unintended consequences")}var s={channel:t,payload:Xo({},r),source:n,patternInfo:[]};try{this._toListeners(s)}catch(a){jr.error(a)}},e.prototype.listen=function(t,r,n){var i=this;n===void 0&&(n="noname");var o;if(SE(r))jr.warn("WARNING onHubCapsule is Deprecated. Please pass in a callback."),o=r.onHubCapsule.bind(r);else{if(typeof r!="function")throw new Error("No callback supplied to Hub");o=r}if(t instanceof RegExp)this.patterns.push({pattern:t,callback:o});else{var s=this.listeners[t];s||(s=[],this.listeners[t]=s),s.push({name:n,callback:o})}return function(){i.remove(t,o)}},e.prototype._toListeners=function(t){var r=t.channel,n=t.payload,i=this.listeners[r];if(i&&i.forEach(function(s){jr.debug("Dispatching to "+r+" with ",n);try{s.callback(t)}catch(a){jr.error(a)}}),this.patterns.length>0){if(!n.message){jr.warn("Cannot perform pattern matching without a message key");return}var o=n.message;this.patterns.forEach(function(s){var a=o.match(s.pattern);if(a){var c=Zy(a),u=c.slice(1),l=Xo(Xo({},t),{patternInfo:u});try{s.callback(l)}catch(f){jr.error(f)}}})}},e}(),zt=new EE("__default__"),AE=new Ae("I18n"),gp=function(){function e(t){this._options=null,this._lang=null,this._dict={},this._options=Object.assign({},t),this._lang=this._options.language,!this._lang&&typeof window!="undefined"&&window&&window.navigator&&(this._lang=window.navigator.language),AE.debug(this._lang)}return e.prototype.setLanguage=function(t){this._lang=t},e.prototype.get=function(t,r){if(r===void 0&&(r=void 0),!this._lang)return typeof r!="undefined"?r:t;var n=this._lang,i=this.getByLanguage(t,n);return i||(n.indexOf("-")>0&&(i=this.getByLanguage(t,n.split("-")[0])),i)?i:typeof r!="undefined"?r:t},e.prototype.getByLanguage=function(t,r,n){if(n===void 0&&(n=null),!r)return n;var i=this._dict[r];return i?i[t]:n},e.prototype.putVocabulariesForLanguage=function(t,r){var n=this._dict[t];n||(n=this._dict[t]={}),Object.assign(n,r)},e.prototype.putVocabularies=function(t){var r=this;Object.keys(t).map(function(n){r.putVocabulariesForLanguage(n,t[n])})},e}(),mp=new Ae("I18n"),Ci=null,dn=null,TE=function(){function e(){}return e.configure=function(t){return mp.debug("configure I18n"),t&&(Ci=Object.assign({},Ci,t.I18n||t),e.createInstance()),Ci},e.getModuleName=function(){return"I18n"},e.createInstance=function(){mp.debug("create I18n instance"),!dn&&(dn=new gp(Ci))},e.setLanguage=function(t){return e.checkConfig(),dn.setLanguage(t)},e.get=function(t,r){return e.checkConfig()?dn.get(t,r):typeof r=="undefined"?t:r},e.putVocabulariesForLanguage=function(t,r){return e.checkConfig(),dn.putVocabulariesForLanguage(t,r)},e.putVocabularies=function(t){return e.checkConfig(),dn.putVocabularies(t)},e.checkConfig=function(){return dn||(dn=new gp(Ci)),!0},e}();Fr.register(TE);var IE=[{type:"text/plain",ext:"txt"},{type:"text/html",ext:"html"},{type:"text/javascript",ext:"js"},{type:"text/css",ext:"css"},{type:"text/csv",ext:"csv"},{type:"text/yaml",ext:"yml"},{type:"text/yaml",ext:"yaml"},{type:"text/calendar",ext:"ics"},{type:"text/calendar",ext:"ical"},{type:"image/apng",ext:"apng"},{type:"image/bmp",ext:"bmp"},{type:"image/gif",ext:"gif"},{type:"image/x-icon",ext:"ico"},{type:"image/x-icon",ext:"cur"},{type:"image/jpeg",ext:"jpg"},{type:"image/jpeg",ext:"jpeg"},{type:"image/jpeg",ext:"jfif"},{type:"image/jpeg",ext:"pjp"},{type:"image/jpeg",ext:"pjpeg"},{type:"image/png",ext:"png"},{type:"image/svg+xml",ext:"svg"},{type:"image/tiff",ext:"tif"},{type:"image/tiff",ext:"tiff"},{type:"image/webp",ext:"webp"},{type:"application/json",ext:"json"},{type:"application/xml",ext:"xml"},{type:"application/x-sh",ext:"sh"},{type:"application/zip",ext:"zip"},{type:"application/x-rar-compressed",ext:"rar"},{type:"application/x-tar",ext:"tar"},{type:"application/x-bzip",ext:"bz"},{type:"application/x-bzip2",ext:"bz2"},{type:"application/pdf",ext:"pdf"},{type:"application/java-archive",ext:"jar"},{type:"application/msword",ext:"doc"},{type:"application/vnd.ms-excel",ext:"xls"},{type:"application/vnd.ms-excel",ext:"xlsx"},{type:"message/rfc822",ext:"eml"}],xE=function(e){return e===void 0&&(e={}),Object.keys(e).length===0},CE=function(e,t,r){if(!e||!e.sort)return!1;var n=r&&r==="desc"?-1:1;return e.sort(function(i,o){var s=i[t],a=o[t];return typeof a=="undefined"?typeof s=="undefined"?0:1*n:typeof s=="undefined"||s<a?-1*n:s>a?1*n:0}),!0},OE=function(e,t){var r=Object.assign({},e);return t&&(typeof t=="string"?delete r[t]:t.forEach(function(n){delete r[n]})),r},PE=function(e,t){t===void 0&&(t="application/octet-stream");var r=e.toLowerCase(),n=IE.filter(function(i){return r.endsWith("."+i.ext)});return n.length>0?n[0].type:t},NE=function(e){var t=e.toLowerCase();return t.startsWith("text/")?!0:t==="application/json"||t==="application/xml"||t==="application/sh"},RE=function(){for(var e="",t="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=32;r>0;r-=1)e+=t[Math.floor(Math.random()*t.length)];return e},e0=function(e){if(e.isResolved)return e;var t=!0,r=!1,n=!1,i=e.then(function(o){return n=!0,t=!1,o},function(o){throw r=!0,t=!1,o});return i.isFullfilled=function(){return n},i.isPending=function(){return t},i.isRejected=function(){return r},i},mh=function(){if(typeof self=="undefined")return!1;var e=self;return typeof e.WorkerGlobalScope!="undefined"&&self instanceof e.WorkerGlobalScope},Lr=function(){var e=typeof window!="undefined"&&typeof window.document!="undefined",t=typeof process!="undefined"&&process.versions!=null&&process.versions.node!=null;return{isBrowser:e,isNode:t}},t0=function(e,t,r){if(t===void 0&&(t=[]),r===void 0&&(r=[]),!yh(e))return e;var n={};for(var i in e)if(e.hasOwnProperty(i)){var o=t.includes(i)?i:i[0].toLowerCase()+i.slice(1);n[o]=r.includes(i)?e[i]:t0(e[i],t,r)}return n},r0=function(e,t,r){if(t===void 0&&(t=[]),r===void 0&&(r=[]),!yh(e))return e;var n={};for(var i in e)if(e.hasOwnProperty(i)){var o=t.includes(i)?i:i[0].toUpperCase()+i.slice(1);n[o]=r.includes(i)?e[i]:r0(e[i],t,r)}return n},yh=function(e){return e instanceof Object&&!(e instanceof Array)&&!(e instanceof Function)&&!(e instanceof Number)&&!(e instanceof String)&&!(e instanceof Boolean)},vs=function(){function e(){}return e.isEmpty=xE,e.sortByField=CE,e.objectLessAttributes=OE,e.filenameToContentType=PE,e.isTextFile=NE,e.generateRandomString=RE,e.makeQuerablePromise=e0,e.isWebWorker=mh,e.browserOrNode=Lr,e.transferKeyToLowerCase=t0,e.transferKeyToUpperCase=r0,e.isStrictObject=yh,e}(),bh={},Z={exports:{}};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */(function(e){var t,r,n,i,o,s,a,c,u,l,f,h,v,g,w,y,b,_,T,A,x,R,k;(function(U){var B=typeof Ge=="object"?Ge:typeof self=="object"?self:typeof this=="object"?this:{};U(N(B,N(e.exports)));function N(F,L){return F!==B&&(typeof Object.create=="function"?Object.defineProperty(F,"__esModule",{value:!0}):F.__esModule=!0),function(I,P){return F[I]=L?L(I,P):P}}})(function(U){var B=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(N,F){N.__proto__=F}||function(N,F){for(var L in F)F.hasOwnProperty(L)&&(N[L]=F[L])};t=function(N,F){B(N,F);function L(){this.constructor=N}N.prototype=F===null?Object.create(F):(L.prototype=F.prototype,new L)},r=Object.assign||function(N){for(var F,L=1,I=arguments.length;L<I;L++){F=arguments[L];for(var P in F)Object.prototype.hasOwnProperty.call(F,P)&&(N[P]=F[P])}return N},n=function(N,F){var L={};for(var I in N)Object.prototype.hasOwnProperty.call(N,I)&&F.indexOf(I)<0&&(L[I]=N[I]);if(N!=null&&typeof Object.getOwnPropertySymbols=="function")for(var P=0,I=Object.getOwnPropertySymbols(N);P<I.length;P++)F.indexOf(I[P])<0&&Object.prototype.propertyIsEnumerable.call(N,I[P])&&(L[I[P]]=N[I[P]]);return L},i=function(N,F,L,I){var P=arguments.length,M=P<3?F:I===null?I=Object.getOwnPropertyDescriptor(F,L):I,j;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")M=Reflect.decorate(N,F,L,I);else for(var K=N.length-1;K>=0;K--)(j=N[K])&&(M=(P<3?j(M):P>3?j(F,L,M):j(F,L))||M);return P>3&&M&&Object.defineProperty(F,L,M),M},o=function(N,F){return function(L,I){F(L,I,N)}},s=function(N,F){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(N,F)},a=function(N,F,L,I){function P(M){return M instanceof L?M:new L(function(j){j(M)})}return new(L||(L=Promise))(function(M,j){function K(z){try{q(I.next(z))}catch(Y){j(Y)}}function G(z){try{q(I.throw(z))}catch(Y){j(Y)}}function q(z){z.done?M(z.value):P(z.value).then(K,G)}q((I=I.apply(N,F||[])).next())})},c=function(N,F){var L={label:0,sent:function(){if(M[0]&1)throw M[1];return M[1]},trys:[],ops:[]},I,P,M,j;return j={next:K(0),throw:K(1),return:K(2)},typeof Symbol=="function"&&(j[Symbol.iterator]=function(){return this}),j;function K(q){return function(z){return G([q,z])}}function G(q){if(I)throw new TypeError("Generator is already executing.");for(;L;)try{if(I=1,P&&(M=q[0]&2?P.return:q[0]?P.throw||((M=P.return)&&M.call(P),0):P.next)&&!(M=M.call(P,q[1])).done)return M;switch(P=0,M&&(q=[q[0]&2,M.value]),q[0]){case 0:case 1:M=q;break;case 4:return L.label++,{value:q[1],done:!1};case 5:L.label++,P=q[1],q=[0];continue;case 7:q=L.ops.pop(),L.trys.pop();continue;default:if(M=L.trys,!(M=M.length>0&&M[M.length-1])&&(q[0]===6||q[0]===2)){L=0;continue}if(q[0]===3&&(!M||q[1]>M[0]&&q[1]<M[3])){L.label=q[1];break}if(q[0]===6&&L.label<M[1]){L.label=M[1],M=q;break}if(M&&L.label<M[2]){L.label=M[2],L.ops.push(q);break}M[2]&&L.ops.pop(),L.trys.pop();continue}q=F.call(N,L)}catch(z){q=[6,z],P=0}finally{I=M=0}if(q[0]&5)throw q[1];return{value:q[0]?q[1]:void 0,done:!0}}},k=function(N,F,L,I){I===void 0&&(I=L),N[I]=F[L]},u=function(N,F){for(var L in N)L!=="default"&&!F.hasOwnProperty(L)&&(F[L]=N[L])},l=function(N){var F=typeof Symbol=="function"&&Symbol.iterator,L=F&&N[F],I=0;if(L)return L.call(N);if(N&&typeof N.length=="number")return{next:function(){return N&&I>=N.length&&(N=void 0),{value:N&&N[I++],done:!N}}};throw new TypeError(F?"Object is not iterable.":"Symbol.iterator is not defined.")},f=function(N,F){var L=typeof Symbol=="function"&&N[Symbol.iterator];if(!L)return N;var I=L.call(N),P,M=[],j;try{for(;(F===void 0||F-- >0)&&!(P=I.next()).done;)M.push(P.value)}catch(K){j={error:K}}finally{try{P&&!P.done&&(L=I.return)&&L.call(I)}finally{if(j)throw j.error}}return M},h=function(){for(var N=[],F=0;F<arguments.length;F++)N=N.concat(f(arguments[F]));return N},v=function(){for(var N=0,F=0,L=arguments.length;F<L;F++)N+=arguments[F].length;for(var I=Array(N),P=0,F=0;F<L;F++)for(var M=arguments[F],j=0,K=M.length;j<K;j++,P++)I[P]=M[j];return I},g=function(N){return this instanceof g?(this.v=N,this):new g(N)},w=function(N,F,L){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var I=L.apply(N,F||[]),P,M=[];return P={},j("next"),j("throw"),j("return"),P[Symbol.asyncIterator]=function(){return this},P;function j(X){I[X]&&(P[X]=function(te){return new Promise(function(W,J){M.push([X,te,W,J])>1||K(X,te)})})}function K(X,te){try{G(I[X](te))}catch(W){Y(M[0][3],W)}}function G(X){X.value instanceof g?Promise.resolve(X.value.v).then(q,z):Y(M[0][2],X)}function q(X){K("next",X)}function z(X){K("throw",X)}function Y(X,te){X(te),M.shift(),M.length&&K(M[0][0],M[0][1])}},y=function(N){var F,L;return F={},I("next"),I("throw",function(P){throw P}),I("return"),F[Symbol.iterator]=function(){return this},F;function I(P,M){F[P]=N[P]?function(j){return(L=!L)?{value:g(N[P](j)),done:P==="return"}:M?M(j):j}:M}},b=function(N){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var F=N[Symbol.asyncIterator],L;return F?F.call(N):(N=typeof l=="function"?l(N):N[Symbol.iterator](),L={},I("next"),I("throw"),I("return"),L[Symbol.asyncIterator]=function(){return this},L);function I(M){L[M]=N[M]&&function(j){return new Promise(function(K,G){j=N[M](j),P(K,G,j.done,j.value)})}}function P(M,j,K,G){Promise.resolve(G).then(function(q){M({value:q,done:K})},j)}},_=function(N,F){return Object.defineProperty?Object.defineProperty(N,"raw",{value:F}):N.raw=F,N},T=function(N){if(N&&N.__esModule)return N;var F={};if(N!=null)for(var L in N)Object.hasOwnProperty.call(N,L)&&(F[L]=N[L]);return F.default=N,F},A=function(N){return N&&N.__esModule?N:{default:N}},x=function(N,F){if(!F.has(N))throw new TypeError("attempted to get private field on non-instance");return F.get(N)},R=function(N,F,L){if(!F.has(N))throw new TypeError("attempted to set private field on non-instance");return F.set(N,L),L},U("__extends",t),U("__assign",r),U("__rest",n),U("__decorate",i),U("__param",o),U("__metadata",s),U("__awaiter",a),U("__generator",c),U("__exportStar",u),U("__createBinding",k),U("__values",l),U("__read",f),U("__spread",h),U("__spreadArrays",v),U("__await",g),U("__asyncGenerator",w),U("__asyncDelegator",y),U("__asyncValues",b),U("__makeTemplateObject",_),U("__importStar",T),U("__importDefault",A),U("__classPrivateFieldGet",x),U("__classPrivateFieldSet",R)})})(Z);var wh={},Kn={};Object.defineProperty(Kn,"__esModule",{value:!0});Kn.BLOCK_SIZE=64;Kn.DIGEST_LENGTH=32;Kn.KEY=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);Kn.INIT=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];Kn.MAX_HASHABLE_LENGTH=Math.pow(2,53)-1;var _h={};Object.defineProperty(_h,"__esModule",{value:!0});var er=Kn,ME=function(){function e(){this.state=Int32Array.from(er.INIT),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return e.prototype.update=function(t){if(this.finished)throw new Error("Attempted to update an already finished hash.");var r=0,n=t.byteLength;if(this.bytesHashed+=n,this.bytesHashed*8>er.MAX_HASHABLE_LENGTH)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;n>0;)this.buffer[this.bufferLength++]=t[r++],n--,this.bufferLength===er.BLOCK_SIZE&&(this.hashBuffer(),this.bufferLength=0)},e.prototype.digest=function(){if(!this.finished){var t=this.bytesHashed*8,r=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),n=this.bufferLength;if(r.setUint8(this.bufferLength++,128),n%er.BLOCK_SIZE>=er.BLOCK_SIZE-8){for(var i=this.bufferLength;i<er.BLOCK_SIZE;i++)r.setUint8(i,0);this.hashBuffer(),this.bufferLength=0}for(var i=this.bufferLength;i<er.BLOCK_SIZE-8;i++)r.setUint8(i,0);r.setUint32(er.BLOCK_SIZE-8,Math.floor(t/4294967296),!0),r.setUint32(er.BLOCK_SIZE-4,t),this.hashBuffer(),this.finished=!0}for(var o=new Uint8Array(er.DIGEST_LENGTH),i=0;i<8;i++)o[i*4]=this.state[i]>>>24&255,o[i*4+1]=this.state[i]>>>16&255,o[i*4+2]=this.state[i]>>>8&255,o[i*4+3]=this.state[i]>>>0&255;return o},e.prototype.hashBuffer=function(){for(var t=this,r=t.buffer,n=t.state,i=n[0],o=n[1],s=n[2],a=n[3],c=n[4],u=n[5],l=n[6],f=n[7],h=0;h<er.BLOCK_SIZE;h++){if(h<16)this.temp[h]=(r[h*4]&255)<<24|(r[h*4+1]&255)<<16|(r[h*4+2]&255)<<8|r[h*4+3]&255;else{var v=this.temp[h-2],g=(v>>>17|v<<15)^(v>>>19|v<<13)^v>>>10;v=this.temp[h-15];var w=(v>>>7|v<<25)^(v>>>18|v<<14)^v>>>3;this.temp[h]=(g+this.temp[h-7]|0)+(w+this.temp[h-16]|0)}var y=(((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))+(c&u^~c&l)|0)+(f+(er.KEY[h]+this.temp[h]|0)|0)|0,b=((i>>>2|i<<30)^(i>>>13|i<<19)^(i>>>22|i<<10))+(i&o^i&s^o&s)|0;f=l,l=u,u=c,c=a+y|0,a=s,s=o,o=i,i=y+b|0}n[0]+=i,n[1]+=o,n[2]+=s,n[3]+=a,n[4]+=c,n[5]+=u,n[6]+=l,n[7]+=f},e}();_h.RawSha256=ME;var kE=function(e){for(var t=[],r=0,n=e.length;r<n;r++){var i=e.charCodeAt(r);if(i<128)t.push(i);else if(i<2048)t.push(i>>6|192,i&63|128);else if(r+1<e.length&&(i&64512)===55296&&(e.charCodeAt(r+1)&64512)===56320){var o=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023);t.push(o>>18|240,o>>12&63|128,o>>6&63|128,o&63|128)}else t.push(i>>12|224,i>>6&63|128,i&63|128)}return Uint8Array.from(t)},DE=function(e){for(var t="",r=0,n=e.length;r<n;r++){var i=e[r];if(i<128)t+=String.fromCharCode(i);else if(192<=i&&i<224){var o=e[++r];t+=String.fromCharCode((i&31)<<6|o&63)}else if(240<=i&&i<365){var s=[i,e[++r],e[++r],e[++r]],a="%"+s.map(function(c){return c.toString(16)}).join("%");t+=decodeURIComponent(a)}else t+=String.fromCharCode((i&15)<<12|(e[++r]&63)<<6|e[++r]&63)}return t};function UE(e){return new TextEncoder().encode(e)}function FE(e){return new TextDecoder("utf-8").decode(e)}var LE=function(e){return typeof TextEncoder=="function"?UE(e):kE(e)},BE=function(e){return typeof TextDecoder=="function"?FE(e):DE(e)},jE=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",fromUtf8:LE,toUtf8:BE}),n0=Lu(jE);Object.defineProperty(wh,"__esModule",{value:!0});var yp=Z.exports,Qa=Kn,Ul=_h,qE=n0,$E=function(){function e(t){if(this.hash=new Ul.RawSha256,t){this.outer=new Ul.RawSha256;var r=KE(t),n=new Uint8Array(Qa.BLOCK_SIZE);n.set(r);for(var i=0;i<Qa.BLOCK_SIZE;i++)r[i]^=54,n[i]^=92;this.hash.update(r),this.outer.update(n);for(var i=0;i<r.byteLength;i++)r[i]=0}}return e.prototype.update=function(t){if(!(HE(t)||this.error))try{this.hash.update(i0(t))}catch(r){this.error=r}},e.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},e.prototype.digest=function(){return yp.__awaiter(this,void 0,void 0,function(){return yp.__generator(this,function(t){return[2,this.digestSync()]})})},e}();wh.Sha256=$E;function KE(e){var t=i0(e);if(t.byteLength>Qa.BLOCK_SIZE){var r=new Ul.RawSha256;r.update(t),t=r.digest()}var n=new Uint8Array(Qa.BLOCK_SIZE);return n.set(t),n}function HE(e){return typeof e=="string"?e.length===0:e.byteLength===0}function i0(e){return typeof e=="string"?qE.fromUtf8(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}(function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=Z.exports;t.__exportStar(wh,e)})(bh);var o0={},Fl={};for(var Ro=0;Ro<256;Ro++){var Mo=Ro.toString(16).toLowerCase();Mo.length===1&&(Mo="0"+Mo),o0[Ro]=Mo,Fl[Mo]=Ro}function G3(e){if(e.length%2!==0)throw new Error("Hex encoded strings must have an even number length");for(var t=new Uint8Array(e.length/2),r=0;r<e.length;r+=2){var n=e.substr(r,2).toLowerCase();if(n in Fl)t[r/2]=Fl[n];else throw new Error("Cannot decode unrecognized sequence "+n+" as hexadecimal")}return t}function Pn(e){for(var t="",r=0;r<e.byteLength;r++)t+=o0[e[r]];return t}var Ll={exports:{}};/*! https://mths.be/punycode v1.3.2 by @mathias */(function(e,t){(function(r){var n=t&&!t.nodeType&&t,i=e&&!e.nodeType&&e,o=typeof Ge=="object"&&Ge;(o.global===o||o.window===o||o.self===o)&&(r=o);var s,a=2147483647,c=36,u=1,l=26,f=38,h=700,v=72,g=128,w="-",y=/^xn--/,b=/[^\x20-\x7E]/,_=/[\x2E\u3002\uFF0E\uFF61]/g,T={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},A=c-u,x=Math.floor,R=String.fromCharCode,k;function U(z){throw RangeError(T[z])}function B(z,Y){for(var X=z.length,te=[];X--;)te[X]=Y(z[X]);return te}function N(z,Y){var X=z.split("@"),te="";X.length>1&&(te=X[0]+"@",z=X[1]),z=z.replace(_,".");var W=z.split("."),J=B(W,Y).join(".");return te+J}function F(z){for(var Y=[],X=0,te=z.length,W,J;X<te;)W=z.charCodeAt(X++),W>=55296&&W<=56319&&X<te?(J=z.charCodeAt(X++),(J&64512)==56320?Y.push(((W&1023)<<10)+(J&1023)+65536):(Y.push(W),X--)):Y.push(W);return Y}function L(z){return B(z,function(Y){var X="";return Y>65535&&(Y-=65536,X+=R(Y>>>10&1023|55296),Y=56320|Y&1023),X+=R(Y),X}).join("")}function I(z){return z-48<10?z-22:z-65<26?z-65:z-97<26?z-97:c}function P(z,Y){return z+22+75*(z<26)-((Y!=0)<<5)}function M(z,Y,X){var te=0;for(z=X?x(z/h):z>>1,z+=x(z/Y);z>A*l>>1;te+=c)z=x(z/A);return x(te+(A+1)*z/(z+f))}function j(z){var Y=[],X=z.length,te,W=0,J=g,ee=v,re,se,ve,ye,he,le,D,$,Q;for(re=z.lastIndexOf(w),re<0&&(re=0),se=0;se<re;++se)z.charCodeAt(se)>=128&&U("not-basic"),Y.push(z.charCodeAt(se));for(ve=re>0?re+1:0;ve<X;){for(ye=W,he=1,le=c;ve>=X&&U("invalid-input"),D=I(z.charCodeAt(ve++)),(D>=c||D>x((a-W)/he))&&U("overflow"),W+=D*he,$=le<=ee?u:le>=ee+l?l:le-ee,!(D<$);le+=c)Q=c-$,he>x(a/Q)&&U("overflow"),he*=Q;te=Y.length+1,ee=M(W-ye,te,ye==0),x(W/te)>a-J&&U("overflow"),J+=x(W/te),W%=te,Y.splice(W++,0,J)}return L(Y)}function K(z){var Y,X,te,W,J,ee,re,se,ve,ye,he,le=[],D,$,Q,O;for(z=F(z),D=z.length,Y=g,X=0,J=v,ee=0;ee<D;++ee)he=z[ee],he<128&&le.push(R(he));for(te=W=le.length,W&&le.push(w);te<D;){for(re=a,ee=0;ee<D;++ee)he=z[ee],he>=Y&&he<re&&(re=he);for($=te+1,re-Y>x((a-X)/$)&&U("overflow"),X+=(re-Y)*$,Y=re,ee=0;ee<D;++ee)if(he=z[ee],he<Y&&++X>a&&U("overflow"),he==Y){for(se=X,ve=c;ye=ve<=J?u:ve>=J+l?l:ve-J,!(se<ye);ve+=c)O=se-ye,Q=c-ye,le.push(R(P(ye+O%Q,0))),se=x(O/Q);le.push(R(P(se,0))),J=M(X,$,te==W),X=0,++te}++X,++Y}return le.join("")}function G(z){return N(z,function(Y){return y.test(Y)?j(Y.slice(4).toLowerCase()):Y})}function q(z){return N(z,function(Y){return b.test(Y)?"xn--"+K(Y):Y})}if(s={version:"1.3.2",ucs2:{decode:F,encode:L},decode:j,encode:K,toASCII:q,toUnicode:G},n&&i)if(e.exports==n)i.exports=s;else for(k in s)s.hasOwnProperty(k)&&(n[k]=s[k]);else r.punycode=s})(Ge)})(Ll,Ll.exports);var VE={isString:function(e){return typeof e=="string"},isObject:function(e){return typeof e=="object"&&e!==null},isNull:function(e){return e===null},isNullOrUndefined:function(e){return e==null}},gs={};function zE(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var WE=function(e,t,r,n){t=t||"&",r=r||"=";var i={};if(typeof e!="string"||e.length===0)return i;var o=/\+/g;e=e.split(t);var s=1e3;n&&typeof n.maxKeys=="number"&&(s=n.maxKeys);var a=e.length;s>0&&a>s&&(a=s);for(var c=0;c<a;++c){var u=e[c].replace(o,"%20"),l=u.indexOf(r),f,h,v,g;l>=0?(f=u.substr(0,l),h=u.substr(l+1)):(f=u,h=""),v=decodeURIComponent(f),g=decodeURIComponent(h),zE(i,v)?Array.isArray(i[v])?i[v].push(g):i[v]=[i[v],g]:i[v]=g}return i},ko=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}},GE=function(e,t,r,n){return t=t||"&",r=r||"=",e===null&&(e=void 0),typeof e=="object"?Object.keys(e).map(function(i){var o=encodeURIComponent(ko(i))+r;return Array.isArray(e[i])?e[i].map(function(s){return o+encodeURIComponent(ko(s))}).join(t):o+encodeURIComponent(ko(e[i]))}).join(t):n?encodeURIComponent(ko(n))+r+encodeURIComponent(ko(e)):""};gs.decode=gs.parse=WE;gs.encode=gs.stringify=GE;var YE=Ll.exports,Nr=VE,Ft=Sh,wa=iA;function Er(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var JE=/^([a-z0-9.+-]+:)/i,QE=/:[0-9]*$/,XE=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,ZE=["<",">",'"',"`"," ","\r",`
`,"	"],eA=["{","}","|","\\","^","`"].concat(ZE),Bl=["'"].concat(eA),bp=["%","/","?",";","#"].concat(Bl),wp=["/","?","#"],tA=255,_p=/^[+a-z0-9A-Z_-]{0,63}$/,rA=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,nA={javascript:!0,"javascript:":!0},jl={javascript:!0,"javascript:":!0},no={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},ql=gs;function Sh(e,t,r){if(e&&Nr.isObject(e)&&e instanceof Er)return e;var n=new Er;return n.parse(e,t,r),n}Er.prototype.parse=function(e,t,r){if(!Nr.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var n=e.indexOf("?"),i=n!==-1&&n<e.indexOf("#")?"?":"#",o=e.split(i),s=/\\/g;o[0]=o[0].replace(s,"/"),e=o.join(i);var a=e;if(a=a.trim(),!r&&e.split("#").length===1){var c=XE.exec(a);if(c)return this.path=a,this.href=a,this.pathname=c[1],c[2]?(this.search=c[2],t?this.query=ql.parse(this.search.substr(1)):this.query=this.search.substr(1)):t&&(this.search="",this.query={}),this}var u=JE.exec(a);if(u){u=u[0];var l=u.toLowerCase();this.protocol=l,a=a.substr(u.length)}if(r||u||a.match(/^\/\/[^@\/]+@[^@\/]+/)){var f=a.substr(0,2)==="//";f&&!(u&&jl[u])&&(a=a.substr(2),this.slashes=!0)}if(!jl[u]&&(f||u&&!no[u])){for(var h=-1,v=0;v<wp.length;v++){var g=a.indexOf(wp[v]);g!==-1&&(h===-1||g<h)&&(h=g)}var w,y;h===-1?y=a.lastIndexOf("@"):y=a.lastIndexOf("@",h),y!==-1&&(w=a.slice(0,y),a=a.slice(y+1),this.auth=decodeURIComponent(w)),h=-1;for(var v=0;v<bp.length;v++){var g=a.indexOf(bp[v]);g!==-1&&(h===-1||g<h)&&(h=g)}h===-1&&(h=a.length),this.host=a.slice(0,h),a=a.slice(h),this.parseHost(),this.hostname=this.hostname||"";var b=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!b)for(var _=this.hostname.split(/\./),v=0,T=_.length;v<T;v++){var A=_[v];if(!!A&&!A.match(_p)){for(var x="",R=0,k=A.length;R<k;R++)A.charCodeAt(R)>127?x+="x":x+=A[R];if(!x.match(_p)){var U=_.slice(0,v),B=_.slice(v+1),N=A.match(rA);N&&(U.push(N[1]),B.unshift(N[2])),B.length&&(a="/"+B.join(".")+a),this.hostname=U.join(".");break}}}this.hostname.length>tA?this.hostname="":this.hostname=this.hostname.toLowerCase(),b||(this.hostname=YE.toASCII(this.hostname));var F=this.port?":"+this.port:"",L=this.hostname||"";this.host=L+F,this.href+=this.host,b&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),a[0]!=="/"&&(a="/"+a))}if(!nA[l])for(var v=0,T=Bl.length;v<T;v++){var I=Bl[v];if(a.indexOf(I)!==-1){var P=encodeURIComponent(I);P===I&&(P=escape(I)),a=a.split(I).join(P)}}var M=a.indexOf("#");M!==-1&&(this.hash=a.substr(M),a=a.slice(0,M));var j=a.indexOf("?");if(j!==-1?(this.search=a.substr(j),this.query=a.substr(j+1),t&&(this.query=ql.parse(this.query)),a=a.slice(0,j)):t&&(this.search="",this.query={}),a&&(this.pathname=a),no[l]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var F=this.pathname||"",K=this.search||"";this.path=F+K}return this.href=this.format(),this};function iA(e){return Nr.isString(e)&&(e=Sh(e)),e instanceof Er?e.format():Er.prototype.format.call(e)}Er.prototype.format=function(){var e=this.auth||"";e&&(e=encodeURIComponent(e),e=e.replace(/%3A/i,":"),e+="@");var t=this.protocol||"",r=this.pathname||"",n=this.hash||"",i=!1,o="";this.host?i=e+this.host:this.hostname&&(i=e+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&Nr.isObject(this.query)&&Object.keys(this.query).length&&(o=ql.stringify(this.query));var s=this.search||o&&"?"+o||"";return t&&t.substr(-1)!==":"&&(t+=":"),this.slashes||(!t||no[t])&&i!==!1?(i="//"+(i||""),r&&r.charAt(0)!=="/"&&(r="/"+r)):i||(i=""),n&&n.charAt(0)!=="#"&&(n="#"+n),s&&s.charAt(0)!=="?"&&(s="?"+s),r=r.replace(/[?#]/g,function(a){return encodeURIComponent(a)}),s=s.replace("#","%23"),t+i+r+s+n};Er.prototype.resolve=function(e){return this.resolveObject(Sh(e,!1,!0)).format()};Er.prototype.resolveObject=function(e){if(Nr.isString(e)){var t=new Er;t.parse(e,!1,!0),e=t}for(var r=new Er,n=Object.keys(this),i=0;i<n.length;i++){var o=n[i];r[o]=this[o]}if(r.hash=e.hash,e.href==="")return r.href=r.format(),r;if(e.slashes&&!e.protocol){for(var s=Object.keys(e),a=0;a<s.length;a++){var c=s[a];c!=="protocol"&&(r[c]=e[c])}return no[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(e.protocol&&e.protocol!==r.protocol){if(!no[e.protocol]){for(var u=Object.keys(e),l=0;l<u.length;l++){var f=u[l];r[f]=e[f]}return r.href=r.format(),r}if(r.protocol=e.protocol,!e.host&&!jl[e.protocol]){for(var T=(e.pathname||"").split("/");T.length&&!(e.host=T.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),T[0]!==""&&T.unshift(""),T.length<2&&T.unshift(""),r.pathname=T.join("/")}else r.pathname=e.pathname;if(r.search=e.search,r.query=e.query,r.host=e.host||"",r.auth=e.auth,r.hostname=e.hostname||e.host,r.port=e.port,r.pathname||r.search){var h=r.pathname||"",v=r.search||"";r.path=h+v}return r.slashes=r.slashes||e.slashes,r.href=r.format(),r}var g=r.pathname&&r.pathname.charAt(0)==="/",w=e.host||e.pathname&&e.pathname.charAt(0)==="/",y=w||g||r.host&&e.pathname,b=y,_=r.pathname&&r.pathname.split("/")||[],T=e.pathname&&e.pathname.split("/")||[],A=r.protocol&&!no[r.protocol];if(A&&(r.hostname="",r.port=null,r.host&&(_[0]===""?_[0]=r.host:_.unshift(r.host)),r.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(T[0]===""?T[0]=e.host:T.unshift(e.host)),e.host=null),y=y&&(T[0]===""||_[0]==="")),w)r.host=e.host||e.host===""?e.host:r.host,r.hostname=e.hostname||e.hostname===""?e.hostname:r.hostname,r.search=e.search,r.query=e.query,_=T;else if(T.length)_||(_=[]),_.pop(),_=_.concat(T),r.search=e.search,r.query=e.query;else if(!Nr.isNullOrUndefined(e.search)){if(A){r.hostname=r.host=_.shift();var x=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;x&&(r.auth=x.shift(),r.host=r.hostname=x.shift())}return r.search=e.search,r.query=e.query,(!Nr.isNull(r.pathname)||!Nr.isNull(r.search))&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!_.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var R=_.slice(-1)[0],k=(r.host||e.host||_.length>1)&&(R==="."||R==="..")||R==="",U=0,B=_.length;B>=0;B--)R=_[B],R==="."?_.splice(B,1):R===".."?(_.splice(B,1),U++):U&&(_.splice(B,1),U--);if(!y&&!b)for(;U--;U)_.unshift("..");y&&_[0]!==""&&(!_[0]||_[0].charAt(0)!=="/")&&_.unshift(""),k&&_.join("/").substr(-1)!=="/"&&_.push("");var N=_[0]===""||_[0]&&_[0].charAt(0)==="/";if(A){r.hostname=r.host=N?"":_.length?_.shift():"";var x=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;x&&(r.auth=x.shift(),r.host=r.hostname=x.shift())}return y=y||r.host&&_.length,y&&!N&&_.unshift(""),_.length?r.pathname=_.join("/"):(r.pathname=null,r.path=null),(!Nr.isNull(r.pathname)||!Nr.isNull(r.search))&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=e.auth||r.auth,r.slashes=r.slashes||e.slashes,r.href=r.format(),r};Er.prototype.parseHost=function(){var e=this.host,t=QE.exec(e);t&&(t=t[0],t!==":"&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)};var oA=globalThis&&globalThis.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),sA=globalThis&&globalThis.__awaiter||function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(f){s(f)}}function c(l){try{u(n.throw(l))}catch(f){s(f)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(e,t||[])).next())})},aA=globalThis&&globalThis.__generator||function(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(l){return c([u,l])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){r.label=u[1];break}if(u[0]===6&&r.label<o[1]){r.label=o[1],o=u;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(u);break}o[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(l){u=[6,l],i=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},uA=globalThis&&globalThis.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return o},cA=globalThis&&globalThis.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(uA(arguments[t]));return e},Hs=new Ae("Util"),Wt=function(e){oA(t,e);function t(r){var n=e.call(this,r)||this;return n.nonRetryable=!0,n}return t}(Error),lA=function(e){var t="nonRetryable";return e&&e[t]};function s0(e,t,r,n){return n===void 0&&(n=1),sA(this,void 0,void 0,function(){var i,o;return aA(this,function(s){switch(s.label){case 0:if(typeof e!="function")throw Error("functionToRetry must be a function");Hs.debug(e.name+" attempt #"+n+" with this vars: "+JSON.stringify(t)),s.label=1;case 1:return s.trys.push([1,3,,8]),[4,e.apply(void 0,cA(t))];case 2:return[2,s.sent()];case 3:if(i=s.sent(),Hs.debug("error on "+e.name,i),lA(i))throw Hs.debug(e.name+" non retryable error",i),i;return o=r(n,t,i),Hs.debug(e.name+" retrying in "+o+" ms"),o===!1?[3,6]:[4,new Promise(function(a){return setTimeout(a,o)})];case 4:return s.sent(),[4,s0(e,t,r,n+1)];case 5:return[2,s.sent()];case 6:throw i;case 7:return[3,8];case 8:return[2]}})})}var fA=5*60*1e3;function hA(e){var t=100,r=100;return function(n){var i=Math.pow(2,n)*t+r*Math.random();return i>e?!1:i}}var ju=function(e,t,r){return r===void 0&&(r=fA),s0(e,t,hA(r))};/*!
 * The MIT License (MIT)
 *
 * Copyright (c) 2016 Christian Speckner <cnspeckn@googlemail.com>
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var dA=function(){function e(){this._queue=[],this._pending=!1}return e.prototype.isLocked=function(){return this._pending},e.prototype.acquire=function(){var t=this,r=new Promise(function(n){return t._queue.push(n)});return this._pending||this._dispatchNext(),r},e.prototype.runExclusive=function(t){return this.acquire().then(function(r){var n;try{n=t()}catch(i){throw r(),i}return Promise.resolve(n).then(function(i){return r(),i},function(i){throw r(),i})})},e.prototype._dispatchNext=function(){this._queue.length>0?(this._pending=!0,this._queue.shift()(this._dispatchNext.bind(this))):this._pending=!1},e}(),pA=dA,qu={};Object.defineProperty(qu,"__esModule",{value:!0});qu.Observable=void 0;function Eh(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Sp(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ah(e,t,r){return t&&Sp(e.prototype,t),r&&Sp(e,r),e}var Th=function(){return typeof Symbol=="function"},Ih=function(e){return Th()&&Boolean(Symbol[e])},xh=function(e){return Ih(e)?Symbol[e]:"@@"+e};Th()&&!Ih("observable")&&(Symbol.observable=Symbol("observable"));var vA=xh("iterator"),$l=xh("observable"),a0=xh("species");function Xa(e,t){var r=e[t];if(r!=null){if(typeof r!="function")throw new TypeError(r+" is not a function");return r}}function Do(e){var t=e.constructor;return t!==void 0&&(t=t[a0],t===null&&(t=void 0)),t!==void 0?t:$u}function gA(e){return e instanceof $u}function ho(e){ho.log?ho.log(e):setTimeout(function(){throw e})}function _a(e){Promise.resolve().then(function(){try{e()}catch(t){ho(t)}})}function u0(e){var t=e._cleanup;if(t!==void 0&&(e._cleanup=void 0,!!t))try{if(typeof t=="function")t();else{var r=Xa(t,"unsubscribe");r&&r.call(t)}}catch(n){ho(n)}}function Kl(e){e._observer=void 0,e._queue=void 0,e._state="closed"}function mA(e){var t=e._queue;if(!!t){e._queue=void 0,e._state="ready";for(var r=0;r<t.length&&(c0(e,t[r].type,t[r].value),e._state!=="closed");++r);}}function c0(e,t,r){e._state="running";var n=e._observer;try{var i=Xa(n,t);switch(t){case"next":i&&i.call(n,r);break;case"error":if(Kl(e),i)i.call(n,r);else throw r;break;case"complete":Kl(e),i&&i.call(n);break}}catch(o){ho(o)}e._state==="closed"?u0(e):e._state==="running"&&(e._state="ready")}function wc(e,t,r){if(e._state!=="closed"){if(e._state==="buffering"){e._queue.push({type:t,value:r});return}if(e._state!=="ready"){e._state="buffering",e._queue=[{type:t,value:r}],_a(function(){return mA(e)});return}c0(e,t,r)}}var yA=function(){function e(t,r){Eh(this,e),this._cleanup=void 0,this._observer=t,this._queue=void 0,this._state="initializing";var n=new bA(this);try{this._cleanup=r.call(void 0,n)}catch(i){n.error(i)}this._state==="initializing"&&(this._state="ready")}return Ah(e,[{key:"unsubscribe",value:function(){this._state!=="closed"&&(Kl(this),u0(this))}},{key:"closed",get:function(){return this._state==="closed"}}]),e}(),bA=function(){function e(t){Eh(this,e),this._subscription=t}return Ah(e,[{key:"next",value:function(r){wc(this._subscription,"next",r)}},{key:"error",value:function(r){wc(this._subscription,"error",r)}},{key:"complete",value:function(){wc(this._subscription,"complete")}},{key:"closed",get:function(){return this._subscription._state==="closed"}}]),e}(),$u=function(){function e(t){if(Eh(this,e),!(this instanceof e))throw new TypeError("Observable cannot be called as a function");if(typeof t!="function")throw new TypeError("Observable initializer must be a function");this._subscriber=t}return Ah(e,[{key:"subscribe",value:function(r){return(typeof r!="object"||r===null)&&(r={next:r,error:arguments[1],complete:arguments[2]}),new yA(r,this._subscriber)}},{key:"forEach",value:function(r){var n=this;return new Promise(function(i,o){if(typeof r!="function"){o(new TypeError(r+" is not a function"));return}function s(){a.unsubscribe(),i()}var a=n.subscribe({next:function(c){try{r(c,s)}catch(u){o(u),a.unsubscribe()}},error:o,complete:i})})}},{key:"map",value:function(r){var n=this;if(typeof r!="function")throw new TypeError(r+" is not a function");var i=Do(this);return new i(function(o){return n.subscribe({next:function(s){try{s=r(s)}catch(a){return o.error(a)}o.next(s)},error:function(s){o.error(s)},complete:function(){o.complete()}})})}},{key:"filter",value:function(r){var n=this;if(typeof r!="function")throw new TypeError(r+" is not a function");var i=Do(this);return new i(function(o){return n.subscribe({next:function(s){try{if(!r(s))return}catch(a){return o.error(a)}o.next(s)},error:function(s){o.error(s)},complete:function(){o.complete()}})})}},{key:"reduce",value:function(r){var n=this;if(typeof r!="function")throw new TypeError(r+" is not a function");var i=Do(this),o=arguments.length>1,s=!1,a=arguments[1],c=a;return new i(function(u){return n.subscribe({next:function(l){var f=!s;if(s=!0,!f||o)try{c=r(c,l)}catch(h){return u.error(h)}else c=l},error:function(l){u.error(l)},complete:function(){if(!s&&!o)return u.error(new TypeError("Cannot reduce an empty sequence"));u.next(c),u.complete()}})})}},{key:"concat",value:function(){for(var r=this,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];var s=Do(this);return new s(function(a){var c,u=0;function l(f){c=f.subscribe({next:function(h){a.next(h)},error:function(h){a.error(h)},complete:function(){u===i.length?(c=void 0,a.complete()):l(s.from(i[u++]))}})}return l(r),function(){c&&(c.unsubscribe(),c=void 0)}})}},{key:"flatMap",value:function(r){var n=this;if(typeof r!="function")throw new TypeError(r+" is not a function");var i=Do(this);return new i(function(o){var s=[],a=n.subscribe({next:function(u){if(r)try{u=r(u)}catch(f){return o.error(f)}var l=i.from(u).subscribe({next:function(f){o.next(f)},error:function(f){o.error(f)},complete:function(){var f=s.indexOf(l);f>=0&&s.splice(f,1),c()}});s.push(l)},error:function(u){o.error(u)},complete:function(){c()}});function c(){a.closed&&s.length===0&&o.complete()}return function(){s.forEach(function(u){return u.unsubscribe()}),a.unsubscribe()}})}},{key:$l,value:function(){return this}}],[{key:"from",value:function(r){var n=typeof this=="function"?this:e;if(r==null)throw new TypeError(r+" is not an object");var i=Xa(r,$l);if(i){var o=i.call(r);if(Object(o)!==o)throw new TypeError(o+" is not an object");return gA(o)&&o.constructor===n?o:new n(function(s){return o.subscribe(s)})}if(Ih("iterator")&&(i=Xa(r,vA),i))return new n(function(s){_a(function(){if(!s.closed){var a=!0,c=!1,u=void 0;try{for(var l=i.call(r)[Symbol.iterator](),f;!(a=(f=l.next()).done);a=!0){var h=f.value;if(s.next(h),s.closed)return}}catch(v){c=!0,u=v}finally{try{!a&&l.return!=null&&l.return()}finally{if(c)throw u}}s.complete()}})});if(Array.isArray(r))return new n(function(s){_a(function(){if(!s.closed){for(var a=0;a<r.length;++a)if(s.next(r[a]),s.closed)return;s.complete()}})});throw new TypeError(r+" is not observable")}},{key:"of",value:function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var o=typeof this=="function"?this:e;return new o(function(s){_a(function(){if(!s.closed){for(var a=0;a<n.length;++a)if(s.next(n[a]),s.closed)return;s.complete()}})})}},{key:a0,get:function(){return this}}]),e}();qu.Observable=$u;Th()&&Object.defineProperty($u,Symbol("extensions"),{value:{symbol:$l,hostReportError:ho},configurable:!0});var wA=qu.Observable,_A=wA,st=_A,SA=globalThis&&globalThis.__values||function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},EA=function(){function e(){}return e.prototype.networkMonitor=function(t){if(Lr().isNode)return st.from([{online:!0}]);var r=mh()?self:window;return new st(function(n){n.next({online:r.navigator.onLine});var i=function(){return n.next({online:!0})},o=function(){return n.next({online:!1})};return r.addEventListener("online",i),r.addEventListener("offline",o),e._observers.push(n),function(){r.removeEventListener("online",i),r.removeEventListener("offline",o),e._observers=e._observers.filter(function(s){return s!==n})}})},e._observerOverride=function(t){var r,n,i=function(c){if(c.closed)return e._observers=e._observers.filter(function(u){return u!==c}),"continue";c.next(t)};try{for(var o=SA(e._observers),s=o.next();!s.done;s=o.next()){var a=s.value;i(a)}}catch(c){r={error:c}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}},e._observers=[],e}(),AA=EA,TA=globalThis&&globalThis.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return o},IA=1e3*60*5,ur={clockOffset:0,getDateWithClockOffset:function(){return ur.clockOffset?new Date(new Date().getTime()+ur.clockOffset):new Date},getClockOffset:function(){return ur.clockOffset},getHeaderStringFromDate:function(e){return e===void 0&&(e=ur.getDateWithClockOffset()),e.toISOString().replace(/[:\-]|\.\d{3}/g,"")},getDateFromHeaderString:function(e){var t=TA(e.match(/^(\d{4})(\d{2})(\d{2})T(\d{2})(\d{2})(\d{2}).+/),7),r=t[1],n=t[2],i=t[3],o=t[4],s=t[5],a=t[6];return new Date(Date.UTC(Number(r),Number(n)-1,Number(i),Number(o),Number(s),Number(a)))},isClockSkewed:function(e){return Math.abs(e.getTime()-ur.getDateWithClockOffset().getTime())>=IA},isClockSkewError:function(e){if(!e.response||!e.response.headers)return!1;var t=e.response.headers;return Boolean(["BadRequestException","InvalidSignatureException"].includes(t["x-amzn-errortype"])&&(t.date||t.Date))},setClockOffset:function(e){ur.clockOffset=e}};function xA(e){return e.split("").map(function(t){return t.charCodeAt(0).toString(16).padStart(2,"0")}).join("")}function CA(e){return e.match(/.{2}/g).map(function(t){return String.fromCharCode(parseInt(t,16))}).join("")}var Bt=globalThis&&globalThis.__assign||function(){return Bt=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Bt.apply(this,arguments)},OA=globalThis&&globalThis.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r},l0=new Ae("Signer"),Vs="AWS4-HMAC-SHA256",PA="iotdevicegateway",jo=function(e,t){var r=new bh.Sha256(e);return r.update(t),r.digestSync()},f0=function(e){var t=e||"",r=new bh.Sha256;return r.update(t),Pn(r.digestSync())},NA=function(e){return e.replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})},RA=function(e){return!e||e.length===0?"":e.split("&").map(function(t){var r=t.split("=");if(r.length===1)return t;var n=NA(r[1]);return r[0]+"="+n}).sort(function(t,r){var n=t.split("=")[0],i=r.split("=")[0];return n===i?t<r?-1:1:n<i?-1:1}).join("&")},MA=function(e){return!e||Object.keys(e).length===0?"":Object.keys(e).map(function(t){return{key:t.toLowerCase(),value:e[t]?e[t].trim().replace(/\s+/g," "):""}}).sort(function(t,r){return t.key<r.key?-1:1}).map(function(t){return t.key+":"+t.value}).join(`
`)+`
`},h0=function(e){return Object.keys(e).map(function(t){return t.toLowerCase()}).sort().join(";")},Ep=function(e){var t=Ft(e.url);return[e.method||"/",encodeURIComponent(t.pathname).replace(/%2F/gi,"/"),RA(t.query),MA(e.headers),h0(e.headers),f0(e.data)].join(`
`)},Ap=function(e){var t=Ft(e.url),r=t.host,n=r.match(/([^\.]+)\.(?:([^\.]*)\.)?amazonaws\.com$/),i=(n||[]).slice(1,3);return i[1]==="es"&&(i=i.reverse()),{service:e.service||i[0],region:e.region||i[1]}},Tp=function(e,t,r){return[e,t,r,"aws4_request"].join("/")},Ip=function(e,t,r,n){return[e,r,n,f0(t)].join(`
`)},xp=function(e,t,r){l0.debug(r);var n="AWS4"+e,i=jo(n,t),o=jo(i,r.region),s=jo(o,r.service),a=jo(s,"aws4_request");return a},Cp=function(e,t){return Pn(jo(e,t))},kA=function(e,t,r,n,i){return[e+" Credential="+t+"/"+r,"SignedHeaders="+n,"Signature="+i].join(", ")},d0=function(){function e(){}return e.sign=function(t,r,n){n===void 0&&(n=null),t.headers=t.headers||{};var i=ur.getDateWithClockOffset(),o=i.toISOString().replace(/[:\-]|\.\d{3}/g,""),s=o.substr(0,8),a=Ft(t.url);t.headers.host=a.host,t.headers["x-amz-date"]=o,r.session_token&&(t.headers["X-Amz-Security-Token"]=r.session_token);var c=Ep(t);l0.debug(c);var u=n||Ap(t),l=Tp(s,u.region,u.service),f=Ip(Vs,c,o,l),h=xp(r.secret_key,s,u),v=Cp(h,f),g=kA(Vs,r.access_key,l,h0(t.headers),v);return t.headers.Authorization=g,t},e.signUrl=function(t,r,n,i){var o=typeof t=="object"?t.url:t,s=typeof t=="object"?t.method:"GET",a=typeof t=="object"?t.body:void 0,c=ur.getDateWithClockOffset().toISOString().replace(/[:\-]|\.\d{3}/g,""),u=c.substr(0,8),l=Ft(o,!0,!0);l.search;var f=OA(l,["search"]),h=f.host,v={host:h},g=n||Ap({url:wa(f)}),w=g.region,y=g.service,b=Tp(u,w,y),_=r.session_token&&y!==PA,T=Bt(Bt(Bt({"X-Amz-Algorithm":Vs,"X-Amz-Credential":[r.access_key,b].join("/"),"X-Amz-Date":c.substr(0,16)},_?{"X-Amz-Security-Token":""+r.session_token}:{}),i?{"X-Amz-Expires":""+i}:{}),{"X-Amz-SignedHeaders":Object.keys(v).join(",")}),A=Ep({method:s,url:wa(Bt(Bt({},f),{query:Bt(Bt({},f.query),T)})),headers:v,data:a}),x=Ip(Vs,A,c,b),R=xp(r.secret_key,u,{region:w,service:y}),k=Cp(R,x),U=Bt({"X-Amz-Signature":k},r.session_token&&{"X-Amz-Security-Token":r.session_token}),B=wa({protocol:f.protocol,slashes:!0,hostname:f.hostname,port:f.port,pathname:f.pathname,query:Bt(Bt(Bt({},f.query),T),U)});return B},e}(),Za=globalThis&&globalThis.__assign||function(){return Za=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Za.apply(this,arguments)},DA=new Ae("Parser"),UA=function(e){var t={};if(e.aws_mobile_analytics_app_id){var r={AWSPinpoint:{appId:e.aws_mobile_analytics_app_id,region:e.aws_mobile_analytics_app_region}};t.Analytics=r}(e.aws_cognito_identity_pool_id||e.aws_user_pools_id)&&(t.Auth={userPoolId:e.aws_user_pools_id,userPoolWebClientId:e.aws_user_pools_web_client_id,region:e.aws_cognito_region,identityPoolId:e.aws_cognito_identity_pool_id,identityPoolRegion:e.aws_cognito_region,mandatorySignIn:e.aws_mandatory_sign_in==="enable"});var n;return e.aws_user_files_s3_bucket?n={AWSS3:{bucket:e.aws_user_files_s3_bucket,region:e.aws_user_files_s3_bucket_region,dangerouslyConnectToHttpEndpointForTesting:e.aws_user_files_s3_dangerously_connect_to_http_endpoint_for_testing}}:n=e?e.Storage||e:{},e.Logging&&(t.Logging=Za(Za({},e.Logging),{region:e.aws_project_region})),e.geo&&(t.Geo=Object.assign({},e.geo),e.geo.amazon_location_service&&(t.Geo={AmazonLocationService:e.geo.amazon_location_service})),t.Analytics=Object.assign({},t.Analytics,e.Analytics),t.Auth=Object.assign({},t.Auth,e.Auth),t.Storage=Object.assign({},n),t.Logging=Object.assign({},t.Logging,e.Logging),DA.debug("parse config",e,"to amplifyconfig",t),t},FA=function(){function e(){}return e.parseMobilehubConfig=UA,e}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Hl=function(e,t){return Hl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},Hl(e,t)};function Ch(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Hl(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var ne=function(){return ne=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},ne.apply(this,arguments)};function dt(e,t,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(f){s(f)}}function c(l){try{u(n.throw(l))}catch(f){s(f)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(e,t||[])).next())})}function pt(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(l){return c([u,l])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){r.label=u[1];break}if(u[0]===6&&r.label<o[1]){r.label=o[1],o=u;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(u);break}o[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(l){u=[6,l],i=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function LA(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return o}var p0={},Ku={},Ps={},Hu={};Object.defineProperty(Hu,"__esModule",{value:!0});Hu.isEmptyData=void 0;function BA(e){return typeof e=="string"?e.length===0:e.byteLength===0}Hu.isEmptyData=BA;var Oh={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.EMPTY_DATA_SHA_256=e.SHA_256_HMAC_ALGO=e.SHA_256_HASH=void 0,e.SHA_256_HASH={name:"SHA-256"},e.SHA_256_HMAC_ALGO={name:"HMAC",hash:e.SHA_256_HASH},e.EMPTY_DATA_SHA_256=new Uint8Array([227,176,196,66,152,252,28,20,154,251,244,200,153,111,185,36,39,174,65,228,100,155,147,76,164,149,153,27,120,82,184,85])})(Oh);var jA={};function qA(){return typeof window!="undefined"?window:typeof self!="undefined"?self:jA}var $A=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",locateWindow:qA}),Ph=Lu($A);Object.defineProperty(Ps,"__esModule",{value:!0});Ps.Sha256=void 0;var KA=Hu,v0=Oh,HA=n0,Vl=Ph,VA=function(){function e(t){t?(this.operation=zA(t).then(function(r){return(0,Vl.locateWindow)().msCrypto.subtle.sign(v0.SHA_256_HMAC_ALGO,r)}),this.operation.catch(function(){})):this.operation=Promise.resolve((0,Vl.locateWindow)().msCrypto.subtle.digest("SHA-256"))}return e.prototype.update=function(t){var r=this;(0,KA.isEmptyData)(t)||(this.operation=this.operation.then(function(n){return n.onerror=function(){r.operation=Promise.reject(new Error("Error encountered updating hash"))},n.process(g0(t)),n}),this.operation.catch(function(){}))},e.prototype.digest=function(){return this.operation.then(function(t){return new Promise(function(r,n){t.onerror=function(){n(new Error("Error encountered finalizing hash"))},t.oncomplete=function(){t.result&&r(new Uint8Array(t.result)),n(new Error("Error encountered finalizing hash"))},t.finish()})})},e}();Ps.Sha256=VA;function zA(e){return new Promise(function(t,r){var n=(0,Vl.locateWindow)().msCrypto.subtle.importKey("raw",g0(e),v0.SHA_256_HMAC_ALGO,!1,["sign"]);n.oncomplete=function(){n.result&&t(n.result),r(new Error("ImportKey completed without importing key."))},n.onerror=function(){r(new Error("ImportKey failed to import key."))}})}function g0(e){return typeof e=="string"?(0,HA.fromUtf8)(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}var Ns={},Nh={},Vu={},WA=function(e){for(var t=[],r=0,n=e.length;r<n;r++){var i=e.charCodeAt(r);if(i<128)t.push(i);else if(i<2048)t.push(i>>6|192,i&63|128);else if(r+1<e.length&&(i&64512)===55296&&(e.charCodeAt(r+1)&64512)===56320){var o=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023);t.push(o>>18|240,o>>12&63|128,o>>6&63|128,o&63|128)}else t.push(i>>12|224,i>>6&63|128,i&63|128)}return Uint8Array.from(t)},GA=function(e){for(var t="",r=0,n=e.length;r<n;r++){var i=e[r];if(i<128)t+=String.fromCharCode(i);else if(192<=i&&i<224){var o=e[++r];t+=String.fromCharCode((i&31)<<6|o&63)}else if(240<=i&&i<365){var s=[i,e[++r],e[++r],e[++r]],a="%"+s.map(function(c){return c.toString(16)}).join("%");t+=decodeURIComponent(a)}else t+=String.fromCharCode((i&15)<<12|(e[++r]&63)<<6|e[++r]&63)}return t};function YA(e){return new TextEncoder().encode(e)}function JA(e){return new TextDecoder("utf-8").decode(e)}var m0=function(e){return typeof TextEncoder=="function"?YA(e):WA(e)},y0=function(e){return typeof TextDecoder=="function"?JA(e):GA(e)},QA=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",fromUtf8:m0,toUtf8:y0}),XA=Lu(QA);Object.defineProperty(Vu,"__esModule",{value:!0});Vu.convertToBuffer=void 0;var ZA=XA,eT=typeof Buffer!="undefined"&&Buffer.from?function(e){return Buffer.from(e,"utf8")}:ZA.fromUtf8;function tT(e){return e instanceof Uint8Array?e:typeof e=="string"?eT(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}Vu.convertToBuffer=tT;var zu={};Object.defineProperty(zu,"__esModule",{value:!0});zu.isEmptyData=void 0;function rT(e){return typeof e=="string"?e.length===0:e.byteLength===0}zu.isEmptyData=rT;var Wu={};Object.defineProperty(Wu,"__esModule",{value:!0});Wu.numToUint8=void 0;function nT(e){return new Uint8Array([(e&4278190080)>>24,(e&16711680)>>16,(e&65280)>>8,e&255])}Wu.numToUint8=nT;var Gu={};Object.defineProperty(Gu,"__esModule",{value:!0});Gu.uint32ArrayFrom=void 0;function iT(e){if(!Array.from){for(var t=new Uint32Array(e.length),r=0;r<e.length;)t[r]=e[r];return t}return Uint32Array.from(e)}Gu.uint32ArrayFrom=iT;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.uint32ArrayFrom=e.numToUint8=e.isEmptyData=e.convertToBuffer=void 0;var t=Vu;Object.defineProperty(e,"convertToBuffer",{enumerable:!0,get:function(){return t.convertToBuffer}});var r=zu;Object.defineProperty(e,"isEmptyData",{enumerable:!0,get:function(){return r.isEmptyData}});var n=Wu;Object.defineProperty(e,"numToUint8",{enumerable:!0,get:function(){return n.numToUint8}});var i=Gu;Object.defineProperty(e,"uint32ArrayFrom",{enumerable:!0,get:function(){return i.uint32ArrayFrom}})})(Nh);Object.defineProperty(Ns,"__esModule",{value:!0});Ns.Sha256=void 0;var zs=Nh,Ws=Oh,_c=Ph,oT=function(){function e(t){this.toHash=new Uint8Array(0),t!==void 0&&(this.key=new Promise(function(r,n){(0,_c.locateWindow)().crypto.subtle.importKey("raw",(0,zs.convertToBuffer)(t),Ws.SHA_256_HMAC_ALGO,!1,["sign"]).then(r,n)}),this.key.catch(function(){}))}return e.prototype.update=function(t){if(!(0,zs.isEmptyData)(t)){var r=(0,zs.convertToBuffer)(t),n=new Uint8Array(this.toHash.byteLength+r.byteLength);n.set(this.toHash,0),n.set(r,this.toHash.byteLength),this.toHash=n}},e.prototype.digest=function(){var t=this;return this.key?this.key.then(function(r){return(0,_c.locateWindow)().crypto.subtle.sign(Ws.SHA_256_HMAC_ALGO,r,t.toHash).then(function(n){return new Uint8Array(n)})}):(0,zs.isEmptyData)(this.toHash)?Promise.resolve(Ws.EMPTY_DATA_SHA_256):Promise.resolve().then(function(){return(0,_c.locateWindow)().crypto.subtle.digest(Ws.SHA_256_HASH,t.toHash)}).then(function(r){return Promise.resolve(new Uint8Array(r))})},e}();Ns.Sha256=oT;var b0={},Yu={},Ht={};Object.defineProperty(Ht,"__esModule",{value:!0});Ht.MAX_HASHABLE_LENGTH=Ht.INIT=Ht.KEY=Ht.DIGEST_LENGTH=Ht.BLOCK_SIZE=void 0;Ht.BLOCK_SIZE=64;Ht.DIGEST_LENGTH=32;Ht.KEY=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);Ht.INIT=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];Ht.MAX_HASHABLE_LENGTH=Math.pow(2,53)-1;var Ju={};Object.defineProperty(Ju,"__esModule",{value:!0});Ju.RawSha256=void 0;var tr=Ht,sT=function(){function e(){this.state=Int32Array.from(tr.INIT),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return e.prototype.update=function(t){if(this.finished)throw new Error("Attempted to update an already finished hash.");var r=0,n=t.byteLength;if(this.bytesHashed+=n,this.bytesHashed*8>tr.MAX_HASHABLE_LENGTH)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;n>0;)this.buffer[this.bufferLength++]=t[r++],n--,this.bufferLength===tr.BLOCK_SIZE&&(this.hashBuffer(),this.bufferLength=0)},e.prototype.digest=function(){if(!this.finished){var t=this.bytesHashed*8,r=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),n=this.bufferLength;if(r.setUint8(this.bufferLength++,128),n%tr.BLOCK_SIZE>=tr.BLOCK_SIZE-8){for(var i=this.bufferLength;i<tr.BLOCK_SIZE;i++)r.setUint8(i,0);this.hashBuffer(),this.bufferLength=0}for(var i=this.bufferLength;i<tr.BLOCK_SIZE-8;i++)r.setUint8(i,0);r.setUint32(tr.BLOCK_SIZE-8,Math.floor(t/4294967296),!0),r.setUint32(tr.BLOCK_SIZE-4,t),this.hashBuffer(),this.finished=!0}for(var o=new Uint8Array(tr.DIGEST_LENGTH),i=0;i<8;i++)o[i*4]=this.state[i]>>>24&255,o[i*4+1]=this.state[i]>>>16&255,o[i*4+2]=this.state[i]>>>8&255,o[i*4+3]=this.state[i]>>>0&255;return o},e.prototype.hashBuffer=function(){for(var t=this,r=t.buffer,n=t.state,i=n[0],o=n[1],s=n[2],a=n[3],c=n[4],u=n[5],l=n[6],f=n[7],h=0;h<tr.BLOCK_SIZE;h++){if(h<16)this.temp[h]=(r[h*4]&255)<<24|(r[h*4+1]&255)<<16|(r[h*4+2]&255)<<8|r[h*4+3]&255;else{var v=this.temp[h-2],g=(v>>>17|v<<15)^(v>>>19|v<<13)^v>>>10;v=this.temp[h-15];var w=(v>>>7|v<<25)^(v>>>18|v<<14)^v>>>3;this.temp[h]=(g+this.temp[h-7]|0)+(w+this.temp[h-16]|0)}var y=(((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))+(c&u^~c&l)|0)+(f+(tr.KEY[h]+this.temp[h]|0)|0)|0,b=((i>>>2|i<<30)^(i>>>13|i<<19)^(i>>>22|i<<10))+(i&o^i&s^o&s)|0;f=l,l=u,u=c,c=a+y|0,a=s,s=o,o=i,i=y+b|0}n[0]+=i,n[1]+=o,n[2]+=s,n[3]+=a,n[4]+=c,n[5]+=u,n[6]+=l,n[7]+=f},e}();Ju.RawSha256=sT;Object.defineProperty(Yu,"__esModule",{value:!0});Yu.Sha256=void 0;var Op=Z.exports,eu=Ht,zl=Ju,Wl=Nh,aT=function(){function e(t){if(this.hash=new zl.RawSha256,t){this.outer=new zl.RawSha256;var r=uT(t),n=new Uint8Array(eu.BLOCK_SIZE);n.set(r);for(var i=0;i<eu.BLOCK_SIZE;i++)r[i]^=54,n[i]^=92;this.hash.update(r),this.outer.update(n);for(var i=0;i<r.byteLength;i++)r[i]=0}}return e.prototype.update=function(t){if(!((0,Wl.isEmptyData)(t)||this.error))try{this.hash.update((0,Wl.convertToBuffer)(t))}catch(r){this.error=r}},e.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},e.prototype.digest=function(){return(0,Op.__awaiter)(this,void 0,void 0,function(){return(0,Op.__generator)(this,function(t){return[2,this.digestSync()]})})},e}();Yu.Sha256=aT;function uT(e){var t=(0,Wl.convertToBuffer)(e);if(t.byteLength>eu.BLOCK_SIZE){var r=new zl.RawSha256;r.update(t),t=r.digest()}var n=new Uint8Array(eu.BLOCK_SIZE);return n.set(t),n}(function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=Z.exports;(0,t.__exportStar)(Yu,e)})(b0);var w0={},Dr={};Object.defineProperty(Dr,"__esModule",{value:!0});Dr.supportsZeroByteGCM=Dr.supportsSubtleCrypto=Dr.supportsSecureRandom=Dr.supportsWebCrypto=void 0;var Pp=Z.exports,cT=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];function lT(e){if(_0(e)&&typeof e.crypto.subtle=="object"){var t=e.crypto.subtle;return Rh(t)}return!1}Dr.supportsWebCrypto=lT;function _0(e){if(typeof e=="object"&&typeof e.crypto=="object"){var t=e.crypto.getRandomValues;return typeof t=="function"}return!1}Dr.supportsSecureRandom=_0;function Rh(e){return e&&cT.every(function(t){return typeof e[t]=="function"})}Dr.supportsSubtleCrypto=Rh;function fT(e){return Pp.__awaiter(this,void 0,void 0,function(){var t,r;return Pp.__generator(this,function(n){switch(n.label){case 0:if(!Rh(e))return[2,!1];n.label=1;case 1:return n.trys.push([1,4,,5]),[4,e.generateKey({name:"AES-GCM",length:128},!1,["encrypt"])];case 2:return t=n.sent(),[4,e.encrypt({name:"AES-GCM",iv:new Uint8Array(Array(12)),additionalData:new Uint8Array(Array(16)),tagLength:128},t,new Uint8Array(0))];case 3:return r=n.sent(),[2,r.byteLength===16];case 4:return n.sent(),[2,!1];case 5:return[2]}})})}Dr.supportsZeroByteGCM=fT;(function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=Z.exports;t.__exportStar(Dr,e)})(w0);var S0={},E0={};Object.defineProperty(E0,"__esModule",{value:!0});var A0={};Object.defineProperty(A0,"__esModule",{value:!0});var T0={};Object.defineProperty(T0,"__esModule",{value:!0});var I0={};Object.defineProperty(I0,"__esModule",{value:!0});var Qu={};Object.defineProperty(Qu,"__esModule",{value:!0});Qu.isMsWindow=void 0;var hT=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];function dT(e){return"MSInputMethodContext"in e&&"msCrypto"in e}function pT(e){if(dT(e)&&e.msCrypto.subtle!==void 0){var t=e.msCrypto,r=t.getRandomValues,n=t.subtle;return hT.map(function(i){return n[i]}).concat(r).every(function(i){return typeof i=="function"})}return!1}Qu.isMsWindow=pT;(function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=Z.exports;t.__exportStar(E0,e),t.__exportStar(A0,e),t.__exportStar(T0,e),t.__exportStar(I0,e),t.__exportStar(Qu,e)})(S0);Object.defineProperty(Ku,"__esModule",{value:!0});Ku.Sha256=void 0;var vT=Ps,gT=Ns,mT=b0,yT=w0,bT=S0,Np=Ph,wT=function(){function e(t){(0,yT.supportsWebCrypto)((0,Np.locateWindow)())?this.hash=new gT.Sha256(t):(0,bT.isMsWindow)((0,Np.locateWindow)())?this.hash=new vT.Sha256(t):this.hash=new mT.Sha256(t)}return e.prototype.update=function(t,r){this.hash.update(t,r)},e.prototype.digest=function(){return this.hash.digest()},e}();Ku.Sha256=wT;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.WebCryptoSha256=e.Ie11Sha256=void 0;var t=Z.exports;(0,t.__exportStar)(Ku,e);var r=Ps;Object.defineProperty(e,"Ie11Sha256",{enumerable:!0,get:function(){return r.Sha256}});var n=Ns;Object.defineProperty(e,"WebCryptoSha256",{enumerable:!0,get:function(){return n.Sha256}})})(p0);var Rp=function(){function e(t){this.statusCode=t.statusCode,this.headers=t.headers||{},this.body=t.body}return e.isInstance=function(t){if(!t)return!1;var r=t;return typeof r.statusCode=="number"&&typeof r.headers=="object"},e}(),yi=function(){function e(t){this.method=t.method||"GET",this.hostname=t.hostname||"localhost",this.port=t.port,this.query=t.query||{},this.headers=t.headers||{},this.body=t.body,this.protocol=t.protocol?t.protocol.substr(-1)!==":"?t.protocol+":":t.protocol:"https:",this.path=t.path?t.path.charAt(0)!=="/"?"/"+t.path:t.path:"/"}return e.isInstance=function(t){if(!t)return!1;var r=t;return"method"in r&&"protocol"in r&&"hostname"in r&&"path"in r&&typeof r.query=="object"&&typeof r.headers=="object"},e.prototype.clone=function(){var t=new e(Z.exports.__assign(Z.exports.__assign({},this),{headers:Z.exports.__assign({},this.headers)}));return t.query&&(t.query=_T(t.query)),t},e}();function _T(e){return Object.keys(e).reduce(function(t,r){var n,i=e[r];return Z.exports.__assign(Z.exports.__assign({},t),(n={},n[r]=Array.isArray(i)?Z.exports.__spread(i):i,n))},{})}var li=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,ST)},ST=function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()};function ET(e){var t,r,n=[];try{for(var i=Z.exports.__values(Object.keys(e).sort()),o=i.next();!o.done;o=i.next()){var s=o.value,a=e[s];if(s=li(s),Array.isArray(a))for(var c=0,u=a.length;c<u;c++)n.push(s+"="+li(a[c]));else{var l=s;(a||typeof a=="string")&&(l+="="+li(a)),n.push(l)}}}catch(f){t={error:f}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}return n.join("&")}function AT(e){return e===void 0&&(e=0),new Promise(function(t,r){e&&setTimeout(function(){var n=new Error("Request did not complete within "+e+" ms");n.name="TimeoutError",r(n)},e)})}var TT=function(){function e(t){var r=t===void 0?{}:t,n=r.requestTimeout;this.requestTimeout=n}return e.prototype.destroy=function(){},e.prototype.handle=function(t,r){var n=r===void 0?{}:r,i=n.abortSignal,o=this.requestTimeout;if(i==null?void 0:i.aborted){var s=new Error("Request aborted");return s.name="AbortError",Promise.reject(s)}var a=t.path;if(t.query){var c=ET(t.query);c&&(a+="?"+c)}var u=t.port,l=t.method,f=t.protocol+"//"+t.hostname+(u?":"+u:"")+a,h=l==="GET"||l==="HEAD"?void 0:t.body,v={body:h,headers:new Headers(t.headers),method:l};typeof AbortController!="undefined"&&(v.signal=i);var g=new Request(f,v),w=[fetch(g).then(function(y){var b,_,T=y.headers,A={};try{for(var x=Z.exports.__values(T.entries()),R=x.next();!R.done;R=x.next()){var k=R.value;A[k[0]]=k[1]}}catch(B){b={error:B}}finally{try{R&&!R.done&&(_=x.return)&&_.call(x)}finally{if(b)throw b.error}}var U=y.body!==void 0;return U?{response:new Rp({headers:A,statusCode:y.status,body:y.body})}:y.blob().then(function(B){return{response:new Rp({headers:A,statusCode:y.status,body:B})}})}),AT(o)];return i&&w.push(new Promise(function(y,b){i.onabort=function(){var _=new Error("Request aborted");_.name="AbortError",b(_)}})),Promise.race(w)},e}(),bi={},Ao=new Array(64);for(var it=0,ms="A".charCodeAt(0),Mh="Z".charCodeAt(0);it+ms<=Mh;it++){var Bn=String.fromCharCode(it+ms);bi[Bn]=it,Ao[it]=Bn}for(var it=0,ms="a".charCodeAt(0),Mh="z".charCodeAt(0);it+ms<=Mh;it++){var Bn=String.fromCharCode(it+ms),ys=it+26;bi[Bn]=ys,Ao[ys]=Bn}for(var it=0;it<10;it++){bi[it.toString(10)]=it+52;var Bn=it.toString(10),ys=it+52;bi[Bn]=ys,Ao[ys]=Bn}bi["+"]=62;Ao[62]="+";bi["/"]=63;Ao[63]="/";var io=6,Zo=8,IT=63;function x0(e){var t=e.length/4*3;e.substr(-2)==="=="?t-=2:e.substr(-1)==="="&&t--;for(var r=new ArrayBuffer(t),n=new DataView(r),i=0;i<e.length;i+=4){for(var o=0,s=0,a=i,c=i+3;a<=c;a++)e[a]!=="="?(o|=bi[e[a]]<<(c-a)*io,s+=io):o>>=io;var u=i/4*3;o>>=s%Zo;for(var l=Math.floor(s/Zo),f=0;f<l;f++){var h=(l-f-1)*Zo;n.setUint8(u+f,(o&255<<h)>>h)}}return new Uint8Array(r)}function xT(e){for(var t="",r=0;r<e.length;r+=3){for(var n=0,i=0,o=r,s=Math.min(r+3,e.length);o<s;o++)n|=e[o]<<(s-o-1)*Zo,i+=Zo;var a=Math.ceil(i/io);n<<=a*io-i;for(var c=1;c<=a;c++){var u=(a-c)*io;t+=Ao[(n&IT<<u)>>u]}t+="==".slice(0,4-a)}return t}var CT=function(e){return typeof Blob=="function"&&e instanceof Blob?OT(e):PT(e)};function OT(e){return Z.exports.__awaiter(this,void 0,void 0,function(){var t,r;return Z.exports.__generator(this,function(n){switch(n.label){case 0:return[4,NT(e)];case 1:return t=n.sent(),r=x0(t),[2,new Uint8Array(r)]}})})}function PT(e){return Z.exports.__awaiter(this,void 0,void 0,function(){var t,r,n,i,o,s,a;return Z.exports.__generator(this,function(c){switch(c.label){case 0:t=new Uint8Array(0),r=e.getReader(),n=!1,c.label=1;case 1:return n?[3,3]:[4,r.read()];case 2:return i=c.sent(),o=i.done,s=i.value,s&&(a=t,t=new Uint8Array(a.length+s.length),t.set(a),t.set(s,a.length)),n=o,[3,1];case 3:return[2,t]}})})}function NT(e){return new Promise(function(t,r){var n=new FileReader;n.onloadend=function(){var i;if(n.readyState!==2)return r(new Error("Reader aborted too early"));var o=(i=n.result)!==null&&i!==void 0?i:"",s=o.indexOf(","),a=s>-1?s+1:o.length;t(o.substring(a))},n.onabort=function(){return r(new Error("Read aborted"))},n.onerror=function(){return r(n.error)},n.readAsDataURL(e)})}var RT=function(e){return function(){return Promise.reject(e)}},MT=function(e){return function(t,r){return function(n){return Z.exports.__awaiter(void 0,void 0,void 0,function(){var i;return Z.exports.__generator(this,function(o){return((i=e==null?void 0:e.retryStrategy)===null||i===void 0?void 0:i.mode)&&(r.userAgent=Z.exports.__spread(r.userAgent||[],[["cfg/retry-mode",e.retryStrategy.mode]])),[2,e.retryStrategy.retry(t,n)]})})}}},kT={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},DT=function(e){return{applyToStack:function(t){t.add(MT(e),kT)}}},UT=100,FT=20*1e3,LT=500,BT=500,jT=5,qT=10,$T=1,KT="amz-sdk-invocation-id",HT="amz-sdk-request",VT=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch"],zT=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],WT=["AbortError","TimeoutError","RequestTimeout","RequestTimeoutException"],GT=[500,502,503,504],YT=function(e){return e.$retryable!==void 0},JT=function(e){return VT.includes(e.name)},C0=function(e){var t,r;return((t=e.$metadata)===null||t===void 0?void 0:t.httpStatusCode)===429||zT.includes(e.name)||((r=e.$retryable)===null||r===void 0?void 0:r.throttling)==!0},QT=function(e){var t;return WT.includes(e.name)||GT.includes(((t=e.$metadata)===null||t===void 0?void 0:t.httpStatusCode)||0)},tu={exports:{}},Mp=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!="undefined"&&typeof window.msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto);if(Mp){var kp=new Uint8Array(16);tu.exports=function(){return Mp(kp),kp}}else{var Dp=new Array(16);tu.exports=function(){for(var t=0,r;t<16;t++)(t&3)===0&&(r=Math.random()*4294967296),Dp[t]=r>>>((t&3)<<3)&255;return Dp}}var O0=[];for(var Gs=0;Gs<256;++Gs)O0[Gs]=(Gs+256).toString(16).substr(1);function XT(e,t){var r=t||0,n=O0;return[n[e[r++]],n[e[r++]],n[e[r++]],n[e[r++]],"-",n[e[r++]],n[e[r++]],"-",n[e[r++]],n[e[r++]],"-",n[e[r++]],n[e[r++]],"-",n[e[r++]],n[e[r++]],n[e[r++]],n[e[r++]],n[e[r++]],n[e[r++]]].join("")}var P0=XT,ZT=tu.exports,eI=P0,Up,Sc,Ec=0,Ac=0;function tI(e,t,r){var n=t&&r||0,i=t||[];e=e||{};var o=e.node||Up,s=e.clockseq!==void 0?e.clockseq:Sc;if(o==null||s==null){var a=ZT();o==null&&(o=Up=[a[0]|1,a[1],a[2],a[3],a[4],a[5]]),s==null&&(s=Sc=(a[6]<<8|a[7])&16383)}var c=e.msecs!==void 0?e.msecs:new Date().getTime(),u=e.nsecs!==void 0?e.nsecs:Ac+1,l=c-Ec+(u-Ac)/1e4;if(l<0&&e.clockseq===void 0&&(s=s+1&16383),(l<0||c>Ec)&&e.nsecs===void 0&&(u=0),u>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");Ec=c,Ac=u,Sc=s,c+=122192928e5;var f=((c&268435455)*1e4+u)%4294967296;i[n++]=f>>>24&255,i[n++]=f>>>16&255,i[n++]=f>>>8&255,i[n++]=f&255;var h=c/4294967296*1e4&268435455;i[n++]=h>>>8&255,i[n++]=h&255,i[n++]=h>>>24&15|16,i[n++]=h>>>16&255,i[n++]=s>>>8|128,i[n++]=s&255;for(var v=0;v<6;++v)i[n+v]=o[v];return t||eI(i)}var rI=tI,nI=tu.exports,iI=P0;function oI(e,t,r){var n=t&&r||0;typeof e=="string"&&(t=e==="binary"?new Array(16):null,e=null),e=e||{};var i=e.random||(e.rng||nI)();if(i[6]=i[6]&15|64,i[8]=i[8]&63|128,t)for(var o=0;o<16;++o)t[n+o]=i[o];return t||iI(i)}var sI=oI,aI=rI,N0=sI,kh=N0;kh.v1=aI;kh.v4=N0;var Rs=kh,uI=function(e){var t=e,r=e,n=function(a){return a.name==="TimeoutError"?qT:jT},i=function(a){return n(a)<=r},o=function(a){if(!i(a))throw new Error("No retry token available");var c=n(a);return r-=c,c},s=function(a){r+=a!=null?a:$T,r=Math.min(r,t)};return Object.freeze({hasRetryTokens:i,retrieveRetryTokens:o,releaseRetryTokens:s})},cI=function(e,t){return Math.floor(Math.min(FT,Math.random()*Math.pow(2,t)*e))},lI=function(e){return e?YT(e)||JT(e)||C0(e)||QT(e):!1},Dh=3,fI="standard",hI=function(){function e(t,r){var n,i,o;this.maxAttemptsProvider=t,this.mode=fI,this.retryDecider=(n=r==null?void 0:r.retryDecider)!==null&&n!==void 0?n:lI,this.delayDecider=(i=r==null?void 0:r.delayDecider)!==null&&i!==void 0?i:cI,this.retryQuota=(o=r==null?void 0:r.retryQuota)!==null&&o!==void 0?o:uI(BT)}return e.prototype.shouldRetry=function(t,r,n){return r<n&&this.retryDecider(t)&&this.retryQuota.hasRetryTokens(t)},e.prototype.getMaxAttempts=function(){return Z.exports.__awaiter(this,void 0,void 0,function(){var t;return Z.exports.__generator(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this.maxAttemptsProvider()];case 1:return t=r.sent(),[3,3];case 2:return r.sent(),t=Dh,[3,3];case 3:return[2,t]}})})},e.prototype.retry=function(t,r){return Z.exports.__awaiter(this,void 0,void 0,function(){var n,i,o,s,a,c,u,l;return Z.exports.__generator(this,function(f){switch(f.label){case 0:return i=0,o=0,[4,this.getMaxAttempts()];case 1:s=f.sent(),a=r.request,yi.isInstance(a)&&(a.headers[KT]=Rs.v4()),c=function(){var h,v,g,w,y;return Z.exports.__generator(this,function(b){switch(b.label){case 0:return b.trys.push([0,2,,5]),yi.isInstance(a)&&(a.headers[HT]="attempt="+(i+1)+"; max="+s),[4,t(r)];case 1:return h=b.sent(),v=h.response,g=h.output,u.retryQuota.releaseRetryTokens(n),g.$metadata.attempts=i+1,g.$metadata.totalRetryDelay=o,[2,{value:{response:v,output:g}}];case 2:return w=b.sent(),i++,u.shouldRetry(w,i,s)?(n=u.retryQuota.retrieveRetryTokens(w),y=u.delayDecider(C0(w)?LT:UT,i),o+=y,[4,new Promise(function(_){return setTimeout(_,y)})]):[3,4];case 3:return b.sent(),[2,"continue"];case 4:throw w.$metadata||(w.$metadata={}),w.$metadata.attempts=i,w.$metadata.totalRetryDelay=o,w;case 5:return[2]}})},u=this,f.label=2;case 2:return[5,c()];case 3:return l=f.sent(),typeof l=="object"?[2,l.value]:[3,2];case 4:return[2]}})})},e}(),dI=function(e){var t=pI(e.maxAttempts);return Z.exports.__assign(Z.exports.__assign({},e),{maxAttempts:t,retryStrategy:e.retryStrategy||new hI(t)})},pI=function(e){if(e===void 0&&(e=Dh),typeof e=="number"){var t=Promise.resolve(e);return function(){return t}}return e};function vI(e){if(typeof e=="string"){for(var t=e.length,r=t-1;r>=0;r--){var n=e.charCodeAt(r);n>127&&n<=2047?t++:n>2047&&n<=65535&&(t+=2)}return t}else{if(typeof e.byteLength=="number")return e.byteLength;if(typeof e.size=="number")return e.size}}const gI={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},R0={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},He={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},mt={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},wn={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"};class ae{static getFirstMatch(t,r){const n=r.match(t);return n&&n.length>0&&n[1]||""}static getSecondMatch(t,r){const n=r.match(t);return n&&n.length>1&&n[2]||""}static matchAndReturnConst(t,r,n){if(t.test(r))return n}static getWindowsVersionName(t){switch(t){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}static getMacOSVersionName(t){const r=t.split(".").splice(0,2).map(n=>parseInt(n,10)||0);if(r.push(0),r[0]===10)switch(r[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}}static getAndroidVersionName(t){const r=t.split(".").splice(0,2).map(n=>parseInt(n,10)||0);if(r.push(0),!(r[0]===1&&r[1]<5)){if(r[0]===1&&r[1]<6)return"Cupcake";if(r[0]===1&&r[1]>=6)return"Donut";if(r[0]===2&&r[1]<2)return"Eclair";if(r[0]===2&&r[1]===2)return"Froyo";if(r[0]===2&&r[1]>2)return"Gingerbread";if(r[0]===3)return"Honeycomb";if(r[0]===4&&r[1]<1)return"Ice Cream Sandwich";if(r[0]===4&&r[1]<4)return"Jelly Bean";if(r[0]===4&&r[1]>=4)return"KitKat";if(r[0]===5)return"Lollipop";if(r[0]===6)return"Marshmallow";if(r[0]===7)return"Nougat";if(r[0]===8)return"Oreo";if(r[0]===9)return"Pie"}}static getVersionPrecision(t){return t.split(".").length}static compareVersions(t,r,n=!1){const i=ae.getVersionPrecision(t),o=ae.getVersionPrecision(r);let s=Math.max(i,o),a=0;const c=ae.map([t,r],u=>{const l=s-ae.getVersionPrecision(u),f=u+new Array(l+1).join(".0");return ae.map(f.split("."),h=>new Array(20-h.length).join("0")+h).reverse()});for(n&&(a=s-Math.min(i,o)),s-=1;s>=a;){if(c[0][s]>c[1][s])return 1;if(c[0][s]===c[1][s]){if(s===a)return 0;s-=1}else if(c[0][s]<c[1][s])return-1}}static map(t,r){const n=[];let i;if(Array.prototype.map)return Array.prototype.map.call(t,r);for(i=0;i<t.length;i+=1)n.push(r(t[i]));return n}static find(t,r){let n,i;if(Array.prototype.find)return Array.prototype.find.call(t,r);for(n=0,i=t.length;n<i;n+=1){const o=t[n];if(r(o,n))return o}}static assign(t,...r){const n=t;let i,o;if(Object.assign)return Object.assign(t,...r);for(i=0,o=r.length;i<o;i+=1){const s=r[i];typeof s=="object"&&s!==null&&Object.keys(s).forEach(c=>{n[c]=s[c]})}return t}static getBrowserAlias(t){return gI[t]}static getBrowserTypeByAlias(t){return R0[t]||""}}const Me=/version\/(\d+(\.?_?\d+)+)/i,mI=[{test:[/googlebot/i],describe(e){const t={name:"Googlebot"},r=ae.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,e)||ae.getFirstMatch(Me,e);return r&&(t.version=r),t}},{test:[/opera/i],describe(e){const t={name:"Opera"},r=ae.getFirstMatch(Me,e)||ae.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/opr\/|opios/i],describe(e){const t={name:"Opera"},r=ae.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,e)||ae.getFirstMatch(Me,e);return r&&(t.version=r),t}},{test:[/SamsungBrowser/i],describe(e){const t={name:"Samsung Internet for Android"},r=ae.getFirstMatch(Me,e)||ae.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/Whale/i],describe(e){const t={name:"NAVER Whale Browser"},r=ae.getFirstMatch(Me,e)||ae.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/MZBrowser/i],describe(e){const t={name:"MZ Browser"},r=ae.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,e)||ae.getFirstMatch(Me,e);return r&&(t.version=r),t}},{test:[/focus/i],describe(e){const t={name:"Focus"},r=ae.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,e)||ae.getFirstMatch(Me,e);return r&&(t.version=r),t}},{test:[/swing/i],describe(e){const t={name:"Swing"},r=ae.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,e)||ae.getFirstMatch(Me,e);return r&&(t.version=r),t}},{test:[/coast/i],describe(e){const t={name:"Opera Coast"},r=ae.getFirstMatch(Me,e)||ae.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe(e){const t={name:"Opera Touch"},r=ae.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,e)||ae.getFirstMatch(Me,e);return r&&(t.version=r),t}},{test:[/yabrowser/i],describe(e){const t={name:"Yandex Browser"},r=ae.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,e)||ae.getFirstMatch(Me,e);return r&&(t.version=r),t}},{test:[/ucbrowser/i],describe(e){const t={name:"UC Browser"},r=ae.getFirstMatch(Me,e)||ae.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/Maxthon|mxios/i],describe(e){const t={name:"Maxthon"},r=ae.getFirstMatch(Me,e)||ae.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/epiphany/i],describe(e){const t={name:"Epiphany"},r=ae.getFirstMatch(Me,e)||ae.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/puffin/i],describe(e){const t={name:"Puffin"},r=ae.getFirstMatch(Me,e)||ae.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/sleipnir/i],describe(e){const t={name:"Sleipnir"},r=ae.getFirstMatch(Me,e)||ae.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/k-meleon/i],describe(e){const t={name:"K-Meleon"},r=ae.getFirstMatch(Me,e)||ae.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/micromessenger/i],describe(e){const t={name:"WeChat"},r=ae.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,e)||ae.getFirstMatch(Me,e);return r&&(t.version=r),t}},{test:[/qqbrowser/i],describe(e){const t={name:/qqbrowserlite/i.test(e)?"QQ Browser Lite":"QQ Browser"},r=ae.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,e)||ae.getFirstMatch(Me,e);return r&&(t.version=r),t}},{test:[/msie|trident/i],describe(e){const t={name:"Internet Explorer"},r=ae.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/\sedg\//i],describe(e){const t={name:"Microsoft Edge"},r=ae.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/edg([ea]|ios)/i],describe(e){const t={name:"Microsoft Edge"},r=ae.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/vivaldi/i],describe(e){const t={name:"Vivaldi"},r=ae.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/seamonkey/i],describe(e){const t={name:"SeaMonkey"},r=ae.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/sailfish/i],describe(e){const t={name:"Sailfish"},r=ae.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,e);return r&&(t.version=r),t}},{test:[/silk/i],describe(e){const t={name:"Amazon Silk"},r=ae.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/phantom/i],describe(e){const t={name:"PhantomJS"},r=ae.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/slimerjs/i],describe(e){const t={name:"SlimerJS"},r=ae.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(e){const t={name:"BlackBerry"},r=ae.getFirstMatch(Me,e)||ae.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/(web|hpw)[o0]s/i],describe(e){const t={name:"WebOS Browser"},r=ae.getFirstMatch(Me,e)||ae.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/bada/i],describe(e){const t={name:"Bada"},r=ae.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/tizen/i],describe(e){const t={name:"Tizen"},r=ae.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,e)||ae.getFirstMatch(Me,e);return r&&(t.version=r),t}},{test:[/qupzilla/i],describe(e){const t={name:"QupZilla"},r=ae.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,e)||ae.getFirstMatch(Me,e);return r&&(t.version=r),t}},{test:[/firefox|iceweasel|fxios/i],describe(e){const t={name:"Firefox"},r=ae.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/electron/i],describe(e){const t={name:"Electron"},r=ae.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/MiuiBrowser/i],describe(e){const t={name:"Miui"},r=ae.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/chromium/i],describe(e){const t={name:"Chromium"},r=ae.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,e)||ae.getFirstMatch(Me,e);return r&&(t.version=r),t}},{test:[/chrome|crios|crmo/i],describe(e){const t={name:"Chrome"},r=ae.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/GSA/i],describe(e){const t={name:"Google Search"},r=ae.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test(e){const t=!e.test(/like android/i),r=e.test(/android/i);return t&&r},describe(e){const t={name:"Android Browser"},r=ae.getFirstMatch(Me,e);return r&&(t.version=r),t}},{test:[/playstation 4/i],describe(e){const t={name:"PlayStation 4"},r=ae.getFirstMatch(Me,e);return r&&(t.version=r),t}},{test:[/safari|applewebkit/i],describe(e){const t={name:"Safari"},r=ae.getFirstMatch(Me,e);return r&&(t.version=r),t}},{test:[/.*/i],describe(e){const t=/^(.*)\/(.*) /,r=/^(.*)\/(.*)[ \t]\((.*)/,i=e.search("\\(")!==-1?r:t;return{name:ae.getFirstMatch(i,e),version:ae.getSecondMatch(i,e)}}}];var yI=[{test:[/Roku\/DVP/],describe(e){const t=ae.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,e);return{name:mt.Roku,version:t}}},{test:[/windows phone/i],describe(e){const t=ae.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,e);return{name:mt.WindowsPhone,version:t}}},{test:[/windows /i],describe(e){const t=ae.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,e),r=ae.getWindowsVersionName(t);return{name:mt.Windows,version:t,versionName:r}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(e){const t={name:mt.iOS},r=ae.getSecondMatch(/(Version\/)(\d[\d.]+)/,e);return r&&(t.version=r),t}},{test:[/macintosh/i],describe(e){const t=ae.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,e).replace(/[_\s]/g,"."),r=ae.getMacOSVersionName(t),n={name:mt.MacOS,version:t};return r&&(n.versionName=r),n}},{test:[/(ipod|iphone|ipad)/i],describe(e){const t=ae.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,e).replace(/[_\s]/g,".");return{name:mt.iOS,version:t}}},{test(e){const t=!e.test(/like android/i),r=e.test(/android/i);return t&&r},describe(e){const t=ae.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,e),r=ae.getAndroidVersionName(t),n={name:mt.Android,version:t};return r&&(n.versionName=r),n}},{test:[/(web|hpw)[o0]s/i],describe(e){const t=ae.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,e),r={name:mt.WebOS};return t&&t.length&&(r.version=t),r}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(e){const t=ae.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,e)||ae.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,e)||ae.getFirstMatch(/\bbb(\d+)/i,e);return{name:mt.BlackBerry,version:t}}},{test:[/bada/i],describe(e){const t=ae.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,e);return{name:mt.Bada,version:t}}},{test:[/tizen/i],describe(e){const t=ae.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,e);return{name:mt.Tizen,version:t}}},{test:[/linux/i],describe(){return{name:mt.Linux}}},{test:[/CrOS/],describe(){return{name:mt.ChromeOS}}},{test:[/PlayStation 4/],describe(e){const t=ae.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,e);return{name:mt.PlayStation4,version:t}}}],bI=[{test:[/googlebot/i],describe(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe(e){const t=ae.getFirstMatch(/(can-l01)/i,e)&&"Nova",r={type:He.mobile,vendor:"Huawei"};return t&&(r.model=t),r}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe(){return{type:He.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe(){return{type:He.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(){return{type:He.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe(){return{type:He.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe(){return{type:He.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe(){return{type:He.tablet}}},{test(e){const t=e.test(/ipod|iphone/i),r=e.test(/like (ipod|iphone)/i);return t&&!r},describe(e){const t=ae.getFirstMatch(/(ipod|iphone)/i,e);return{type:He.mobile,vendor:"Apple",model:t}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe(){return{type:He.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe(){return{type:He.mobile}}},{test(e){return e.getBrowserName(!0)==="blackberry"},describe(){return{type:He.mobile,vendor:"BlackBerry"}}},{test(e){return e.getBrowserName(!0)==="bada"},describe(){return{type:He.mobile}}},{test(e){return e.getBrowserName()==="windows phone"},describe(){return{type:He.mobile,vendor:"Microsoft"}}},{test(e){const t=Number(String(e.getOSVersion()).split(".")[0]);return e.getOSName(!0)==="android"&&t>=3},describe(){return{type:He.tablet}}},{test(e){return e.getOSName(!0)==="android"},describe(){return{type:He.mobile}}},{test(e){return e.getOSName(!0)==="macos"},describe(){return{type:He.desktop,vendor:"Apple"}}},{test(e){return e.getOSName(!0)==="windows"},describe(){return{type:He.desktop}}},{test(e){return e.getOSName(!0)==="linux"},describe(){return{type:He.desktop}}},{test(e){return e.getOSName(!0)==="playstation 4"},describe(){return{type:He.tv}}},{test(e){return e.getOSName(!0)==="roku"},describe(){return{type:He.tv}}}],wI=[{test(e){return e.getBrowserName(!0)==="microsoft edge"},describe(e){if(/\sedg\//i.test(e))return{name:wn.Blink};const r=ae.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,e);return{name:wn.EdgeHTML,version:r}}},{test:[/trident/i],describe(e){const t={name:wn.Trident},r=ae.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test(e){return e.test(/presto/i)},describe(e){const t={name:wn.Presto},r=ae.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test(e){const t=e.test(/gecko/i),r=e.test(/like gecko/i);return t&&!r},describe(e){const t={name:wn.Gecko},r=ae.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/(apple)?webkit\/537\.36/i],describe(){return{name:wn.Blink}}},{test:[/(apple)?webkit/i],describe(e){const t={name:wn.WebKit},r=ae.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}}];class Fp{constructor(t,r=!1){if(t==null||t==="")throw new Error("UserAgent parameter can't be empty");this._ua=t,this.parsedResult={},r!==!0&&this.parse()}getUA(){return this._ua}test(t){return t.test(this._ua)}parseBrowser(){this.parsedResult.browser={};const t=ae.find(mI,r=>{if(typeof r.test=="function")return r.test(this);if(r.test instanceof Array)return r.test.some(n=>this.test(n));throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.browser=t.describe(this.getUA())),this.parsedResult.browser}getBrowser(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()}getBrowserName(t){return t?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""}getBrowserVersion(){return this.getBrowser().version}getOS(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()}parseOS(){this.parsedResult.os={};const t=ae.find(yI,r=>{if(typeof r.test=="function")return r.test(this);if(r.test instanceof Array)return r.test.some(n=>this.test(n));throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.os=t.describe(this.getUA())),this.parsedResult.os}getOSName(t){const{name:r}=this.getOS();return t?String(r).toLowerCase()||"":r||""}getOSVersion(){return this.getOS().version}getPlatform(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()}getPlatformType(t=!1){const{type:r}=this.getPlatform();return t?String(r).toLowerCase()||"":r||""}parsePlatform(){this.parsedResult.platform={};const t=ae.find(bI,r=>{if(typeof r.test=="function")return r.test(this);if(r.test instanceof Array)return r.test.some(n=>this.test(n));throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.platform=t.describe(this.getUA())),this.parsedResult.platform}getEngine(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()}getEngineName(t){return t?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""}parseEngine(){this.parsedResult.engine={};const t=ae.find(wI,r=>{if(typeof r.test=="function")return r.test(this);if(r.test instanceof Array)return r.test.some(n=>this.test(n));throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.engine=t.describe(this.getUA())),this.parsedResult.engine}parse(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this}getResult(){return ae.assign({},this.parsedResult)}satisfies(t){const r={};let n=0;const i={};let o=0;if(Object.keys(t).forEach(a=>{const c=t[a];typeof c=="string"?(i[a]=c,o+=1):typeof c=="object"&&(r[a]=c,n+=1)}),n>0){const a=Object.keys(r),c=ae.find(a,l=>this.isOS(l));if(c){const l=this.satisfies(r[c]);if(l!==void 0)return l}const u=ae.find(a,l=>this.isPlatform(l));if(u){const l=this.satisfies(r[u]);if(l!==void 0)return l}}if(o>0){const a=Object.keys(i),c=ae.find(a,u=>this.isBrowser(u,!0));if(c!==void 0)return this.compareVersion(i[c])}}isBrowser(t,r=!1){const n=this.getBrowserName().toLowerCase();let i=t.toLowerCase();const o=ae.getBrowserTypeByAlias(i);return r&&o&&(i=o.toLowerCase()),i===n}compareVersion(t){let r=[0],n=t,i=!1;const o=this.getBrowserVersion();if(typeof o=="string")return t[0]===">"||t[0]==="<"?(n=t.substr(1),t[1]==="="?(i=!0,n=t.substr(2)):r=[],t[0]===">"?r.push(1):r.push(-1)):t[0]==="="?n=t.substr(1):t[0]==="~"&&(i=!0,n=t.substr(1)),r.indexOf(ae.compareVersions(o,n,i))>-1}isOS(t){return this.getOSName(!0)===String(t).toLowerCase()}isPlatform(t){return this.getPlatformType(!0)===String(t).toLowerCase()}isEngine(t){return this.getEngineName(!0)===String(t).toLowerCase()}is(t,r=!1){return this.isBrowser(t,r)||this.isOS(t)||this.isPlatform(t)}some(t=[]){return t.some(r=>this.is(r))}}/*!
 * Bowser - a browser detector
 * https://github.com/lancedikson/bowser
 * MIT License | (c) Dustin Diaz 2012-2015
 * MIT License | (c) Denis Demchenko 2015-2019
 */class _I{static getParser(t,r=!1){if(typeof t!="string")throw new Error("UserAgent should be a string");return new Fp(t,r)}static parse(t){return new Fp(t).getResult()}static get BROWSER_MAP(){return R0}static get ENGINE_MAP(){return wn}static get OS_MAP(){return mt}static get PLATFORMS_MAP(){return He}}var SI=function(e){var t=e.serviceId,r=e.clientVersion;return function(){return Z.exports.__awaiter(void 0,void 0,void 0,function(){var n,i,o,s,a,c,u,l,f;return Z.exports.__generator(this,function(h){return n=((o=window==null?void 0:window.navigator)===null||o===void 0?void 0:o.userAgent)?_I.parse(window.navigator.userAgent):void 0,i=[["aws-sdk-js",r],["os/"+(((s=n==null?void 0:n.os)===null||s===void 0?void 0:s.name)||"other"),(a=n==null?void 0:n.os)===null||a===void 0?void 0:a.version],["lang/js"],["md/browser",((u=(c=n==null?void 0:n.browser)===null||c===void 0?void 0:c.name)!==null&&u!==void 0?u:"unknown")+"_"+((f=(l=n==null?void 0:n.browser)===null||l===void 0?void 0:l.version)!==null&&f!==void 0?f:"unknown")]],t&&i.push(["api/"+t,r]),[2,i]})})}};function EI(e){var t,r,n={};if(e=e.replace(/^\?/,""),e)try{for(var i=Z.exports.__values(e.split("&")),o=i.next();!o.done;o=i.next()){var s=o.value,a=Z.exports.__read(s.split("="),2),c=a[0],u=a[1],l=u===void 0?null:u;c=decodeURIComponent(c),l&&(l=decodeURIComponent(l)),c in n?Array.isArray(n[c])?n[c].push(l):n[c]=[n[c],l]:n[c]=l}}catch(f){t={error:f}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}return n}var AI=function(e){var t=new URL(e),r=t.hostname,n=t.pathname,i=t.port,o=t.protocol,s=t.search,a;return s&&(a=EI(s)),{hostname:r,port:i?parseInt(i):void 0,protocol:o,path:n,query:a}},TI=function(e){var t;return Z.exports.__assign(Z.exports.__assign({},e),{tls:(t=e.tls)!==null&&t!==void 0?t:!0,endpoint:e.endpoint?II(e):function(){return xI(e)},isCustomEndpoint:!!e.endpoint})},II=function(e){var t=e.endpoint,r=e.urlParser;if(typeof t=="string"){var n=Promise.resolve(r(t));return function(){return n}}else if(typeof t=="object"){var i=Promise.resolve(t);return function(){return i}}return t},xI=function(e){return Z.exports.__awaiter(void 0,void 0,void 0,function(){var t,r,n,i,o,s;return Z.exports.__generator(this,function(a){switch(a.label){case 0:return t=e.tls,r=t===void 0?!0:t,[4,e.region()];case 1:if(n=a.sent(),i=new RegExp(/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])$/),!i.test(n))throw new Error("Invalid region in client config");return[4,e.regionInfoProvider(n)];case 2:if(o=((s=a.sent())!==null&&s!==void 0?s:{}).hostname,!o)throw new Error("Cannot resolve hostname from client config");return[2,e.urlParser((r?"https:":"http:")+"//"+o)]}})})},CI=function(e){if(!e.region)throw new Error("Region is missing");return Z.exports.__assign(Z.exports.__assign({},e),{region:OI(e.region)})},OI=function(e){if(typeof e=="string"){var t=Promise.resolve(e);return function(){return t}}return e},Lp="content-length";function PI(e){var t=this;return function(r){return function(n){return Z.exports.__awaiter(t,void 0,void 0,function(){var i,o,s,a,c;return Z.exports.__generator(this,function(u){return i=n.request,yi.isInstance(i)&&(o=i.body,s=i.headers,o&&Object.keys(s).map(function(l){return l.toLowerCase()}).indexOf(Lp)===-1&&(a=e(o),a!==void 0&&(i.headers=Z.exports.__assign(Z.exports.__assign({},i.headers),(c={},c[Lp]=String(a),c))))),[2,r(Z.exports.__assign(Z.exports.__assign({},n),{request:i}))]})})}}}var NI={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},RI=function(e){return{applyToStack:function(t){t.add(PI(e.bodyLengthChecker),NI)}}};function Y3(e){return e}var MI=function(e){return function(t){return function(r){return Z.exports.__awaiter(void 0,void 0,void 0,function(){var n,i,o;return Z.exports.__generator(this,function(s){return yi.isInstance(r.request)?(n=r.request,i=(e.requestHandler.metadata||{}).handlerProtocol,o=i===void 0?"":i,o.indexOf("h2")>=0&&!n.headers[":authority"]?(delete n.headers.host,n.headers[":authority"]=""):n.headers.host||(n.headers.host=n.hostname),[2,t(r)]):[2,t(r)]})})}}},kI={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},DI=function(e){return{applyToStack:function(t){t.add(MI(e),kI)}}},UI=function(){return function(e,t){return function(r){return Z.exports.__awaiter(void 0,void 0,void 0,function(){var n,i,o,s,a,c,u,l,f;return Z.exports.__generator(this,function(h){switch(h.label){case 0:return n=t.clientName,i=t.commandName,o=t.inputFilterSensitiveLog,s=t.logger,a=t.outputFilterSensitiveLog,[4,e(r)];case 1:return c=h.sent(),s?(typeof s.info=="function"&&(u=c.output,l=u.$metadata,f=Z.exports.__rest(u,["$metadata"]),s.info({clientName:n,commandName:i,input:o(r.input),output:a(f),metadata:l})),[2,c]):[2,c]}})})}}},FI={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},LI=function(e){return{applyToStack:function(t){t.add(UI(),FI)}}},BI="X-Amz-Algorithm",jI="X-Amz-Credential",M0="X-Amz-Date",qI="X-Amz-SignedHeaders",$I="X-Amz-Expires",k0="X-Amz-Signature",D0="X-Amz-Security-Token",U0="authorization",F0=M0.toLowerCase(),KI="date",HI=[U0,F0,KI],VI=k0.toLowerCase(),Gl="x-amz-content-sha256",zI=D0.toLowerCase(),WI={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},GI=/^proxy-/,YI=/^sec-/,Tc="AWS4-HMAC-SHA256",JI="AWS4-HMAC-SHA256-PAYLOAD",QI="UNSIGNED-PAYLOAD",XI=50,L0="aws4_request",ZI=60*60*24*7,Ys={},Ic=[];function xc(e,t,r){return e+"/"+t+"/"+r+"/"+L0}var ex=function(e,t,r,n,i){return Z.exports.__awaiter(void 0,void 0,void 0,function(){var o,s,a,c,u,l,f,h,v;return Z.exports.__generator(this,function(g){switch(g.label){case 0:return[4,Bp(e,t.secretAccessKey,t.accessKeyId)];case 1:if(o=g.sent(),s=r+":"+n+":"+i+":"+Pn(o)+":"+t.sessionToken,s in Ys)return[2,Ys[s]];for(Ic.push(s);Ic.length>XI;)delete Ys[Ic.shift()];a="AWS4"+t.secretAccessKey,g.label=2;case 2:g.trys.push([2,7,8,9]),c=Z.exports.__values([r,n,i,L0]),u=c.next(),g.label=3;case 3:return u.done?[3,6]:(l=u.value,[4,Bp(e,a,l)]);case 4:a=g.sent(),g.label=5;case 5:return u=c.next(),[3,3];case 6:return[3,9];case 7:return f=g.sent(),h={error:f},[3,9];case 8:try{u&&!u.done&&(v=c.return)&&v.call(c)}finally{if(h)throw h.error}return[7];case 9:return[2,Ys[s]=a]}})})};function Bp(e,t,r){var n=new e(t);return n.update(r),n.digest()}function jp(e,t,r){var n,i,o=e.headers,s={};try{for(var a=Z.exports.__values(Object.keys(o).sort()),c=a.next();!c.done;c=a.next()){var u=c.value,l=u.toLowerCase();(l in WI||(t==null?void 0:t.has(l))||GI.test(l)||YI.test(l))&&(!r||r&&!r.has(l))||(s[l]=o[u].trim().replace(/\s+/g," "))}}catch(f){n={error:f}}finally{try{c&&!c.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}return s}function tx(e){var t,r,n=e.query,i=n===void 0?{}:n,o=[],s={},a=function(f){if(f.toLowerCase()===VI)return"continue";o.push(f);var h=i[f];typeof h=="string"?s[f]=li(f)+"="+li(h):Array.isArray(h)&&(s[f]=h.slice(0).sort().reduce(function(v,g){return v.concat([li(f)+"="+li(g)])},[]).join("&"))};try{for(var c=Z.exports.__values(Object.keys(i).sort()),u=c.next();!u.done;u=c.next()){var l=u.value;a(l)}}catch(f){t={error:f}}finally{try{u&&!u.done&&(r=c.return)&&r.call(c)}finally{if(t)throw t.error}}return o.map(function(f){return s[f]}).filter(function(f){return f}).join("&")}var rx=function(e){return typeof ArrayBuffer=="function"&&e instanceof ArrayBuffer||Object.prototype.toString.call(e)==="[object ArrayBuffer]"};function Cc(e,t){var r=e.headers,n=e.body;return Z.exports.__awaiter(this,void 0,void 0,function(){var i,o,s,a,c,u,l;return Z.exports.__generator(this,function(f){switch(f.label){case 0:try{for(i=Z.exports.__values(Object.keys(r)),o=i.next();!o.done;o=i.next())if(s=o.value,s.toLowerCase()===Gl)return[2,r[s]]}catch(h){u={error:h}}finally{try{o&&!o.done&&(l=i.return)&&l.call(i)}finally{if(u)throw u.error}}return n!=null?[3,1]:[2,"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855"];case 1:return typeof n=="string"||ArrayBuffer.isView(n)||rx(n)?(a=new t,a.update(n),c=Pn,[4,a.digest()]):[3,3];case 2:return[2,c.apply(void 0,[f.sent()])];case 3:return[2,QI]}})})}function nx(e,t){var r,n;e=e.toLowerCase();try{for(var i=Z.exports.__values(Object.keys(t)),o=i.next();!o.done;o=i.next()){var s=o.value;if(e===s.toLowerCase())return!0}}catch(a){r={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return!1}function B0(e){var t=e.headers,r=e.query,n=Z.exports.__rest(e,["headers","query"]);return Z.exports.__assign(Z.exports.__assign({},n),{headers:Z.exports.__assign({},t),query:r?ix(r):void 0})}function ix(e){return Object.keys(e).reduce(function(t,r){var n,i=e[r];return Z.exports.__assign(Z.exports.__assign({},t),(n={},n[r]=Array.isArray(i)?Z.exports.__spread(i):i,n))},{})}function ox(e,t){var r,n,i;t===void 0&&(t={});var o=typeof e.clone=="function"?e.clone():B0(e),s=o.headers,a=o.query,c=a===void 0?{}:a;try{for(var u=Z.exports.__values(Object.keys(s)),l=u.next();!l.done;l=u.next()){var f=l.value,h=f.toLowerCase();h.substr(0,6)==="x-amz-"&&!((i=t.unhoistableHeaders)===null||i===void 0?void 0:i.has(h))&&(c[f]=s[f],delete s[f])}}catch(v){r={error:v}}finally{try{l&&!l.done&&(n=u.return)&&n.call(u)}finally{if(r)throw r.error}}return Z.exports.__assign(Z.exports.__assign({},e),{headers:s,query:c})}function qp(e){var t,r;e=typeof e.clone=="function"?e.clone():B0(e);try{for(var n=Z.exports.__values(Object.keys(e.headers)),i=n.next();!i.done;i=n.next()){var o=i.value;HI.indexOf(o.toLowerCase())>-1&&delete e.headers[o]}}catch(s){t={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(t)throw t.error}}return e}function sx(e){return ax(e).toISOString().replace(/\.\d{3}Z$/,"Z")}function ax(e){return typeof e=="number"?new Date(e*1e3):typeof e=="string"?Number(e)?new Date(Number(e)*1e3):new Date(e):e}var ux=function(){function e(t){var r=t.applyChecksum,n=t.credentials,i=t.region,o=t.service,s=t.sha256,a=t.uriEscapePath,c=a===void 0?!0:a;this.service=o,this.sha256=s,this.uriEscapePath=c,this.applyChecksum=typeof r=="boolean"?r:!0,this.regionProvider=cx(i),this.credentialProvider=lx(n)}return e.prototype.presign=function(t,r){return r===void 0&&(r={}),Z.exports.__awaiter(this,void 0,void 0,function(){var n,i,o,s,a,c,u,l,f,h,v,g,w,y,b,_,T,A,x,R,k,U,B,N;return Z.exports.__generator(this,function(F){switch(F.label){case 0:return n=r.signingDate,i=n===void 0?new Date:n,o=r.expiresIn,s=o===void 0?3600:o,a=r.unsignableHeaders,c=r.unhoistableHeaders,u=r.signableHeaders,l=r.signingRegion,f=r.signingService,[4,this.credentialProvider()];case 1:return h=F.sent(),l==null?[3,2]:(g=l,[3,4]);case 2:return[4,this.regionProvider()];case 3:g=F.sent(),F.label=4;case 4:return v=g,w=Js(i),y=w.longDate,b=w.shortDate,s>ZI?[2,Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future")]:(_=xc(b,v,f!=null?f:this.service),T=ox(qp(t),{unhoistableHeaders:c}),h.sessionToken&&(T.query[D0]=h.sessionToken),T.query[BI]=Tc,T.query[jI]=h.accessKeyId+"/"+_,T.query[M0]=y,T.query[$I]=s.toString(10),A=jp(T,a,u),T.query[qI]=$p(A),x=T.query,R=k0,k=this.getSignature,U=[y,_,this.getSigningKey(h,v,b,f)],B=this.createCanonicalRequest,N=[T,A],[4,Cc(t,this.sha256)]);case 5:return[4,k.apply(this,U.concat([B.apply(this,N.concat([F.sent()]))]))];case 6:return x[R]=F.sent(),[2,T]}})})},e.prototype.sign=function(t,r){return Z.exports.__awaiter(this,void 0,void 0,function(){return Z.exports.__generator(this,function(n){return typeof t=="string"?[2,this.signString(t,r)]:t.headers&&t.payload?[2,this.signEvent(t,r)]:[2,this.signRequest(t,r)]})})},e.prototype.signEvent=function(t,r){var n=t.headers,i=t.payload,o=r.signingDate,s=o===void 0?new Date:o,a=r.priorSignature,c=r.signingRegion,u=r.signingService;return Z.exports.__awaiter(this,void 0,void 0,function(){var l,f,h,v,g,w,y,b,_,T,A;return Z.exports.__generator(this,function(x){switch(x.label){case 0:return c==null?[3,1]:(f=c,[3,3]);case 1:return[4,this.regionProvider()];case 2:f=x.sent(),x.label=3;case 3:return l=f,h=Js(s),v=h.shortDate,g=h.longDate,w=xc(v,l,u!=null?u:this.service),[4,Cc({headers:{},body:i},this.sha256)];case 4:return y=x.sent(),b=new this.sha256,b.update(n),T=Pn,[4,b.digest()];case 5:return _=T.apply(void 0,[x.sent()]),A=[JI,g,w,a,_,y].join(`
`),[2,this.signString(A,{signingDate:s,signingRegion:l,signingService:u})]}})})},e.prototype.signString=function(t,r){var n=r===void 0?{}:r,i=n.signingDate,o=i===void 0?new Date:i,s=n.signingRegion,a=n.signingService;return Z.exports.__awaiter(this,void 0,void 0,function(){var c,u,l,f,h,v,g,w;return Z.exports.__generator(this,function(y){switch(y.label){case 0:return[4,this.credentialProvider()];case 1:return c=y.sent(),s==null?[3,2]:(l=s,[3,4]);case 2:return[4,this.regionProvider()];case 3:l=y.sent(),y.label=4;case 4:return u=l,f=Js(o).shortDate,g=(v=this.sha256).bind,[4,this.getSigningKey(c,u,f,a)];case 5:return h=new(g.apply(v,[void 0,y.sent()])),h.update(t),w=Pn,[4,h.digest()];case 6:return[2,w.apply(void 0,[y.sent()])]}})})},e.prototype.signRequest=function(t,r){var n=r===void 0?{}:r,i=n.signingDate,o=i===void 0?new Date:i,s=n.signableHeaders,a=n.unsignableHeaders,c=n.signingRegion,u=n.signingService;return Z.exports.__awaiter(this,void 0,void 0,function(){var l,f,h,v,g,w,y,b,_,T,A;return Z.exports.__generator(this,function(x){switch(x.label){case 0:return[4,this.credentialProvider()];case 1:return l=x.sent(),c==null?[3,2]:(h=c,[3,4]);case 2:return[4,this.regionProvider()];case 3:h=x.sent(),x.label=4;case 4:return f=h,v=qp(t),g=Js(o),w=g.longDate,y=g.shortDate,b=xc(y,f,u!=null?u:this.service),v.headers[F0]=w,l.sessionToken&&(v.headers[zI]=l.sessionToken),[4,Cc(v,this.sha256)];case 5:return _=x.sent(),!nx(Gl,v.headers)&&this.applyChecksum&&(v.headers[Gl]=_),T=jp(v,a,s),[4,this.getSignature(w,b,this.getSigningKey(l,f,y,u),this.createCanonicalRequest(v,T,_))];case 6:return A=x.sent(),v.headers[U0]=Tc+" "+("Credential="+l.accessKeyId+"/"+b+", ")+("SignedHeaders="+$p(T)+", ")+("Signature="+A),[2,v]}})})},e.prototype.createCanonicalRequest=function(t,r,n){var i=Object.keys(r).sort();return t.method+`
`+this.getCanonicalPath(t)+`
`+tx(t)+`
`+i.map(function(o){return o+":"+r[o]}).join(`
`)+`

`+i.join(";")+`
`+n},e.prototype.createStringToSign=function(t,r,n){return Z.exports.__awaiter(this,void 0,void 0,function(){var i,o;return Z.exports.__generator(this,function(s){switch(s.label){case 0:return i=new this.sha256,i.update(n),[4,i.digest()];case 1:return o=s.sent(),[2,Tc+`
`+t+`
`+r+`
`+Pn(o)]}})})},e.prototype.getCanonicalPath=function(t){var r=t.path;if(this.uriEscapePath){var n=encodeURIComponent(r.replace(/^\//,""));return"/"+n.replace(/%2F/g,"/")}return r},e.prototype.getSignature=function(t,r,n,i){return Z.exports.__awaiter(this,void 0,void 0,function(){var o,s,a,c,u;return Z.exports.__generator(this,function(l){switch(l.label){case 0:return[4,this.createStringToSign(t,r,i)];case 1:return o=l.sent(),c=(a=this.sha256).bind,[4,n];case 2:return s=new(c.apply(a,[void 0,l.sent()])),s.update(o),u=Pn,[4,s.digest()];case 3:return[2,u.apply(void 0,[l.sent()])]}})})},e.prototype.getSigningKey=function(t,r,n,i){return ex(this.sha256,t,n,r,i||this.service)},e}(),Js=function(e){var t=sx(e).replace(/[\-:]/g,"");return{longDate:t,shortDate:t.substr(0,8)}},$p=function(e){return Object.keys(e).sort().join(";")},cx=function(e){if(typeof e=="string"){var t=Promise.resolve(e);return function(){return t}}else return e},lx=function(e){if(typeof e=="object"){var t=Promise.resolve(e);return function(){return t}}else return e};function fx(e){var t=this,r=e.credentials||e.credentialDefaultProvider(e),n=Oc(r),i=e.signingEscapePath,o=i===void 0?!0:i,s=e.systemClockOffset,a=s===void 0?e.systemClockOffset||0:s,c=e.sha256,u;return e.signer?u=Oc(e.signer):u=function(){return Oc(e.region)().then(function(l){return Z.exports.__awaiter(t,void 0,void 0,function(){return Z.exports.__generator(this,function(f){switch(f.label){case 0:return[4,e.regionInfoProvider(l)];case 1:return[2,[f.sent()||{},l]]}})})}).then(function(l){var f=Z.exports.__read(l,2),h=f[0],v=f[1],g=h.signingRegion,w=h.signingService;return e.signingRegion=e.signingRegion||g||v,e.signingName=e.signingName||w||e.serviceId,new ux({credentials:n,region:e.signingRegion,service:e.signingName,sha256:c,uriEscapePath:o})})},Z.exports.__assign(Z.exports.__assign({},e),{systemClockOffset:a,signingEscapePath:o,credentials:n,signer:u})}function Oc(e){if(typeof e=="object"){var t=Promise.resolve(e);return function(){return t}}return e}var hx=function(e,t){return Math.abs(dx(t).getTime()-e)>=3e5},dx=function(e){return new Date(Date.now()+e)};function px(e){return function(t,r){return function(n){return Z.exports.__awaiter(this,void 0,void 0,function(){var i,o,s,a,c,u,l,f,h;return Z.exports.__generator(this,function(v){switch(v.label){case 0:return yi.isInstance(n.request)?typeof e.signer!="function"?[3,2]:[4,e.signer()]:[2,t(n)];case 1:return o=v.sent(),[3,3];case 2:o=e.signer,v.label=3;case 3:return i=o,a=t,c=[Z.exports.__assign({},n)],h={},[4,i.sign(n.request,{signingDate:new Date(Date.now()+e.systemClockOffset),signingRegion:r.signing_region,signingService:r.signing_service})];case 4:return[4,a.apply(void 0,[Z.exports.__assign.apply(void 0,c.concat([(h.request=v.sent(),h)]))])];case 5:return s=v.sent(),u=s.response.headers,l=u&&(u.date||u.Date),l&&(f=Date.parse(l),hx(f,e.systemClockOffset)&&(e.systemClockOffset=f-Date.now())),[2,s]}})})}}}var vx={name:"awsAuthMiddleware",tags:["SIGNATURE","AWSAUTH"],relation:"after",toMiddleware:"retryMiddleware",override:!0},J3=function(e){return{applyToStack:function(t){t.addRelativeTo(px(e),vx)}}};function gx(e){return Z.exports.__assign(Z.exports.__assign({},e),{customUserAgent:typeof e.customUserAgent=="string"?[[e.customUserAgent]]:e.customUserAgent})}var Pc="user-agent",mx="x-amz-user-agent",Kp=" ",yx=/[^\!\#\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,bx=function(e){return function(t,r){return function(n){return Z.exports.__awaiter(void 0,void 0,void 0,function(){var i,o,s,a,c,u,l,f;return Z.exports.__generator(this,function(h){switch(h.label){case 0:return i=n.request,yi.isInstance(i)?(o=i.headers,s=((l=r==null?void 0:r.userAgent)===null||l===void 0?void 0:l.map(Nc))||[],[4,e.defaultUserAgentProvider()]):[2,t(n)];case 1:return a=h.sent().map(Nc),c=((f=e==null?void 0:e.customUserAgent)===null||f===void 0?void 0:f.map(Nc))||[],o[mx]=Z.exports.__spread(a,s,c).join(Kp),u=Z.exports.__spread(a.filter(function(v){return v.startsWith("aws-sdk-")}),c).join(Kp),e.runtime!=="browser"&&u&&(o[Pc]=o[Pc]?o[Pc]+" "+u:u),[2,t(Z.exports.__assign(Z.exports.__assign({},n),{request:i}))]}})})}}},Nc=function(e){var t=Z.exports.__read(e,2),r=t[0],n=t[1],i=r.indexOf("/"),o=r.substring(0,i),s=r.substring(i+1);return o==="api"&&(s=s.toLowerCase()),[o,s,n].filter(function(a){return a&&a.length>0}).map(function(a){return a==null?void 0:a.replace(yx,"_")}).join("/")},wx={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},_x=function(e){return{applyToStack:function(t){t.add(bx(e),wx)}}},ru=function(){var e=[],t=[],r=new Set,n=function(l){return l.sort(function(f,h){return Hp[h.step]-Hp[f.step]||Vp[h.priority||"normal"]-Vp[f.priority||"normal"]})},i=function(l){var f=!1,h=function(v){return v.name&&v.name===l?(f=!0,r.delete(l),!1):!0};return e=e.filter(h),t=t.filter(h),f},o=function(l){var f=!1,h=function(v){return v.middleware===l?(f=!0,v.name&&r.delete(v.name),!1):!0};return e=e.filter(h),t=t.filter(h),f},s=function(l){return e.forEach(function(f){l.add(f.middleware,Z.exports.__assign({},f))}),t.forEach(function(f){l.addRelativeTo(f.middleware,Z.exports.__assign({},f))}),l},a=function(l){var f=[];return l.before.forEach(function(h){h.before.length===0&&h.after.length===0?f.push(h):f.push.apply(f,Z.exports.__spread(a(h)))}),f.push(l),l.after.reverse().forEach(function(h){h.before.length===0&&h.after.length===0?f.push(h):f.push.apply(f,Z.exports.__spread(a(h)))}),f},c=function(){var l=[],f=[],h={};e.forEach(function(g){var w=Z.exports.__assign(Z.exports.__assign({},g),{before:[],after:[]});w.name&&(h[w.name]=w),l.push(w)}),t.forEach(function(g){var w=Z.exports.__assign(Z.exports.__assign({},g),{before:[],after:[]});w.name&&(h[w.name]=w),f.push(w)}),f.forEach(function(g){if(g.toMiddleware){var w=h[g.toMiddleware];if(w===void 0)throw new Error(g.toMiddleware+" is not found when adding "+(g.name||"anonymous")+" middleware "+g.relation+" "+g.toMiddleware);g.relation==="after"&&w.after.push(g),g.relation==="before"&&w.before.push(g)}});var v=n(l).map(a).reduce(function(g,w){return g.push.apply(g,Z.exports.__spread(w)),g},[]);return v.map(function(g){return g.middleware})},u={add:function(l,f){f===void 0&&(f={});var h=f.name,v=f.override,g=Z.exports.__assign({step:"initialize",priority:"normal",middleware:l},f);if(h){if(r.has(h)){if(!v)throw new Error("Duplicate middleware name '"+h+"'");var w=e.findIndex(function(b){return b.name===h}),y=e[w];if(y.step!==g.step||y.priority!==g.priority)throw new Error('"'+h+'" middleware with '+y.priority+" priority in "+y.step+" step cannot be "+("overridden by same-name middleware with "+g.priority+" priority in "+g.step+" step."));e.splice(w,1)}r.add(h)}e.push(g)},addRelativeTo:function(l,f){var h=f.name,v=f.override,g=Z.exports.__assign({middleware:l},f);if(h){if(r.has(h)){if(!v)throw new Error("Duplicate middleware name '"+h+"'");var w=t.findIndex(function(b){return b.name===h}),y=t[w];if(y.toMiddleware!==g.toMiddleware||y.relation!==g.relation)throw new Error('"'+h+'" middleware '+y.relation+' "'+y.toMiddleware+'" middleware cannot be overridden '+("by same-name middleware "+g.relation+' "'+g.toMiddleware+'" middleware.'));t.splice(w,1)}r.add(h)}t.push(g)},clone:function(){return s(ru())},use:function(l){l.applyToStack(u)},remove:function(l){return typeof l=="string"?i(l):o(l)},removeByTag:function(l){var f=!1,h=function(v){var g=v.tags,w=v.name;return g&&g.includes(l)?(w&&r.delete(w),f=!0,!1):!0};return e=e.filter(h),t=t.filter(h),f},concat:function(l){var f=s(ru());return f.use(l),f},applyToStack:s,resolve:function(l,f){var h,v;try{for(var g=Z.exports.__values(c().reverse()),w=g.next();!w.done;w=g.next()){var y=w.value;l=y(l,f)}}catch(b){h={error:b}}finally{try{w&&!w.done&&(v=g.return)&&v.call(g)}finally{if(h)throw h.error}}return l}};return u},Hp={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},Vp={high:3,normal:2,low:1},Sx=function(){function e(t){this.middlewareStack=ru(),this.config=t}return e.prototype.send=function(t,r,n){var i=typeof r!="function"?r:void 0,o=typeof r=="function"?r:n,s=t.resolveMiddleware(this.middlewareStack,this.config,i);if(o)s(t).then(function(a){return o(null,a.output)},function(a){return o(a)}).catch(function(){});else return s(t).then(function(a){return a.output})},e.prototype.destroy=function(){this.config.requestHandler.destroy&&this.config.requestHandler.destroy()},e}(),j0=function(){function e(){this.middlewareStack=ru()}return e}();function Q3(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16)})}var X3=function(e){return Array.isArray(e)?e:[e]},Ex=function(e){var t="#text";for(var r in e)e.hasOwnProperty(r)&&e[r][t]!==void 0?e[r]=e[r][t]:typeof e[r]=="object"&&e[r]!==null&&(e[r]=Ex(e[r]));return e},nu=function(){var e=Object.getPrototypeOf(this).constructor,t=Function.bind.apply(String,Z.exports.__spread([null],arguments)),r=new t;return Object.setPrototypeOf(r,e.prototype),r};nu.prototype=Object.create(String.prototype,{constructor:{value:nu,enumerable:!1,writable:!0,configurable:!0}});Object.setPrototypeOf(nu,String);(function(e){Z.exports.__extends(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.deserializeJSON=function(){return JSON.parse(e.prototype.toString.call(this))},t.prototype.toJSON=function(){return e.prototype.toString.call(this)},t.fromObject=function(r){return r instanceof t?r:r instanceof String||typeof r=="string"?new t(r):new t(JSON.stringify(r))},t})(nu);var Ax=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Tx=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function Z3(e){var t=e.getUTCFullYear(),r=e.getUTCMonth(),n=e.getUTCDay(),i=e.getUTCDate(),o=e.getUTCHours(),s=e.getUTCMinutes(),a=e.getUTCSeconds(),c=i<10?"0"+i:""+i,u=o<10?"0"+o:""+o,l=s<10?"0"+s:""+s,f=a<10?"0"+a:""+a;return Ax[n]+", "+c+" "+Tx[r]+" "+t+" "+u+":"+l+":"+f+" GMT"}var eU="***SensitiveInformation***",Ix=function(e,t){return function(r,n){return function(i){return Z.exports.__awaiter(void 0,void 0,void 0,function(){var o,s;return Z.exports.__generator(this,function(a){switch(a.label){case 0:return[4,r(i)];case 1:return o=a.sent().response,[4,t(o,e)];case 2:return s=a.sent(),[2,{response:o,output:s}]}})})}}},xx=function(e,t){return function(r,n){return function(i){return Z.exports.__awaiter(void 0,void 0,void 0,function(){var o;return Z.exports.__generator(this,function(s){switch(s.label){case 0:return[4,t(i.input,e)];case 1:return o=s.sent(),[2,r(Z.exports.__assign(Z.exports.__assign({},i),{request:o}))]}})})}}},Cx={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},Ox={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function q0(e,t,r){return{applyToStack:function(n){n.add(Ix(e,r),Cx),n.add(xx(e,t),Ox)}}}var Px=globalThis&&globalThis.__awaiter||function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(f){s(f)}}function c(l){try{u(n.throw(l))}catch(f){s(f)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(e,t||[])).next())})},Nx=globalThis&&globalThis.__generator||function(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(l){return c([u,l])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){r.label=u[1];break}if(u[0]===6&&r.label<o[1]){r.label=o[1],o=u;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(u);break}o[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(l){u=[6,l],i=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},An=new Ae("CognitoCredentials"),Rx=new Promise(function(e,t){if(!Lr().isBrowser)return An.debug("not in the browser, directly resolved"),e();var r=window.gapi&&window.gapi.auth2?window.gapi.auth2:null;if(r)return An.debug("google api already loaded"),e();setTimeout(function(){return e()},2e3)}),Mx=function(){function e(){this.initialized=!1,this.refreshGoogleToken=this.refreshGoogleToken.bind(this),this._refreshGoogleTokenImpl=this._refreshGoogleTokenImpl.bind(this)}return e.prototype.refreshGoogleToken=function(){return Px(this,void 0,void 0,function(){return Nx(this,function(t){switch(t.label){case 0:return this.initialized?[3,2]:(An.debug("need to wait for the Google SDK loaded"),[4,Rx]);case 1:t.sent(),this.initialized=!0,An.debug("finish waiting"),t.label=2;case 2:return[2,this._refreshGoogleTokenImpl()]}})})},e.prototype._refreshGoogleTokenImpl=function(){var t=null;return Lr().isBrowser&&(t=window.gapi&&window.gapi.auth2?window.gapi.auth2:null),t?new Promise(function(r,n){t.getAuthInstance().then(function(i){i||(An.debug("google Auth undefined"),n(new Wt("google Auth undefined")));var o=i.currentUser.get();o.isSignedIn()?(An.debug("refreshing the google access token"),o.reloadAuthResponse().then(function(s){var a=s.id_token,c=s.expires_at;r({token:a,expires_at:c})}).catch(function(s){s&&s.error==="network_error"?n("Network error reloading google auth response"):n(new Wt("Failed to reload google auth response"))})):n(new Wt("User is not signed in with Google"))}).catch(function(i){An.debug("Failed to refresh google token",i),n(new Wt("Failed to refresh google token"))})}):(An.debug("no gapi auth2 available"),Promise.reject("no gapi auth2 available"))},e}(),kx=globalThis&&globalThis.__awaiter||function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(f){s(f)}}function c(l){try{u(n.throw(l))}catch(f){s(f)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(e,t||[])).next())})},Dx=globalThis&&globalThis.__generator||function(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(l){return c([u,l])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){r.label=u[1];break}if(u[0]===6&&r.label<o[1]){r.label=o[1],o=u;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(u);break}o[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(l){u=[6,l],i=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},si=new Ae("CognitoCredentials"),Ux=new Promise(function(e,t){if(!Lr().isBrowser)return si.debug("not in the browser, directly resolved"),e();var r=window.FB;if(r)return si.debug("FB SDK already loaded"),e();setTimeout(function(){return e()},2e3)}),Fx=function(){function e(){this.initialized=!1,this.refreshFacebookToken=this.refreshFacebookToken.bind(this),this._refreshFacebookTokenImpl=this._refreshFacebookTokenImpl.bind(this)}return e.prototype.refreshFacebookToken=function(){return kx(this,void 0,void 0,function(){return Dx(this,function(t){switch(t.label){case 0:return this.initialized?[3,2]:(si.debug("need to wait for the Facebook SDK loaded"),[4,Ux]);case 1:t.sent(),this.initialized=!0,si.debug("finish waiting"),t.label=2;case 2:return[2,this._refreshFacebookTokenImpl()]}})})},e.prototype._refreshFacebookTokenImpl=function(){var t=null;if(Lr().isBrowser&&(t=window.FB),!t){var r="no fb sdk available";return si.debug(r),Promise.reject(new Wt(r))}return new Promise(function(n,i){t.getLoginStatus(function(o){if(!o||!o.authResponse){var s="no response from facebook when refreshing the jwt token";si.debug(s),i(new Wt(s))}else{var a=o.authResponse,c=a.accessToken,u=a.expiresIn,l=new Date,f=u*1e3+l.getTime();if(!c){var s="the jwtToken is undefined";si.debug(s),i(new Wt(s))}n({token:c,expires_at:f})}},{scope:"public_profile,email"})})},e}(),Lx=new Mx,Bx=new Fx,Vn={},jx=function(){function e(){}return e.setItem=function(t,r){return Vn[t]=r,Vn[t]},e.getItem=function(t){return Object.prototype.hasOwnProperty.call(Vn,t)?Vn[t]:void 0},e.removeItem=function(t){return delete Vn[t]},e.clear=function(){return Vn={},Vn},e}(),Uh=function(){function e(){try{this.storageWindow=window.localStorage,this.storageWindow.setItem("aws.amplify.test-ls",1),this.storageWindow.removeItem("aws.amplify.test-ls")}catch{this.storageWindow=jx}}return e.prototype.getStorage=function(){return this.storageWindow},e}();const qx="@aws-sdk/client-cognito-identity",$x="AWS SDK for JavaScript Cognito Identity Client for Node.js, Browser and React Native",Kx="3.6.1",Hx={clean:"yarn remove-definitions && yarn remove-dist && yarn remove-documentation","build-documentation":"yarn remove-documentation && typedoc ./",prepublishOnly:"yarn build",pretest:"yarn build:cjs","remove-definitions":"rimraf ./types","remove-dist":"rimraf ./dist","remove-documentation":"rimraf ./docs","test:unit":"mocha **/cjs/**/*.spec.js","test:e2e":"mocha **/cjs/**/*.ispec.js && karma start karma.conf.js",test:"yarn test:unit","build:cjs":"tsc -p tsconfig.json","build:es":"tsc -p tsconfig.es.json",build:"yarn build:cjs && yarn build:es",postbuild:"downlevel-dts types types/ts3.4"},Vx="./dist/cjs/index.js",zx="./types/index.d.ts",Wx="./dist/es/index.js",Gx={"./runtimeConfig":"./runtimeConfig.browser"},Yx=!1,Jx={"@aws-crypto/sha256-browser":"^1.0.0","@aws-crypto/sha256-js":"^1.0.0","@aws-sdk/config-resolver":"3.6.1","@aws-sdk/credential-provider-node":"3.6.1","@aws-sdk/fetch-http-handler":"3.6.1","@aws-sdk/hash-node":"3.6.1","@aws-sdk/invalid-dependency":"3.6.1","@aws-sdk/middleware-content-length":"3.6.1","@aws-sdk/middleware-host-header":"3.6.1","@aws-sdk/middleware-logger":"3.6.1","@aws-sdk/middleware-retry":"3.6.1","@aws-sdk/middleware-serde":"3.6.1","@aws-sdk/middleware-signing":"3.6.1","@aws-sdk/middleware-stack":"3.6.1","@aws-sdk/middleware-user-agent":"3.6.1","@aws-sdk/node-config-provider":"3.6.1","@aws-sdk/node-http-handler":"3.6.1","@aws-sdk/protocol-http":"3.6.1","@aws-sdk/smithy-client":"3.6.1","@aws-sdk/types":"3.6.1","@aws-sdk/url-parser":"3.6.1","@aws-sdk/url-parser-native":"3.6.1","@aws-sdk/util-base64-browser":"3.6.1","@aws-sdk/util-base64-node":"3.6.1","@aws-sdk/util-body-length-browser":"3.6.1","@aws-sdk/util-body-length-node":"3.6.1","@aws-sdk/util-user-agent-browser":"3.6.1","@aws-sdk/util-user-agent-node":"3.6.1","@aws-sdk/util-utf8-browser":"3.6.1","@aws-sdk/util-utf8-node":"3.6.1",tslib:"^2.0.0"},Qx={"@aws-sdk/client-documentation-generator":"3.6.1","@aws-sdk/client-iam":"3.6.1","@types/chai":"^4.2.11","@types/mocha":"^8.0.4","@types/node":"^12.7.5","downlevel-dts":"0.7.0",jest:"^26.1.0",rimraf:"^3.0.0",typedoc:"^0.19.2",typescript:"~4.1.2"},Xx={node:">=10.0.0"},Zx={"<4.0":{"types/*":["types/ts3.4/*"]}},eC={name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},tC="Apache-2.0",rC="https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-cognito-identity",nC={type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-cognito-identity"};var iC={name:qx,description:$x,version:Kx,scripts:Hx,main:Vx,types:zx,module:Wx,browser:Gx,"react-native":{"./runtimeConfig":"./runtimeConfig.native"},sideEffects:Yx,dependencies:Jx,devDependencies:Qx,engines:Xx,typesVersions:Zx,author:eC,license:tC,homepage:rC,repository:nC},zp="cognito-identity.{region}.amazonaws.com",oC="cognito-identity.{region}.amazonaws.com.cn",sC="cognito-identity.{region}.c2s.ic.gov",aC="cognito-identity.{region}.sc2s.sgov.gov",uC="cognito-identity.{region}.amazonaws.com",cC=new Set(["af-south-1","ap-east-1","ap-northeast-1","ap-northeast-2","ap-south-1","ap-southeast-1","ap-southeast-2","ca-central-1","eu-central-1","eu-north-1","eu-south-1","eu-west-1","eu-west-2","eu-west-3","me-south-1","sa-east-1","us-east-1","us-east-2","us-west-1","us-west-2"]),lC=new Set(["cn-north-1","cn-northwest-1"]),fC=new Set(["us-iso-east-1"]),hC=new Set(["us-isob-east-1"]),dC=new Set(["us-gov-east-1","us-gov-west-1"]),pC=function(e,t){var r=void 0;switch(e){case"ap-northeast-1":r={hostname:"cognito-identity.ap-northeast-1.amazonaws.com",partition:"aws"};break;case"ap-northeast-2":r={hostname:"cognito-identity.ap-northeast-2.amazonaws.com",partition:"aws"};break;case"ap-south-1":r={hostname:"cognito-identity.ap-south-1.amazonaws.com",partition:"aws"};break;case"ap-southeast-1":r={hostname:"cognito-identity.ap-southeast-1.amazonaws.com",partition:"aws"};break;case"ap-southeast-2":r={hostname:"cognito-identity.ap-southeast-2.amazonaws.com",partition:"aws"};break;case"ca-central-1":r={hostname:"cognito-identity.ca-central-1.amazonaws.com",partition:"aws"};break;case"cn-north-1":r={hostname:"cognito-identity.cn-north-1.amazonaws.com.cn",partition:"aws-cn"};break;case"eu-central-1":r={hostname:"cognito-identity.eu-central-1.amazonaws.com",partition:"aws"};break;case"eu-north-1":r={hostname:"cognito-identity.eu-north-1.amazonaws.com",partition:"aws"};break;case"eu-west-1":r={hostname:"cognito-identity.eu-west-1.amazonaws.com",partition:"aws"};break;case"eu-west-2":r={hostname:"cognito-identity.eu-west-2.amazonaws.com",partition:"aws"};break;case"eu-west-3":r={hostname:"cognito-identity.eu-west-3.amazonaws.com",partition:"aws"};break;case"fips-us-east-1":r={hostname:"cognito-identity-fips.us-east-1.amazonaws.com",partition:"aws",signingRegion:"us-east-1"};break;case"fips-us-east-2":r={hostname:"cognito-identity-fips.us-east-2.amazonaws.com",partition:"aws",signingRegion:"us-east-2"};break;case"fips-us-gov-west-1":r={hostname:"cognito-identity-fips.us-gov-west-1.amazonaws.com",partition:"aws-us-gov",signingRegion:"us-gov-west-1"};break;case"fips-us-west-2":r={hostname:"cognito-identity-fips.us-west-2.amazonaws.com",partition:"aws",signingRegion:"us-west-2"};break;case"sa-east-1":r={hostname:"cognito-identity.sa-east-1.amazonaws.com",partition:"aws"};break;case"us-east-1":r={hostname:"cognito-identity.us-east-1.amazonaws.com",partition:"aws"};break;case"us-east-2":r={hostname:"cognito-identity.us-east-2.amazonaws.com",partition:"aws"};break;case"us-gov-west-1":r={hostname:"cognito-identity.us-gov-west-1.amazonaws.com",partition:"aws-us-gov"};break;case"us-west-1":r={hostname:"cognito-identity.us-west-1.amazonaws.com",partition:"aws"};break;case"us-west-2":r={hostname:"cognito-identity.us-west-2.amazonaws.com",partition:"aws"};break;default:cC.has(e)&&(r={hostname:zp.replace("{region}",e),partition:"aws"}),lC.has(e)&&(r={hostname:oC.replace("{region}",e),partition:"aws-cn"}),fC.has(e)&&(r={hostname:sC.replace("{region}",e),partition:"aws-iso"}),hC.has(e)&&(r={hostname:aC.replace("{region}",e),partition:"aws-iso-b"}),dC.has(e)&&(r={hostname:uC.replace("{region}",e),partition:"aws-us-gov"}),r===void 0&&(r={hostname:zp.replace("{region}",e),partition:"aws"})}return Promise.resolve(ne({signingService:"cognito-identity"},r))},Wp={apiVersion:"2014-06-30",disableHostPrefix:!1,logger:{},regionInfoProvider:pC,serviceId:"Cognito Identity",urlParser:AI},vC=ne(ne({},Wp),{runtime:"browser",base64Decoder:x0,base64Encoder:xT,bodyLengthChecker:vI,credentialDefaultProvider:function(e){return function(){return Promise.reject(new Error("Credential is missing"))}},defaultUserAgentProvider:SI({serviceId:Wp.serviceId,clientVersion:iC.version}),maxAttempts:Dh,region:RT("Region is missing"),requestHandler:new TT,sha256:p0.Sha256,streamCollector:CT,utf8Decoder:m0,utf8Encoder:y0}),Rc=function(e){Ch(t,e);function t(r){var n=this,i=ne(ne({},vC),r),o=CI(i),s=TI(o),a=fx(s),c=dI(a),u=c,l=gx(u);return n=e.call(this,l)||this,n.config=l,n.middlewareStack.use(DT(n.config)),n.middlewareStack.use(RI(n.config)),n.middlewareStack.use(DI(n.config)),n.middlewareStack.use(LI(n.config)),n.middlewareStack.use(_x(n.config)),n}return t.prototype.destroy=function(){e.prototype.destroy.call(this)},t}(Sx),Gp;(function(e){e.AUTHENTICATED_ROLE="AuthenticatedRole",e.DENY="Deny"})(Gp||(Gp={}));var Yp;(function(e){e.filterSensitiveLog=function(t){return ne({},t)}})(Yp||(Yp={}));var Jp;(function(e){e.filterSensitiveLog=function(t){return ne({},t)}})(Jp||(Jp={}));var Qp;(function(e){e.filterSensitiveLog=function(t){return ne({},t)}})(Qp||(Qp={}));var Xp;(function(e){e.filterSensitiveLog=function(t){return ne({},t)}})(Xp||(Xp={}));var Zp;(function(e){e.filterSensitiveLog=function(t){return ne({},t)}})(Zp||(Zp={}));var ev;(function(e){e.filterSensitiveLog=function(t){return ne({},t)}})(ev||(ev={}));var tv;(function(e){e.filterSensitiveLog=function(t){return ne({},t)}})(tv||(tv={}));var rv;(function(e){e.filterSensitiveLog=function(t){return ne({},t)}})(rv||(rv={}));var nv;(function(e){e.filterSensitiveLog=function(t){return ne({},t)}})(nv||(nv={}));var iv;(function(e){e.filterSensitiveLog=function(t){return ne({},t)}})(iv||(iv={}));var ov;(function(e){e.ACCESS_DENIED="AccessDenied",e.INTERNAL_SERVER_ERROR="InternalServerError"})(ov||(ov={}));var sv;(function(e){e.filterSensitiveLog=function(t){return ne({},t)}})(sv||(sv={}));var av;(function(e){e.filterSensitiveLog=function(t){return ne({},t)}})(av||(av={}));var uv;(function(e){e.filterSensitiveLog=function(t){return ne({},t)}})(uv||(uv={}));var cv;(function(e){e.filterSensitiveLog=function(t){return ne({},t)}})(cv||(cv={}));var lv;(function(e){e.filterSensitiveLog=function(t){return ne({},t)}})(lv||(lv={}));var fv;(function(e){e.filterSensitiveLog=function(t){return ne({},t)}})(fv||(fv={}));var hv;(function(e){e.filterSensitiveLog=function(t){return ne({},t)}})(hv||(hv={}));var dv;(function(e){e.filterSensitiveLog=function(t){return ne({},t)}})(dv||(dv={}));var Yl;(function(e){e.filterSensitiveLog=function(t){return ne({},t)}})(Yl||(Yl={}));var pv;(function(e){e.filterSensitiveLog=function(t){return ne({},t)}})(pv||(pv={}));var Jl;(function(e){e.filterSensitiveLog=function(t){return ne({},t)}})(Jl||(Jl={}));var vv;(function(e){e.filterSensitiveLog=function(t){return ne({},t)}})(vv||(vv={}));var Ql;(function(e){e.filterSensitiveLog=function(t){return ne({},t)}})(Ql||(Ql={}));var Xl;(function(e){e.filterSensitiveLog=function(t){return ne({},t)}})(Xl||(Xl={}));var gv;(function(e){e.filterSensitiveLog=function(t){return ne({},t)}})(gv||(gv={}));var mv;(function(e){e.CONTAINS="Contains",e.EQUALS="Equals",e.NOT_EQUAL="NotEqual",e.STARTS_WITH="StartsWith"})(mv||(mv={}));var yv;(function(e){e.filterSensitiveLog=function(t){return ne({},t)}})(yv||(yv={}));var bv;(function(e){e.filterSensitiveLog=function(t){return ne({},t)}})(bv||(bv={}));var wv;(function(e){e.RULES="Rules",e.TOKEN="Token"})(wv||(wv={}));var _v;(function(e){e.filterSensitiveLog=function(t){return ne({},t)}})(_v||(_v={}));var Sv;(function(e){e.filterSensitiveLog=function(t){return ne({},t)}})(Sv||(Sv={}));var Ev;(function(e){e.filterSensitiveLog=function(t){return ne({},t)}})(Ev||(Ev={}));var Av;(function(e){e.filterSensitiveLog=function(t){return ne({},t)}})(Av||(Av={}));var Tv;(function(e){e.filterSensitiveLog=function(t){return ne({},t)}})(Tv||(Tv={}));var Iv;(function(e){e.filterSensitiveLog=function(t){return ne({},t)}})(Iv||(Iv={}));var xv;(function(e){e.filterSensitiveLog=function(t){return ne({},t)}})(xv||(xv={}));var Cv;(function(e){e.filterSensitiveLog=function(t){return ne({},t)}})(Cv||(Cv={}));var Ov;(function(e){e.filterSensitiveLog=function(t){return ne({},t)}})(Ov||(Ov={}));var Pv;(function(e){e.filterSensitiveLog=function(t){return ne({},t)}})(Pv||(Pv={}));var Nv;(function(e){e.filterSensitiveLog=function(t){return ne({},t)}})(Nv||(Nv={}));var Rv;(function(e){e.filterSensitiveLog=function(t){return ne({},t)}})(Rv||(Rv={}));var Mv;(function(e){e.filterSensitiveLog=function(t){return ne({},t)}})(Mv||(Mv={}));var kv;(function(e){e.filterSensitiveLog=function(t){return ne({},t)}})(kv||(kv={}));var Dv;(function(e){e.filterSensitiveLog=function(t){return ne({},t)}})(Dv||(Dv={}));var Uv;(function(e){e.filterSensitiveLog=function(t){return ne({},t)}})(Uv||(Uv={}));var Fv;(function(e){e.filterSensitiveLog=function(t){return ne({},t)}})(Fv||(Fv={}));var Lv;(function(e){e.filterSensitiveLog=function(t){return ne({},t)}})(Lv||(Lv={}));var Bv;(function(e){e.filterSensitiveLog=function(t){return ne({},t)}})(Bv||(Bv={}));var jv;(function(e){e.filterSensitiveLog=function(t){return ne({},t)}})(jv||(jv={}));var qv;(function(e){e.filterSensitiveLog=function(t){return ne({},t)}})(qv||(qv={}));var $v;(function(e){e.filterSensitiveLog=function(t){return ne({},t)}})($v||($v={}));var Kv;(function(e){e.filterSensitiveLog=function(t){return ne({},t)}})(Kv||(Kv={}));var Hv;(function(e){e.filterSensitiveLog=function(t){return ne({},t)}})(Hv||(Hv={}));var Vv;(function(e){e.filterSensitiveLog=function(t){return ne({},t)}})(Vv||(Vv={}));var zv;(function(e){e.filterSensitiveLog=function(t){return ne({},t)}})(zv||(zv={}));var gC=function(e,t){return dt(void 0,void 0,void 0,function(){var r,n;return pt(this,function(i){return r={"content-type":"application/x-amz-json-1.1","x-amz-target":"AWSCognitoIdentityService.GetCredentialsForIdentity"},n=JSON.stringify(AC(e)),[2,J0(t,r,"/",void 0,n)]})})},mC=function(e,t){return dt(void 0,void 0,void 0,function(){var r,n;return pt(this,function(i){return r={"content-type":"application/x-amz-json-1.1","x-amz-target":"AWSCognitoIdentityService.GetId"},n=JSON.stringify(TC(e)),[2,J0(t,r,"/",void 0,n)]})})},yC=function(e,t){return dt(void 0,void 0,void 0,function(){var r,n,i;return pt(this,function(o){switch(o.label){case 0:return e.statusCode>=300?[2,bC(e,t)]:[4,Xu(e.body,t)];case 1:return r=o.sent(),n={},n=CC(r),i=ne({$metadata:Re(e)},n),[2,Promise.resolve(i)]}})})},bC=function(e,t){return dt(void 0,void 0,void 0,function(){var r,n,i,o,s,a,c,u,l,f,h,v,g,w,y,b;return pt(this,function(_){switch(_.label){case 0:return n=[ne({},e)],b={},[4,Xu(e.body,t)];case 1:switch(r=ne.apply(void 0,n.concat([(b.body=_.sent(),b)])),o="UnknownError",o=Q0(e,r.body),s=o,s){case"ExternalServiceException":return[3,2];case"com.amazonaws.cognitoidentity#ExternalServiceException":return[3,2];case"InternalErrorException":return[3,4];case"com.amazonaws.cognitoidentity#InternalErrorException":return[3,4];case"InvalidIdentityPoolConfigurationException":return[3,6];case"com.amazonaws.cognitoidentity#InvalidIdentityPoolConfigurationException":return[3,6];case"InvalidParameterException":return[3,8];case"com.amazonaws.cognitoidentity#InvalidParameterException":return[3,8];case"NotAuthorizedException":return[3,10];case"com.amazonaws.cognitoidentity#NotAuthorizedException":return[3,10];case"ResourceConflictException":return[3,12];case"com.amazonaws.cognitoidentity#ResourceConflictException":return[3,12];case"ResourceNotFoundException":return[3,14];case"com.amazonaws.cognitoidentity#ResourceNotFoundException":return[3,14];case"TooManyRequestsException":return[3,16];case"com.amazonaws.cognitoidentity#TooManyRequestsException":return[3,16]}return[3,18];case 2:return a=[{}],[4,$0(r)];case 3:return i=ne.apply(void 0,[ne.apply(void 0,a.concat([_.sent()])),{name:o,$metadata:Re(e)}]),[3,19];case 4:return c=[{}],[4,K0(r)];case 5:return i=ne.apply(void 0,[ne.apply(void 0,c.concat([_.sent()])),{name:o,$metadata:Re(e)}]),[3,19];case 6:return u=[{}],[4,SC(r)];case 7:return i=ne.apply(void 0,[ne.apply(void 0,u.concat([_.sent()])),{name:o,$metadata:Re(e)}]),[3,19];case 8:return l=[{}],[4,H0(r)];case 9:return i=ne.apply(void 0,[ne.apply(void 0,l.concat([_.sent()])),{name:o,$metadata:Re(e)}]),[3,19];case 10:return f=[{}],[4,V0(r)];case 11:return i=ne.apply(void 0,[ne.apply(void 0,f.concat([_.sent()])),{name:o,$metadata:Re(e)}]),[3,19];case 12:return h=[{}],[4,z0(r)];case 13:return i=ne.apply(void 0,[ne.apply(void 0,h.concat([_.sent()])),{name:o,$metadata:Re(e)}]),[3,19];case 14:return v=[{}],[4,W0(r)];case 15:return i=ne.apply(void 0,[ne.apply(void 0,v.concat([_.sent()])),{name:o,$metadata:Re(e)}]),[3,19];case 16:return g=[{}],[4,G0(r)];case 17:return i=ne.apply(void 0,[ne.apply(void 0,g.concat([_.sent()])),{name:o,$metadata:Re(e)}]),[3,19];case 18:w=r.body,o=w.code||w.Code||o,i=ne(ne({},w),{name:""+o,message:w.message||w.Message||o,$fault:"client",$metadata:Re(e)}),_.label=19;case 19:return y=i.message||i.Message||o,i.message=y,delete i.Message,[2,Promise.reject(Object.assign(new Error(y),i))]}})})},wC=function(e,t){return dt(void 0,void 0,void 0,function(){var r,n,i;return pt(this,function(o){switch(o.label){case 0:return e.statusCode>=300?[2,_C(e,t)]:[4,Xu(e.body,t)];case 1:return r=o.sent(),n={},n=OC(r),i=ne({$metadata:Re(e)},n),[2,Promise.resolve(i)]}})})},_C=function(e,t){return dt(void 0,void 0,void 0,function(){var r,n,i,o,s,a,c,u,l,f,h,v,g,w,y,b;return pt(this,function(_){switch(_.label){case 0:return n=[ne({},e)],b={},[4,Xu(e.body,t)];case 1:switch(r=ne.apply(void 0,n.concat([(b.body=_.sent(),b)])),o="UnknownError",o=Q0(e,r.body),s=o,s){case"ExternalServiceException":return[3,2];case"com.amazonaws.cognitoidentity#ExternalServiceException":return[3,2];case"InternalErrorException":return[3,4];case"com.amazonaws.cognitoidentity#InternalErrorException":return[3,4];case"InvalidParameterException":return[3,6];case"com.amazonaws.cognitoidentity#InvalidParameterException":return[3,6];case"LimitExceededException":return[3,8];case"com.amazonaws.cognitoidentity#LimitExceededException":return[3,8];case"NotAuthorizedException":return[3,10];case"com.amazonaws.cognitoidentity#NotAuthorizedException":return[3,10];case"ResourceConflictException":return[3,12];case"com.amazonaws.cognitoidentity#ResourceConflictException":return[3,12];case"ResourceNotFoundException":return[3,14];case"com.amazonaws.cognitoidentity#ResourceNotFoundException":return[3,14];case"TooManyRequestsException":return[3,16];case"com.amazonaws.cognitoidentity#TooManyRequestsException":return[3,16]}return[3,18];case 2:return a=[{}],[4,$0(r)];case 3:return i=ne.apply(void 0,[ne.apply(void 0,a.concat([_.sent()])),{name:o,$metadata:Re(e)}]),[3,19];case 4:return c=[{}],[4,K0(r)];case 5:return i=ne.apply(void 0,[ne.apply(void 0,c.concat([_.sent()])),{name:o,$metadata:Re(e)}]),[3,19];case 6:return u=[{}],[4,H0(r)];case 7:return i=ne.apply(void 0,[ne.apply(void 0,u.concat([_.sent()])),{name:o,$metadata:Re(e)}]),[3,19];case 8:return l=[{}],[4,EC(r)];case 9:return i=ne.apply(void 0,[ne.apply(void 0,l.concat([_.sent()])),{name:o,$metadata:Re(e)}]),[3,19];case 10:return f=[{}],[4,V0(r)];case 11:return i=ne.apply(void 0,[ne.apply(void 0,f.concat([_.sent()])),{name:o,$metadata:Re(e)}]),[3,19];case 12:return h=[{}],[4,z0(r)];case 13:return i=ne.apply(void 0,[ne.apply(void 0,h.concat([_.sent()])),{name:o,$metadata:Re(e)}]),[3,19];case 14:return v=[{}],[4,W0(r)];case 15:return i=ne.apply(void 0,[ne.apply(void 0,v.concat([_.sent()])),{name:o,$metadata:Re(e)}]),[3,19];case 16:return g=[{}],[4,G0(r)];case 17:return i=ne.apply(void 0,[ne.apply(void 0,g.concat([_.sent()])),{name:o,$metadata:Re(e)}]),[3,19];case 18:w=r.body,o=w.code||w.Code||o,i=ne(ne({},w),{name:""+o,message:w.message||w.Message||o,$fault:"client",$metadata:Re(e)}),_.label=19;case 19:return y=i.message||i.Message||o,i.message=y,delete i.Message,[2,Promise.reject(Object.assign(new Error(y),i))]}})})},$0=function(e,t){return dt(void 0,void 0,void 0,function(){var r,n,i;return pt(this,function(o){return r=e.body,n=xC(r),i=ne({name:"ExternalServiceException",$fault:"client",$metadata:Re(e)},n),[2,i]})})},K0=function(e,t){return dt(void 0,void 0,void 0,function(){var r,n,i;return pt(this,function(o){return r=e.body,n=PC(r),i=ne({name:"InternalErrorException",$fault:"server",$metadata:Re(e)},n),[2,i]})})},SC=function(e,t){return dt(void 0,void 0,void 0,function(){var r,n,i;return pt(this,function(o){return r=e.body,n=NC(r),i=ne({name:"InvalidIdentityPoolConfigurationException",$fault:"client",$metadata:Re(e)},n),[2,i]})})},H0=function(e,t){return dt(void 0,void 0,void 0,function(){var r,n,i;return pt(this,function(o){return r=e.body,n=RC(r),i=ne({name:"InvalidParameterException",$fault:"client",$metadata:Re(e)},n),[2,i]})})},EC=function(e,t){return dt(void 0,void 0,void 0,function(){var r,n,i;return pt(this,function(o){return r=e.body,n=MC(r),i=ne({name:"LimitExceededException",$fault:"client",$metadata:Re(e)},n),[2,i]})})},V0=function(e,t){return dt(void 0,void 0,void 0,function(){var r,n,i;return pt(this,function(o){return r=e.body,n=kC(r),i=ne({name:"NotAuthorizedException",$fault:"client",$metadata:Re(e)},n),[2,i]})})},z0=function(e,t){return dt(void 0,void 0,void 0,function(){var r,n,i;return pt(this,function(o){return r=e.body,n=DC(r),i=ne({name:"ResourceConflictException",$fault:"client",$metadata:Re(e)},n),[2,i]})})},W0=function(e,t){return dt(void 0,void 0,void 0,function(){var r,n,i;return pt(this,function(o){return r=e.body,n=UC(r),i=ne({name:"ResourceNotFoundException",$fault:"client",$metadata:Re(e)},n),[2,i]})})},G0=function(e,t){return dt(void 0,void 0,void 0,function(){var r,n,i;return pt(this,function(o){return r=e.body,n=FC(r),i=ne({name:"TooManyRequestsException",$fault:"client",$metadata:Re(e)},n),[2,i]})})},AC=function(e,t){return ne(ne(ne({},e.CustomRoleArn!==void 0&&e.CustomRoleArn!==null&&{CustomRoleArn:e.CustomRoleArn}),e.IdentityId!==void 0&&e.IdentityId!==null&&{IdentityId:e.IdentityId}),e.Logins!==void 0&&e.Logins!==null&&{Logins:Y0(e.Logins)})},TC=function(e,t){return ne(ne(ne({},e.AccountId!==void 0&&e.AccountId!==null&&{AccountId:e.AccountId}),e.IdentityPoolId!==void 0&&e.IdentityPoolId!==null&&{IdentityPoolId:e.IdentityPoolId}),e.Logins!==void 0&&e.Logins!==null&&{Logins:Y0(e.Logins)})},Y0=function(e,t){return Object.entries(e).reduce(function(r,n){var i,o=LA(n,2),s=o[0],a=o[1];return a===null?r:ne(ne({},r),(i={},i[s]=a,i))},{})},IC=function(e,t){return{AccessKeyId:e.AccessKeyId!==void 0&&e.AccessKeyId!==null?e.AccessKeyId:void 0,Expiration:e.Expiration!==void 0&&e.Expiration!==null?new Date(Math.round(e.Expiration*1e3)):void 0,SecretKey:e.SecretKey!==void 0&&e.SecretKey!==null?e.SecretKey:void 0,SessionToken:e.SessionToken!==void 0&&e.SessionToken!==null?e.SessionToken:void 0}},xC=function(e,t){return{message:e.message!==void 0&&e.message!==null?e.message:void 0}},CC=function(e,t){return{Credentials:e.Credentials!==void 0&&e.Credentials!==null?IC(e.Credentials):void 0,IdentityId:e.IdentityId!==void 0&&e.IdentityId!==null?e.IdentityId:void 0}},OC=function(e,t){return{IdentityId:e.IdentityId!==void 0&&e.IdentityId!==null?e.IdentityId:void 0}},PC=function(e,t){return{message:e.message!==void 0&&e.message!==null?e.message:void 0}},NC=function(e,t){return{message:e.message!==void 0&&e.message!==null?e.message:void 0}},RC=function(e,t){return{message:e.message!==void 0&&e.message!==null?e.message:void 0}},MC=function(e,t){return{message:e.message!==void 0&&e.message!==null?e.message:void 0}},kC=function(e,t){return{message:e.message!==void 0&&e.message!==null?e.message:void 0}},DC=function(e,t){return{message:e.message!==void 0&&e.message!==null?e.message:void 0}},UC=function(e,t){return{message:e.message!==void 0&&e.message!==null?e.message:void 0}},FC=function(e,t){return{message:e.message!==void 0&&e.message!==null?e.message:void 0}},Re=function(e){var t;return{httpStatusCode:e.statusCode,requestId:(t=e.headers["x-amzn-requestid"])!==null&&t!==void 0?t:e.headers["x-amzn-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}},LC=function(e,t){return e===void 0&&(e=new Uint8Array),e instanceof Uint8Array?Promise.resolve(e):t.streamCollector(e)||Promise.resolve(new Uint8Array)},BC=function(e,t){return LC(e,t).then(function(r){return t.utf8Encoder(r)})},J0=function(e,t,r,n,i){return dt(void 0,void 0,void 0,function(){var o,s,a,c,u,l;return pt(this,function(f){switch(f.label){case 0:return[4,e.endpoint()];case 1:return o=f.sent(),s=o.hostname,a=o.protocol,c=a===void 0?"https":a,u=o.port,l={protocol:c,hostname:s,port:u,method:"POST",path:r,headers:t},n!==void 0&&(l.hostname=n),i!==void 0&&(l.body=i),[2,new yi(l)]}})})},Xu=function(e,t){return BC(e,t).then(function(r){return r.length?JSON.parse(r):{}})},Q0=function(e,t){var r=function(o,s){return Object.keys(o).find(function(a){return a.toLowerCase()===s.toLowerCase()})},n=function(o){var s=o;return s.indexOf(":")>=0&&(s=s.split(":")[0]),s.indexOf("#")>=0&&(s=s.split("#")[1]),s},i=r(e.headers,"x-amzn-errortype");return i!==void 0?n(e.headers[i]):t.code!==void 0?n(t.code):t.__type!==void 0?n(t.__type):""},Zl=function(e){Ch(t,e);function t(r){var n=e.call(this)||this;return n.input=r,n}return t.prototype.resolveMiddleware=function(r,n,i){this.middlewareStack.use(q0(n,this.serialize,this.deserialize));var o=r.concat(this.middlewareStack),s=n.logger,a="CognitoIdentityClient",c="GetCredentialsForIdentityCommand",u={logger:s,clientName:a,commandName:c,inputFilterSensitiveLog:Yl.filterSensitiveLog,outputFilterSensitiveLog:Jl.filterSensitiveLog},l=n.requestHandler;return o.resolve(function(f){return l.handle(f.request,i||{})},u)},t.prototype.serialize=function(r,n){return gC(r,n)},t.prototype.deserialize=function(r,n){return yC(r,n)},t}(j0),es=function(e){Ch(t,e);function t(r){var n=e.call(this)||this;return n.input=r,n}return t.prototype.resolveMiddleware=function(r,n,i){this.middlewareStack.use(q0(n,this.serialize,this.deserialize));var o=r.concat(this.middlewareStack),s=n.logger,a="CognitoIdentityClient",c="GetIdCommand",u={logger:s,clientName:a,commandName:c,inputFilterSensitiveLog:Ql.filterSensitiveLog,outputFilterSensitiveLog:Xl.filterSensitiveLog},l=n.requestHandler;return o.resolve(function(f){return l.handle(f.request,i||{})},u)},t.prototype.serialize=function(r,n){return mC(r,n)},t.prototype.deserialize=function(r,n){return wC(r,n)},t}(j0),Zu=function(e){Z.exports.__extends(t,e);function t(r,n){n===void 0&&(n=!0);var i=e.call(this,r)||this;return i.tryNextLink=n,i}return t}(Error);function X0(e){return Promise.all(Object.keys(e).reduce(function(t,r){var n=e[r];return typeof n=="string"?t.push([r,n]):t.push(n().then(function(i){return[r,i]})),t},[])).then(function(t){return t.reduce(function(r,n){var i=Z.exports.__read(n,2),o=i[0],s=i[1];return r[o]=s,r},{})})}function qo(e){var t=this;return function(){return Z.exports.__awaiter(t,void 0,void 0,function(){var r,n,i,o,s,a,c,u,l,f,h,v,g;return Z.exports.__generator(this,function(w){switch(w.label){case 0:return f=(l=e.client).send,h=Zl.bind,g={CustomRoleArn:e.customRoleArn,IdentityId:e.identityId},e.logins?[4,X0(e.logins)]:[3,2];case 1:return v=w.sent(),[3,3];case 2:v=void 0,w.label=3;case 3:return[4,f.apply(l,[new(h.apply(Zl,[void 0,(g.Logins=v,g)]))])];case 4:return r=w.sent().Credentials,n=r===void 0?qC():r,i=n.AccessKeyId,o=i===void 0?jC():i,s=n.Expiration,a=n.SecretKey,c=a===void 0?$C():a,u=n.SessionToken,[2,{identityId:e.identityId,accessKeyId:o,secretAccessKey:c,sessionToken:u,expiration:s}]}})})}}function jC(){throw new Zu("Response from Amazon Cognito contained no access key ID")}function qC(){throw new Zu("Response from Amazon Cognito contained no credentials")}function $C(){throw new Zu("Response from Amazon Cognito contained no secret key")}var Mc="IdentityIds",KC=function(){function e(t){t===void 0&&(t="aws:cognito-identity-ids"),this.dbName=t}return e.prototype.getItem=function(t){return this.withObjectStore("readonly",function(r){var n=r.get(t);return new Promise(function(i){n.onerror=function(){return i(null)},n.onsuccess=function(){return i(n.result?n.result.value:null)}})}).catch(function(){return null})},e.prototype.removeItem=function(t){return this.withObjectStore("readwrite",function(r){var n=r.delete(t);return new Promise(function(i,o){n.onerror=function(){return o(n.error)},n.onsuccess=function(){return i()}})})},e.prototype.setItem=function(t,r){return this.withObjectStore("readwrite",function(n){var i=n.put({id:t,value:r});return new Promise(function(o,s){i.onerror=function(){return s(i.error)},i.onsuccess=function(){return o()}})})},e.prototype.getDb=function(){var t=self.indexedDB.open(this.dbName,1);return new Promise(function(r,n){t.onsuccess=function(){r(t.result)},t.onerror=function(){n(t.error)},t.onblocked=function(){n(new Error("Unable to access DB"))},t.onupgradeneeded=function(){var i=t.result;i.onerror=function(){n(new Error("Failed to create object store"))},i.createObjectStore(Mc,{keyPath:"id"})}})},e.prototype.withObjectStore=function(t,r){return this.getDb().then(function(n){var i=n.transaction(Mc,t);return i.oncomplete=function(){return n.close()},new Promise(function(o,s){i.onerror=function(){return s(i.error)},o(r(i.objectStore(Mc)))}).catch(function(o){throw n.close(),o})})},e}(),HC=function(){function e(t){t===void 0&&(t={}),this.store=t}return e.prototype.getItem=function(t){return t in this.store?this.store[t]:null},e.prototype.removeItem=function(t){delete this.store[t]},e.prototype.setItem=function(t,r){this.store[t]=r},e}(),VC=new HC;function zC(){return typeof self=="object"&&self.indexedDB?new KC:typeof window=="object"&&window.localStorage?window.localStorage:VC}function WC(e){var t=this,r=e.accountId,n=e.cache,i=n===void 0?zC():n,o=e.client,s=e.customRoleArn,a=e.identityPoolId,c=e.logins,u=e.userIdentifier,l=u===void 0?!c||Object.keys(c).length===0?"ANONYMOUS":void 0:u,f=l?"aws:cognito-identity-credentials:"+a+":"+l:void 0,h=function(){return Z.exports.__awaiter(t,void 0,void 0,function(){var v,g,w,y,b,_,T,A,x;return Z.exports.__generator(this,function(R){switch(R.label){case 0:return g=f,g?[4,i.getItem(f)]:[3,2];case 1:g=R.sent(),R.label=2;case 2:return v=g,v?[3,7]:(_=(b=o).send,T=es.bind,x={AccountId:r,IdentityPoolId:a},c?[4,X0(c)]:[3,4]);case 3:return A=R.sent(),[3,5];case 4:A=void 0,R.label=5;case 5:return[4,_.apply(b,[new(T.apply(es,[void 0,(x.Logins=A,x)]))])];case 6:w=R.sent().IdentityId,y=w===void 0?GC():w,v=y,f&&Promise.resolve(i.setItem(f,v)).catch(function(){}),R.label=7;case 7:return h=qo({client:o,customRoleArn:s,logins:c,identityId:v}),[2,h()]}})})};return function(){return h().catch(function(v){return Z.exports.__awaiter(t,void 0,void 0,function(){return Z.exports.__generator(this,function(g){throw f&&Promise.resolve(i.removeItem(f)).catch(function(){}),v})})})}}function GC(){throw new Zu("Response from Amazon Cognito contained no identity ID")}var iu=globalThis&&globalThis.__assign||function(){return iu=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},iu.apply(this,arguments)},Ct=globalThis&&globalThis.__awaiter||function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(f){s(f)}}function c(l){try{u(n.throw(l))}catch(f){s(f)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(e,t||[])).next())})},Ot=globalThis&&globalThis.__generator||function(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(l){return c([u,l])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){r.label=u[1];break}if(u[0]===6&&r.label<o[1]){r.label=o[1],o=u;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(u);break}o[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(l){u=[6,l],i=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},Ee=new Ae("Credentials"),YC=50*60*1e3,JC="CognitoIdentityId-",QC=function(){function e(t){this._gettingCredPromise=null,this._refreshHandlers={},this.Auth=void 0,this.configure(t),this._refreshHandlers.google=Lx.refreshGoogleToken,this._refreshHandlers.facebook=Bx.refreshFacebookToken}return e.prototype.getModuleName=function(){return"Credentials"},e.prototype.getCredSource=function(){return this._credentials_source},e.prototype.configure=function(t){if(!t)return this._config||{};this._config=Object.assign({},this._config,t);var r=this._config.refreshHandlers;return r&&(this._refreshHandlers=iu(iu({},this._refreshHandlers),r)),this._storage=this._config.storage,this._storage||(this._storage=new Uh().getStorage()),this._storageSync=Promise.resolve(),typeof this._storage.sync=="function"&&(this._storageSync=this._storage.sync()),this._config},e.prototype.get=function(){return Ee.debug("getting credentials"),this._pickupCredentials()},e.prototype._getCognitoIdentityIdStorageKey=function(t){return""+JC+t},e.prototype._pickupCredentials=function(){return Ee.debug("picking up credentials"),!this._gettingCredPromise||!this._gettingCredPromise.isPending()?(Ee.debug("getting new cred promise"),this._gettingCredPromise=e0(this._keepAlive())):Ee.debug("getting old cred promise"),this._gettingCredPromise},e.prototype._keepAlive=function(){return Ct(this,void 0,void 0,function(){var t,r,n,i,o,s,a,c;return Ot(this,function(u){switch(u.label){case 0:if(Ee.debug("checking if credentials exists and not expired"),t=this._credentials,t&&!this._isExpired(t)&&!this._isPastTTL())return Ee.debug("credentials not changed and not expired, directly return"),[2,Promise.resolve(t)];if(Ee.debug("need to get a new credential or refresh the existing one"),r=this.Auth,n=r===void 0?Fr.Auth:r,!n||typeof n.currentUserCredentials!="function")return[2,Promise.reject("No Auth module registered in Amplify")];if(!(!this._isExpired(t)&&this._isPastTTL()))return[3,6];Ee.debug("ttl has passed but token is not yet expired"),u.label=1;case 1:return u.trys.push([1,5,,6]),[4,n.currentUserPoolUser()];case 2:return i=u.sent(),[4,n.currentSession()];case 3:return o=u.sent(),s=o.refreshToken,a=new Promise(function(l,f){i.refreshSession(s,function(h,v){return h?f(h):l(v)})}),[4,a];case 4:return u.sent(),[3,6];case 5:return c=u.sent(),Ee.debug("Error attempting to refreshing the session",c),[3,6];case 6:return[2,n.currentUserCredentials()]}})})},e.prototype.refreshFederatedToken=function(t){Ee.debug("Getting federated credentials");var r=t.provider,n=t.user,i=t.token,o=t.identity_id,s=t.expires_at;s=new Date(s).getFullYear()===1970?s*1e3:s;var a=this;return Ee.debug("checking if federated jwt token expired"),s>new Date().getTime()?(Ee.debug("token not expired"),this._setCredentialsFromFederation({provider:r,token:i,user:n,identity_id:o,expires_at:s})):a._refreshHandlers[r]&&typeof a._refreshHandlers[r]=="function"?(Ee.debug("getting refreshed jwt token from federation provider"),this._providerRefreshWithRetry({refreshHandler:a._refreshHandlers[r],provider:r,user:n})):(Ee.debug("no refresh handler for provider:",r),this.clear(),Promise.reject("no refresh handler for provider"))},e.prototype._providerRefreshWithRetry=function(t){var r=this,n=t.refreshHandler,i=t.provider,o=t.user,s=10*1e3;return ju(n,[],s).then(function(a){return Ee.debug("refresh federated token sucessfully",a),r._setCredentialsFromFederation({provider:i,token:a.token,user:o,identity_id:a.identity_id,expires_at:a.expires_at})}).catch(function(a){var c=typeof a=="string"&&a.toLowerCase().lastIndexOf("network error",a.length)===0;return c||r.clear(),Ee.debug("refresh federated token failed",a),Promise.reject("refreshing federation token failed: "+a)})},e.prototype._isExpired=function(t){if(!t)return Ee.debug("no credentials for expiration check"),!0;Ee.debug("are these credentials expired?",t);var r=Date.now(),n=t.expiration;return n.getTime()<=r},e.prototype._isPastTTL=function(){return this._nextCredentialsRefresh<=Date.now()},e.prototype._setCredentialsForGuest=function(){return Ct(this,void 0,void 0,function(){var t,r,n,i,o,s,a,c,u,l,f=this;return Ot(this,function(h){switch(h.label){case 0:return Ee.debug("setting credentials for guest"),t=this._config,r=t.identityPoolId,n=t.region,i=t.mandatorySignIn,i?[2,Promise.reject("cannot get guest credentials when mandatory signin enabled")]:r?n?(s=this,[4,this._getGuestIdentityId()]):(Ee.debug("region is not configured for getting the credentials"),[2,Promise.reject("region is not configured for getting the credentials")]):(Ee.debug("No Cognito Identity pool provided for unauthenticated access"),[2,Promise.reject("No Cognito Identity pool provided for unauthenticated access")]);case 1:return o=s._identityId=h.sent(),a=new Rc({region:n,customUserAgent:bc()}),c=void 0,o?(u={identityId:o,client:a},c=qo(u)()):(l=function(){return Ct(f,void 0,void 0,function(){var v,g,w;return Ot(this,function(y){switch(y.label){case 0:return[4,a.send(new es({IdentityPoolId:r}))];case 1:return v=y.sent().IdentityId,this._identityId=v,g={client:a,identityId:v},w=qo(g),[2,w()]}})})},c=l().catch(function(v){return Ct(f,void 0,void 0,function(){return Ot(this,function(g){throw v})})})),[2,this._loadCredentials(c,"guest",!1,null).then(function(v){return v}).catch(function(v){return Ct(f,void 0,void 0,function(){var g,w=this;return Ot(this,function(y){switch(y.label){case 0:return v.name==="ResourceNotFoundException"&&v.message==="Identity '"+o+"' not found."?(Ee.debug("Failed to load guest credentials"),[4,this._removeGuestIdentityId()]):[3,2];case 1:return y.sent(),g=function(){return Ct(w,void 0,void 0,function(){var b,_,T;return Ot(this,function(A){switch(A.label){case 0:return[4,a.send(new es({IdentityPoolId:r}))];case 1:return b=A.sent().IdentityId,this._identityId=b,_={client:a,identityId:b},T=qo(_),[2,T()]}})})},c=g().catch(function(b){return Ct(w,void 0,void 0,function(){return Ot(this,function(_){throw b})})}),[2,this._loadCredentials(c,"guest",!1,null)];case 2:return[2,v]}})})})]}})})},e.prototype._setCredentialsFromFederation=function(t){var r=t.provider,n=t.token,i=t.identity_id,o={google:"accounts.google.com",facebook:"graph.facebook.com",amazon:"www.amazon.com",developer:"cognito-identity.amazonaws.com"},s=o[r]||r;if(!s)return Promise.reject("You must specify a federated provider");var a={};a[s]=n;var c=this._config,u=c.identityPoolId,l=c.region;if(!u)return Ee.debug("No Cognito Federated Identity pool provided"),Promise.reject("No Cognito Federated Identity pool provided");if(!l)return Ee.debug("region is not configured for getting the credentials"),Promise.reject("region is not configured for getting the credentials");var f=new Rc({region:l,customUserAgent:bc()}),h=void 0;if(i){var v={identityId:i,logins:a,client:f};h=qo(v)()}else{var v={logins:a,identityPoolId:u,client:f};h=WC(v)()}return this._loadCredentials(h,"federated",!0,t)},e.prototype._setCredentialsFromSession=function(t){var r=this;Ee.debug("set credentials from session");var n=t.getIdToken().getJwtToken(),i=this._config,o=i.region,s=i.userPoolId,a=i.identityPoolId;if(!a)return Ee.debug("No Cognito Federated Identity pool provided"),Promise.reject("No Cognito Federated Identity pool provided");if(!o)return Ee.debug("region is not configured for getting the credentials"),Promise.reject("region is not configured for getting the credentials");var c="cognito-idp."+o+".amazonaws.com/"+s,u={};u[c]=n;var l=new Rc({region:o,customUserAgent:bc()}),f=function(){return Ct(r,void 0,void 0,function(){var v,g,w,y,b,_,T,A,x,R;return Ot(this,function(k){switch(k.label){case 0:return[4,this._getGuestIdentityId()];case 1:return v=k.sent(),v?[3,3]:[4,l.send(new es({IdentityPoolId:a,Logins:u}))];case 2:w=k.sent().IdentityId,g=w,k.label=3;case 3:return[4,l.send(new Zl({IdentityId:v||g,Logins:u}))];case 4:return y=k.sent(),b=y.Credentials,_=b.AccessKeyId,T=b.Expiration,A=b.SecretKey,x=b.SessionToken,R=y.IdentityId,this._identityId=R,v?(Ee.debug("The guest identity "+v+" has been successfully linked to the logins"),v===R&&Ee.debug("The guest identity "+v+" has become the primary identity"),[4,this._removeGuestIdentityId()]):[3,6];case 5:k.sent(),k.label=6;case 6:return[2,{accessKeyId:_,secretAccessKey:A,sessionToken:x,expiration:T,identityId:R}]}})})},h=f().catch(function(v){return Ct(r,void 0,void 0,function(){return Ot(this,function(g){throw v})})});return this._loadCredentials(h,"userPool",!0,null)},e.prototype._loadCredentials=function(t,r,n,i){var o=this,s=this;return new Promise(function(a,c){t.then(function(u){return Ct(o,void 0,void 0,function(){var l,f,h,v,g;return Ot(this,function(w){switch(w.label){case 0:if(Ee.debug("Load credentials successfully",u),this._identityId&&!u.identityId&&(u.identityId=this._identityId),s._credentials=u,s._credentials.authenticated=n,s._credentials_source=r,s._nextCredentialsRefresh=new Date().getTime()+YC,r==="federated"){l=Object.assign({id:this._credentials.identityId},i.user),f=i.provider,h=i.token,v=i.expires_at,g=i.identity_id;try{this._storage.setItem("aws-amplify-federatedInfo",JSON.stringify({provider:f,token:h,user:l,expires_at:v,identity_id:g}))}catch(y){Ee.debug("Failed to put federated info into auth storage",y)}}return r!=="guest"?[3,2]:[4,this._setGuestIdentityId(u.identityId)];case 1:w.sent(),w.label=2;case 2:return a(s._credentials),[2]}})})}).catch(function(u){if(u){Ee.debug("Failed to load credentials",t),Ee.debug("Error loading credentials",u),c(u);return}})})},e.prototype.set=function(t,r){return r==="session"?this._setCredentialsFromSession(t):r==="federation"?this._setCredentialsFromFederation(t):r==="guest"?this._setCredentialsForGuest():(Ee.debug("no source specified for setting credentials"),Promise.reject("invalid source"))},e.prototype.clear=function(){return Ct(this,void 0,void 0,function(){return Ot(this,function(t){return this._credentials=null,this._credentials_source=null,Ee.debug("removing aws-amplify-federatedInfo from storage"),this._storage.removeItem("aws-amplify-federatedInfo"),[2]})})},e.prototype._getGuestIdentityId=function(){return Ct(this,void 0,void 0,function(){var t,r;return Ot(this,function(n){switch(n.label){case 0:t=this._config.identityPoolId,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this._storageSync];case 2:return n.sent(),[2,this._storage.getItem(this._getCognitoIdentityIdStorageKey(t))];case 3:return r=n.sent(),Ee.debug("Failed to get the cached guest identityId",r),[3,4];case 4:return[2]}})})},e.prototype._setGuestIdentityId=function(t){return Ct(this,void 0,void 0,function(){var r,n;return Ot(this,function(i){switch(i.label){case 0:r=this._config.identityPoolId,i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this._storageSync];case 2:return i.sent(),this._storage.setItem(this._getCognitoIdentityIdStorageKey(r),t),[3,4];case 3:return n=i.sent(),Ee.debug("Failed to cache guest identityId",n),[3,4];case 4:return[2]}})})},e.prototype._removeGuestIdentityId=function(){return Ct(this,void 0,void 0,function(){var t;return Ot(this,function(r){return t=this._config.identityPoolId,Ee.debug("removing "+this._getCognitoIdentityIdStorageKey(t)+" from storage"),this._storage.removeItem(this._getCognitoIdentityIdStorageKey(t)),[2]})})},e.prototype.shear=function(t){return{accessKeyId:t.accessKeyId,sessionToken:t.sessionToken,secretAccessKey:t.secretAccessKey,identityId:t.identityId,authenticated:t.authenticated}},e}(),tn=new QC(null);Fr.register(tn);/*!
 * cookie
 * Copyright(c) 2012-2014 Roman Shtylman
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */var Z0=tO,Wv=rO,XC=decodeURIComponent,ZC=encodeURIComponent,eO=/; */,Qs=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function tO(e,t){if(typeof e!="string")throw new TypeError("argument str must be a string");for(var r={},n=t||{},i=e.split(eO),o=n.decode||XC,s=0;s<i.length;s++){var a=i[s],c=a.indexOf("=");if(!(c<0)){var u=a.substr(0,c).trim(),l=a.substr(++c,a.length).trim();l[0]=='"'&&(l=l.slice(1,-1)),r[u]==null&&(r[u]=nO(l,o))}}return r}function rO(e,t,r){var n=r||{},i=n.encode||ZC;if(typeof i!="function")throw new TypeError("option encode is invalid");if(!Qs.test(e))throw new TypeError("argument name is invalid");var o=i(t);if(o&&!Qs.test(o))throw new TypeError("argument val is invalid");var s=e+"="+o;if(n.maxAge!=null){var a=n.maxAge-0;if(isNaN(a)||!isFinite(a))throw new TypeError("option maxAge is invalid");s+="; Max-Age="+Math.floor(a)}if(n.domain){if(!Qs.test(n.domain))throw new TypeError("option domain is invalid");s+="; Domain="+n.domain}if(n.path){if(!Qs.test(n.path))throw new TypeError("option path is invalid");s+="; Path="+n.path}if(n.expires){if(typeof n.expires.toUTCString!="function")throw new TypeError("option expires is invalid");s+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(s+="; HttpOnly"),n.secure&&(s+="; Secure"),n.sameSite){var c=typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite;switch(c){case!0:s+="; SameSite=Strict";break;case"lax":s+="; SameSite=Lax";break;case"strict":s+="; SameSite=Strict";break;case"none":s+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return s}function nO(e,t){try{return t(e)}catch{return e}}function iO(){return typeof document=="object"&&typeof document.cookie=="string"}function oO(e,t){return typeof e=="string"?Z0(e,t):typeof e=="object"&&e!==null?e:{}}function sO(e,t){return typeof t=="undefined"&&(t=!e||e[0]!=="{"&&e[0]!=="["&&e[0]!=='"'),!t}function Gv(e,t){t===void 0&&(t={});var r=aO(e);if(sO(r,t.doNotParse))try{return JSON.parse(r)}catch{}return e}function aO(e){return e&&e[0]==="j"&&e[1]===":"?e.substr(2):e}var ai=globalThis&&globalThis.__assign||function(){return ai=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},ai.apply(this,arguments)},uO=function(){function e(t,r){var n=this;this.changeListeners=[],this.HAS_DOCUMENT_COOKIE=!1,this.cookies=oO(t,r),new Promise(function(){n.HAS_DOCUMENT_COOKIE=iO()}).catch(function(){})}return e.prototype._updateBrowserValues=function(t){!this.HAS_DOCUMENT_COOKIE||(this.cookies=Z0(document.cookie,t))},e.prototype._emitChange=function(t){for(var r=0;r<this.changeListeners.length;++r)this.changeListeners[r](t)},e.prototype.get=function(t,r,n){return r===void 0&&(r={}),this._updateBrowserValues(n),Gv(this.cookies[t],r)},e.prototype.getAll=function(t,r){t===void 0&&(t={}),this._updateBrowserValues(r);var n={};for(var i in this.cookies)n[i]=Gv(this.cookies[i],t);return n},e.prototype.set=function(t,r,n){var i;typeof r=="object"&&(r=JSON.stringify(r)),this.cookies=ai(ai({},this.cookies),(i={},i[t]=r,i)),this.HAS_DOCUMENT_COOKIE&&(document.cookie=Wv(t,r,n)),this._emitChange({name:t,value:r,options:n})},e.prototype.remove=function(t,r){var n=r=ai(ai({},r),{expires:new Date(1970,1,1,0,0,1),maxAge:0});this.cookies=ai({},this.cookies),delete this.cookies[t],this.HAS_DOCUMENT_COOKIE&&(document.cookie=Wv(t,"",n)),this._emitChange({name:t,value:void 0,options:r})},e.prototype.addChangeListener=function(t){this.changeListeners.push(t)},e.prototype.removeChangeListener=function(t){var r=this.changeListeners.indexOf(t);r>=0&&this.changeListeners.splice(r,1)},e}(),kc=uO,Yv=Lr().isBrowser,cO=function(){function e(t){t===void 0&&(t={}),this.cookies=new kc,this.store=Yv?window.localStorage:Object.create(null),this.cookies=t.req?new kc(t.req.headers.cookie):new kc,Object.assign(this.store,this.cookies.getAll())}return Object.defineProperty(e.prototype,"length",{get:function(){return Object.entries(this.store).length},enumerable:!0,configurable:!0}),e.prototype.clear=function(){var t=this;Array.from(new Array(this.length)).map(function(r,n){return t.key(n)}).forEach(function(r){return t.removeItem(r)})},e.prototype.getItem=function(t){return this.getLocalItem(t)},e.prototype.getLocalItem=function(t){return Object.prototype.hasOwnProperty.call(this.store,t)?this.store[t]:null},e.prototype.getUniversalItem=function(t){return this.cookies.get(t)},e.prototype.key=function(t){return Object.keys(this.store)[t]},e.prototype.removeItem=function(t){this.removeLocalItem(t),this.removeUniversalItem(t)},e.prototype.removeLocalItem=function(t){delete this.store[t]},e.prototype.removeUniversalItem=function(t){this.cookies.remove(t,{path:"/"})},e.prototype.setItem=function(t,r){this.setLocalItem(t,r);var n=t.split(".").pop();switch(n){case"LastAuthUser":case"accessToken":case"refreshToken":case"idToken":Yv?this.setUniversalItem(t,r):this.setLocalItem(t,r)}},e.prototype.setLocalItem=function(t,r){this.store[t]=r},e.prototype.setUniversalItem=function(t,r){this.cookies.set(t,r,{path:"/",sameSite:!0,secure:window.location.hostname!=="localhost"})},e}(),eb=typeof Symbol!="undefined"&&typeof Symbol.for=="function",lO=eb?Symbol.for("INTERNAL_AWS_APPSYNC_PUBSUB_PROVIDER"):"@@INTERNAL_AWS_APPSYNC_PUBSUB_PROVIDER",tb=eb?Symbol.for("INTERNAL_AWS_APPSYNC_REALTIME_PUBSUB_PROVIDER"):"@@INTERNAL_AWS_APPSYNC_REALTIME_PUBSUB_PROVIDER",fO="x-amz-user-agent",rb={userAgent:Pr.userAgent};/*!
 * Copyright 2016 Amazon.com,
 * Inc. or its affiliates. All Rights Reserved.
 *
 * Licensed under the Amazon Software License (the "License").
 * You may not use this file except in compliance with the
 * License. A copy of the License is located at
 *
 *     http://aws.amazon.com/asl/
 *
 * or in the "license" file accompanying this file. This file is
 * distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR
 * CONDITIONS OF ANY KIND, express or implied. See the License
 * for the specific language governing permissions and
 * limitations under the License.
 */var hO=function(){function e(r){var n=r||{},i=n.ValidationData,o=n.Username,s=n.Password,a=n.AuthParameters,c=n.ClientMetadata;this.validationData=i||{},this.authParameters=a||{},this.clientMetadata=c||{},this.username=o,this.password=s}var t=e.prototype;return t.getUsername=function(){return this.username},t.getPassword=function(){return this.password},t.getValidationData=function(){return this.validationData},t.getAuthParameters=function(){return this.authParameters},t.getClientMetadata=function(){return this.clientMetadata},e}(),ke={},Ms={};Ms.byteLength=vO;Ms.toByteArray=mO;Ms.fromByteArray=wO;var Mr=[],ar=[],dO=typeof Uint8Array!="undefined"?Uint8Array:Array,Dc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var Oi=0,pO=Dc.length;Oi<pO;++Oi)Mr[Oi]=Dc[Oi],ar[Dc.charCodeAt(Oi)]=Oi;ar["-".charCodeAt(0)]=62;ar["_".charCodeAt(0)]=63;function nb(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");r===-1&&(r=t);var n=r===t?0:4-r%4;return[r,n]}function vO(e){var t=nb(e),r=t[0],n=t[1];return(r+n)*3/4-n}function gO(e,t,r){return(t+r)*3/4-r}function mO(e){var t,r=nb(e),n=r[0],i=r[1],o=new dO(gO(e,n,i)),s=0,a=i>0?n-4:n,c;for(c=0;c<a;c+=4)t=ar[e.charCodeAt(c)]<<18|ar[e.charCodeAt(c+1)]<<12|ar[e.charCodeAt(c+2)]<<6|ar[e.charCodeAt(c+3)],o[s++]=t>>16&255,o[s++]=t>>8&255,o[s++]=t&255;return i===2&&(t=ar[e.charCodeAt(c)]<<2|ar[e.charCodeAt(c+1)]>>4,o[s++]=t&255),i===1&&(t=ar[e.charCodeAt(c)]<<10|ar[e.charCodeAt(c+1)]<<4|ar[e.charCodeAt(c+2)]>>2,o[s++]=t>>8&255,o[s++]=t&255),o}function yO(e){return Mr[e>>18&63]+Mr[e>>12&63]+Mr[e>>6&63]+Mr[e&63]}function bO(e,t,r){for(var n,i=[],o=t;o<r;o+=3)n=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(e[o+2]&255),i.push(yO(n));return i.join("")}function wO(e){for(var t,r=e.length,n=r%3,i=[],o=16383,s=0,a=r-n;s<a;s+=o)i.push(bO(e,s,s+o>a?a:s+o));return n===1?(t=e[r-1],i.push(Mr[t>>2]+Mr[t<<4&63]+"==")):n===2&&(t=(e[r-2]<<8)+e[r-1],i.push(Mr[t>>10]+Mr[t>>4&63]+Mr[t<<2&63]+"=")),i.join("")}var ec={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */ec.read=function(e,t,r,n,i){var o,s,a=i*8-n-1,c=(1<<a)-1,u=c>>1,l=-7,f=r?i-1:0,h=r?-1:1,v=e[t+f];for(f+=h,o=v&(1<<-l)-1,v>>=-l,l+=a;l>0;o=o*256+e[t+f],f+=h,l-=8);for(s=o&(1<<-l)-1,o>>=-l,l+=n;l>0;s=s*256+e[t+f],f+=h,l-=8);if(o===0)o=1-u;else{if(o===c)return s?NaN:(v?-1:1)*(1/0);s=s+Math.pow(2,n),o=o-u}return(v?-1:1)*s*Math.pow(2,o-n)};ec.write=function(e,t,r,n,i,o){var s,a,c,u=o*8-i-1,l=(1<<u)-1,f=l>>1,h=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,v=n?0:o-1,g=n?1:-1,w=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=l):(s=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-s))<1&&(s--,c*=2),s+f>=1?t+=h/c:t+=h*Math.pow(2,1-f),t*c>=2&&(s++,c/=2),s+f>=l?(a=0,s=l):s+f>=1?(a=(t*c-1)*Math.pow(2,i),s=s+f):(a=t*Math.pow(2,f-1)*Math.pow(2,i),s=0));i>=8;e[r+v]=a&255,v+=g,a/=256,i-=8);for(s=s<<i|a,u+=i;u>0;e[r+v]=s&255,v+=g,s/=256,u-=8);e[r+v-g]|=w*128};var _O={}.toString,SO=Array.isArray||function(e){return _O.call(e)=="[object Array]"};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */(function(e){var t=Ms,r=ec,n=SO;e.Buffer=a,e.SlowBuffer=b,e.INSPECT_MAX_BYTES=50,a.TYPED_ARRAY_SUPPORT=Ge.TYPED_ARRAY_SUPPORT!==void 0?Ge.TYPED_ARRAY_SUPPORT:i(),e.kMaxLength=o();function i(){try{var d=new Uint8Array(1);return d.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},d.foo()===42&&typeof d.subarray=="function"&&d.subarray(1,1).byteLength===0}catch{return!1}}function o(){return a.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(d,p){if(o()<p)throw new RangeError("Invalid typed array length");return a.TYPED_ARRAY_SUPPORT?(d=new Uint8Array(p),d.__proto__=a.prototype):(d===null&&(d=new a(p)),d.length=p),d}function a(d,p,m){if(!a.TYPED_ARRAY_SUPPORT&&!(this instanceof a))return new a(d,p,m);if(typeof d=="number"){if(typeof p=="string")throw new Error("If encoding is specified then the first argument must be a string");return f(this,d)}return c(this,d,p,m)}a.poolSize=8192,a._augment=function(d){return d.__proto__=a.prototype,d};function c(d,p,m,E){if(typeof p=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer!="undefined"&&p instanceof ArrayBuffer?g(d,p,m,E):typeof p=="string"?h(d,p,m):w(d,p)}a.from=function(d,p,m){return c(null,d,p,m)},a.TYPED_ARRAY_SUPPORT&&(a.prototype.__proto__=Uint8Array.prototype,a.__proto__=Uint8Array,typeof Symbol!="undefined"&&Symbol.species&&a[Symbol.species]===a&&Object.defineProperty(a,Symbol.species,{value:null,configurable:!0}));function u(d){if(typeof d!="number")throw new TypeError('"size" argument must be a number');if(d<0)throw new RangeError('"size" argument must not be negative')}function l(d,p,m,E){return u(p),p<=0?s(d,p):m!==void 0?typeof E=="string"?s(d,p).fill(m,E):s(d,p).fill(m):s(d,p)}a.alloc=function(d,p,m){return l(null,d,p,m)};function f(d,p){if(u(p),d=s(d,p<0?0:y(p)|0),!a.TYPED_ARRAY_SUPPORT)for(var m=0;m<p;++m)d[m]=0;return d}a.allocUnsafe=function(d){return f(null,d)},a.allocUnsafeSlow=function(d){return f(null,d)};function h(d,p,m){if((typeof m!="string"||m==="")&&(m="utf8"),!a.isEncoding(m))throw new TypeError('"encoding" must be a valid string encoding');var E=_(p,m)|0;d=s(d,E);var C=d.write(p,m);return C!==E&&(d=d.slice(0,C)),d}function v(d,p){var m=p.length<0?0:y(p.length)|0;d=s(d,m);for(var E=0;E<m;E+=1)d[E]=p[E]&255;return d}function g(d,p,m,E){if(p.byteLength,m<0||p.byteLength<m)throw new RangeError("'offset' is out of bounds");if(p.byteLength<m+(E||0))throw new RangeError("'length' is out of bounds");return m===void 0&&E===void 0?p=new Uint8Array(p):E===void 0?p=new Uint8Array(p,m):p=new Uint8Array(p,m,E),a.TYPED_ARRAY_SUPPORT?(d=p,d.__proto__=a.prototype):d=v(d,p),d}function w(d,p){if(a.isBuffer(p)){var m=y(p.length)|0;return d=s(d,m),d.length===0||p.copy(d,0,0,m),d}if(p){if(typeof ArrayBuffer!="undefined"&&p.buffer instanceof ArrayBuffer||"length"in p)return typeof p.length!="number"||S(p.length)?s(d,0):v(d,p);if(p.type==="Buffer"&&n(p.data))return v(d,p.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function y(d){if(d>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return d|0}function b(d){return+d!=d&&(d=0),a.alloc(+d)}a.isBuffer=function(p){return!!(p!=null&&p._isBuffer)},a.compare=function(p,m){if(!a.isBuffer(p)||!a.isBuffer(m))throw new TypeError("Arguments must be Buffers");if(p===m)return 0;for(var E=p.length,C=m.length,H=0,V=Math.min(E,C);H<V;++H)if(p[H]!==m[H]){E=p[H],C=m[H];break}return E<C?-1:C<E?1:0},a.isEncoding=function(p){switch(String(p).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(p,m){if(!n(p))throw new TypeError('"list" argument must be an Array of Buffers');if(p.length===0)return a.alloc(0);var E;if(m===void 0)for(m=0,E=0;E<p.length;++E)m+=p[E].length;var C=a.allocUnsafe(m),H=0;for(E=0;E<p.length;++E){var V=p[E];if(!a.isBuffer(V))throw new TypeError('"list" argument must be an Array of Buffers');V.copy(C,H),H+=V.length}return C};function _(d,p){if(a.isBuffer(d))return d.length;if(typeof ArrayBuffer!="undefined"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(d)||d instanceof ArrayBuffer))return d.byteLength;typeof d!="string"&&(d=""+d);var m=d.length;if(m===0)return 0;for(var E=!1;;)switch(p){case"ascii":case"latin1":case"binary":return m;case"utf8":case"utf-8":case void 0:return le(d).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return m*2;case"hex":return m>>>1;case"base64":return Q(d).length;default:if(E)return le(d).length;p=(""+p).toLowerCase(),E=!0}}a.byteLength=_;function T(d,p,m){var E=!1;if((p===void 0||p<0)&&(p=0),p>this.length||((m===void 0||m>this.length)&&(m=this.length),m<=0)||(m>>>=0,p>>>=0,m<=p))return"";for(d||(d="utf8");;)switch(d){case"hex":return q(this,p,m);case"utf8":case"utf-8":return P(this,p,m);case"ascii":return K(this,p,m);case"latin1":case"binary":return G(this,p,m);case"base64":return I(this,p,m);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return z(this,p,m);default:if(E)throw new TypeError("Unknown encoding: "+d);d=(d+"").toLowerCase(),E=!0}}a.prototype._isBuffer=!0;function A(d,p,m){var E=d[p];d[p]=d[m],d[m]=E}a.prototype.swap16=function(){var p=this.length;if(p%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var m=0;m<p;m+=2)A(this,m,m+1);return this},a.prototype.swap32=function(){var p=this.length;if(p%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var m=0;m<p;m+=4)A(this,m,m+3),A(this,m+1,m+2);return this},a.prototype.swap64=function(){var p=this.length;if(p%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var m=0;m<p;m+=8)A(this,m,m+7),A(this,m+1,m+6),A(this,m+2,m+5),A(this,m+3,m+4);return this},a.prototype.toString=function(){var p=this.length|0;return p===0?"":arguments.length===0?P(this,0,p):T.apply(this,arguments)},a.prototype.equals=function(p){if(!a.isBuffer(p))throw new TypeError("Argument must be a Buffer");return this===p?!0:a.compare(this,p)===0},a.prototype.inspect=function(){var p="",m=e.INSPECT_MAX_BYTES;return this.length>0&&(p=this.toString("hex",0,m).match(/.{2}/g).join(" "),this.length>m&&(p+=" ... ")),"<Buffer "+p+">"},a.prototype.compare=function(p,m,E,C,H){if(!a.isBuffer(p))throw new TypeError("Argument must be a Buffer");if(m===void 0&&(m=0),E===void 0&&(E=p?p.length:0),C===void 0&&(C=0),H===void 0&&(H=this.length),m<0||E>p.length||C<0||H>this.length)throw new RangeError("out of range index");if(C>=H&&m>=E)return 0;if(C>=H)return-1;if(m>=E)return 1;if(m>>>=0,E>>>=0,C>>>=0,H>>>=0,this===p)return 0;for(var V=H-C,ie=E-m,ce=Math.min(V,ie),fe=this.slice(C,H),we=p.slice(m,E),me=0;me<ce;++me)if(fe[me]!==we[me]){V=fe[me],ie=we[me];break}return V<ie?-1:ie<V?1:0};function x(d,p,m,E,C){if(d.length===0)return-1;if(typeof m=="string"?(E=m,m=0):m>2147483647?m=2147483647:m<-2147483648&&(m=-2147483648),m=+m,isNaN(m)&&(m=C?0:d.length-1),m<0&&(m=d.length+m),m>=d.length){if(C)return-1;m=d.length-1}else if(m<0)if(C)m=0;else return-1;if(typeof p=="string"&&(p=a.from(p,E)),a.isBuffer(p))return p.length===0?-1:R(d,p,m,E,C);if(typeof p=="number")return p=p&255,a.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?C?Uint8Array.prototype.indexOf.call(d,p,m):Uint8Array.prototype.lastIndexOf.call(d,p,m):R(d,[p],m,E,C);throw new TypeError("val must be string, number or Buffer")}function R(d,p,m,E,C){var H=1,V=d.length,ie=p.length;if(E!==void 0&&(E=String(E).toLowerCase(),E==="ucs2"||E==="ucs-2"||E==="utf16le"||E==="utf-16le")){if(d.length<2||p.length<2)return-1;H=2,V/=2,ie/=2,m/=2}function ce(xt,Br){return H===1?xt[Br]:xt.readUInt16BE(Br*H)}var fe;if(C){var we=-1;for(fe=m;fe<V;fe++)if(ce(d,fe)===ce(p,we===-1?0:fe-we)){if(we===-1&&(we=fe),fe-we+1===ie)return we*H}else we!==-1&&(fe-=fe-we),we=-1}else for(m+ie>V&&(m=V-ie),fe=m;fe>=0;fe--){for(var me=!0,Ie=0;Ie<ie;Ie++)if(ce(d,fe+Ie)!==ce(p,Ie)){me=!1;break}if(me)return fe}return-1}a.prototype.includes=function(p,m,E){return this.indexOf(p,m,E)!==-1},a.prototype.indexOf=function(p,m,E){return x(this,p,m,E,!0)},a.prototype.lastIndexOf=function(p,m,E){return x(this,p,m,E,!1)};function k(d,p,m,E){m=Number(m)||0;var C=d.length-m;E?(E=Number(E),E>C&&(E=C)):E=C;var H=p.length;if(H%2!==0)throw new TypeError("Invalid hex string");E>H/2&&(E=H/2);for(var V=0;V<E;++V){var ie=parseInt(p.substr(V*2,2),16);if(isNaN(ie))return V;d[m+V]=ie}return V}function U(d,p,m,E){return O(le(p,d.length-m),d,m,E)}function B(d,p,m,E){return O(D(p),d,m,E)}function N(d,p,m,E){return B(d,p,m,E)}function F(d,p,m,E){return O(Q(p),d,m,E)}function L(d,p,m,E){return O($(p,d.length-m),d,m,E)}a.prototype.write=function(p,m,E,C){if(m===void 0)C="utf8",E=this.length,m=0;else if(E===void 0&&typeof m=="string")C=m,E=this.length,m=0;else if(isFinite(m))m=m|0,isFinite(E)?(E=E|0,C===void 0&&(C="utf8")):(C=E,E=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var H=this.length-m;if((E===void 0||E>H)&&(E=H),p.length>0&&(E<0||m<0)||m>this.length)throw new RangeError("Attempt to write outside buffer bounds");C||(C="utf8");for(var V=!1;;)switch(C){case"hex":return k(this,p,m,E);case"utf8":case"utf-8":return U(this,p,m,E);case"ascii":return B(this,p,m,E);case"latin1":case"binary":return N(this,p,m,E);case"base64":return F(this,p,m,E);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return L(this,p,m,E);default:if(V)throw new TypeError("Unknown encoding: "+C);C=(""+C).toLowerCase(),V=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function I(d,p,m){return p===0&&m===d.length?t.fromByteArray(d):t.fromByteArray(d.slice(p,m))}function P(d,p,m){m=Math.min(d.length,m);for(var E=[],C=p;C<m;){var H=d[C],V=null,ie=H>239?4:H>223?3:H>191?2:1;if(C+ie<=m){var ce,fe,we,me;switch(ie){case 1:H<128&&(V=H);break;case 2:ce=d[C+1],(ce&192)===128&&(me=(H&31)<<6|ce&63,me>127&&(V=me));break;case 3:ce=d[C+1],fe=d[C+2],(ce&192)===128&&(fe&192)===128&&(me=(H&15)<<12|(ce&63)<<6|fe&63,me>2047&&(me<55296||me>57343)&&(V=me));break;case 4:ce=d[C+1],fe=d[C+2],we=d[C+3],(ce&192)===128&&(fe&192)===128&&(we&192)===128&&(me=(H&15)<<18|(ce&63)<<12|(fe&63)<<6|we&63,me>65535&&me<1114112&&(V=me))}}V===null?(V=65533,ie=1):V>65535&&(V-=65536,E.push(V>>>10&1023|55296),V=56320|V&1023),E.push(V),C+=ie}return j(E)}var M=4096;function j(d){var p=d.length;if(p<=M)return String.fromCharCode.apply(String,d);for(var m="",E=0;E<p;)m+=String.fromCharCode.apply(String,d.slice(E,E+=M));return m}function K(d,p,m){var E="";m=Math.min(d.length,m);for(var C=p;C<m;++C)E+=String.fromCharCode(d[C]&127);return E}function G(d,p,m){var E="";m=Math.min(d.length,m);for(var C=p;C<m;++C)E+=String.fromCharCode(d[C]);return E}function q(d,p,m){var E=d.length;(!p||p<0)&&(p=0),(!m||m<0||m>E)&&(m=E);for(var C="",H=p;H<m;++H)C+=he(d[H]);return C}function z(d,p,m){for(var E=d.slice(p,m),C="",H=0;H<E.length;H+=2)C+=String.fromCharCode(E[H]+E[H+1]*256);return C}a.prototype.slice=function(p,m){var E=this.length;p=~~p,m=m===void 0?E:~~m,p<0?(p+=E,p<0&&(p=0)):p>E&&(p=E),m<0?(m+=E,m<0&&(m=0)):m>E&&(m=E),m<p&&(m=p);var C;if(a.TYPED_ARRAY_SUPPORT)C=this.subarray(p,m),C.__proto__=a.prototype;else{var H=m-p;C=new a(H,void 0);for(var V=0;V<H;++V)C[V]=this[V+p]}return C};function Y(d,p,m){if(d%1!==0||d<0)throw new RangeError("offset is not uint");if(d+p>m)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUIntLE=function(p,m,E){p=p|0,m=m|0,E||Y(p,m,this.length);for(var C=this[p],H=1,V=0;++V<m&&(H*=256);)C+=this[p+V]*H;return C},a.prototype.readUIntBE=function(p,m,E){p=p|0,m=m|0,E||Y(p,m,this.length);for(var C=this[p+--m],H=1;m>0&&(H*=256);)C+=this[p+--m]*H;return C},a.prototype.readUInt8=function(p,m){return m||Y(p,1,this.length),this[p]},a.prototype.readUInt16LE=function(p,m){return m||Y(p,2,this.length),this[p]|this[p+1]<<8},a.prototype.readUInt16BE=function(p,m){return m||Y(p,2,this.length),this[p]<<8|this[p+1]},a.prototype.readUInt32LE=function(p,m){return m||Y(p,4,this.length),(this[p]|this[p+1]<<8|this[p+2]<<16)+this[p+3]*16777216},a.prototype.readUInt32BE=function(p,m){return m||Y(p,4,this.length),this[p]*16777216+(this[p+1]<<16|this[p+2]<<8|this[p+3])},a.prototype.readIntLE=function(p,m,E){p=p|0,m=m|0,E||Y(p,m,this.length);for(var C=this[p],H=1,V=0;++V<m&&(H*=256);)C+=this[p+V]*H;return H*=128,C>=H&&(C-=Math.pow(2,8*m)),C},a.prototype.readIntBE=function(p,m,E){p=p|0,m=m|0,E||Y(p,m,this.length);for(var C=m,H=1,V=this[p+--C];C>0&&(H*=256);)V+=this[p+--C]*H;return H*=128,V>=H&&(V-=Math.pow(2,8*m)),V},a.prototype.readInt8=function(p,m){return m||Y(p,1,this.length),this[p]&128?(255-this[p]+1)*-1:this[p]},a.prototype.readInt16LE=function(p,m){m||Y(p,2,this.length);var E=this[p]|this[p+1]<<8;return E&32768?E|4294901760:E},a.prototype.readInt16BE=function(p,m){m||Y(p,2,this.length);var E=this[p+1]|this[p]<<8;return E&32768?E|4294901760:E},a.prototype.readInt32LE=function(p,m){return m||Y(p,4,this.length),this[p]|this[p+1]<<8|this[p+2]<<16|this[p+3]<<24},a.prototype.readInt32BE=function(p,m){return m||Y(p,4,this.length),this[p]<<24|this[p+1]<<16|this[p+2]<<8|this[p+3]},a.prototype.readFloatLE=function(p,m){return m||Y(p,4,this.length),r.read(this,p,!0,23,4)},a.prototype.readFloatBE=function(p,m){return m||Y(p,4,this.length),r.read(this,p,!1,23,4)},a.prototype.readDoubleLE=function(p,m){return m||Y(p,8,this.length),r.read(this,p,!0,52,8)},a.prototype.readDoubleBE=function(p,m){return m||Y(p,8,this.length),r.read(this,p,!1,52,8)};function X(d,p,m,E,C,H){if(!a.isBuffer(d))throw new TypeError('"buffer" argument must be a Buffer instance');if(p>C||p<H)throw new RangeError('"value" argument is out of bounds');if(m+E>d.length)throw new RangeError("Index out of range")}a.prototype.writeUIntLE=function(p,m,E,C){if(p=+p,m=m|0,E=E|0,!C){var H=Math.pow(2,8*E)-1;X(this,p,m,E,H,0)}var V=1,ie=0;for(this[m]=p&255;++ie<E&&(V*=256);)this[m+ie]=p/V&255;return m+E},a.prototype.writeUIntBE=function(p,m,E,C){if(p=+p,m=m|0,E=E|0,!C){var H=Math.pow(2,8*E)-1;X(this,p,m,E,H,0)}var V=E-1,ie=1;for(this[m+V]=p&255;--V>=0&&(ie*=256);)this[m+V]=p/ie&255;return m+E},a.prototype.writeUInt8=function(p,m,E){return p=+p,m=m|0,E||X(this,p,m,1,255,0),a.TYPED_ARRAY_SUPPORT||(p=Math.floor(p)),this[m]=p&255,m+1};function te(d,p,m,E){p<0&&(p=65535+p+1);for(var C=0,H=Math.min(d.length-m,2);C<H;++C)d[m+C]=(p&255<<8*(E?C:1-C))>>>(E?C:1-C)*8}a.prototype.writeUInt16LE=function(p,m,E){return p=+p,m=m|0,E||X(this,p,m,2,65535,0),a.TYPED_ARRAY_SUPPORT?(this[m]=p&255,this[m+1]=p>>>8):te(this,p,m,!0),m+2},a.prototype.writeUInt16BE=function(p,m,E){return p=+p,m=m|0,E||X(this,p,m,2,65535,0),a.TYPED_ARRAY_SUPPORT?(this[m]=p>>>8,this[m+1]=p&255):te(this,p,m,!1),m+2};function W(d,p,m,E){p<0&&(p=4294967295+p+1);for(var C=0,H=Math.min(d.length-m,4);C<H;++C)d[m+C]=p>>>(E?C:3-C)*8&255}a.prototype.writeUInt32LE=function(p,m,E){return p=+p,m=m|0,E||X(this,p,m,4,4294967295,0),a.TYPED_ARRAY_SUPPORT?(this[m+3]=p>>>24,this[m+2]=p>>>16,this[m+1]=p>>>8,this[m]=p&255):W(this,p,m,!0),m+4},a.prototype.writeUInt32BE=function(p,m,E){return p=+p,m=m|0,E||X(this,p,m,4,4294967295,0),a.TYPED_ARRAY_SUPPORT?(this[m]=p>>>24,this[m+1]=p>>>16,this[m+2]=p>>>8,this[m+3]=p&255):W(this,p,m,!1),m+4},a.prototype.writeIntLE=function(p,m,E,C){if(p=+p,m=m|0,!C){var H=Math.pow(2,8*E-1);X(this,p,m,E,H-1,-H)}var V=0,ie=1,ce=0;for(this[m]=p&255;++V<E&&(ie*=256);)p<0&&ce===0&&this[m+V-1]!==0&&(ce=1),this[m+V]=(p/ie>>0)-ce&255;return m+E},a.prototype.writeIntBE=function(p,m,E,C){if(p=+p,m=m|0,!C){var H=Math.pow(2,8*E-1);X(this,p,m,E,H-1,-H)}var V=E-1,ie=1,ce=0;for(this[m+V]=p&255;--V>=0&&(ie*=256);)p<0&&ce===0&&this[m+V+1]!==0&&(ce=1),this[m+V]=(p/ie>>0)-ce&255;return m+E},a.prototype.writeInt8=function(p,m,E){return p=+p,m=m|0,E||X(this,p,m,1,127,-128),a.TYPED_ARRAY_SUPPORT||(p=Math.floor(p)),p<0&&(p=255+p+1),this[m]=p&255,m+1},a.prototype.writeInt16LE=function(p,m,E){return p=+p,m=m|0,E||X(this,p,m,2,32767,-32768),a.TYPED_ARRAY_SUPPORT?(this[m]=p&255,this[m+1]=p>>>8):te(this,p,m,!0),m+2},a.prototype.writeInt16BE=function(p,m,E){return p=+p,m=m|0,E||X(this,p,m,2,32767,-32768),a.TYPED_ARRAY_SUPPORT?(this[m]=p>>>8,this[m+1]=p&255):te(this,p,m,!1),m+2},a.prototype.writeInt32LE=function(p,m,E){return p=+p,m=m|0,E||X(this,p,m,4,2147483647,-2147483648),a.TYPED_ARRAY_SUPPORT?(this[m]=p&255,this[m+1]=p>>>8,this[m+2]=p>>>16,this[m+3]=p>>>24):W(this,p,m,!0),m+4},a.prototype.writeInt32BE=function(p,m,E){return p=+p,m=m|0,E||X(this,p,m,4,2147483647,-2147483648),p<0&&(p=4294967295+p+1),a.TYPED_ARRAY_SUPPORT?(this[m]=p>>>24,this[m+1]=p>>>16,this[m+2]=p>>>8,this[m+3]=p&255):W(this,p,m,!1),m+4};function J(d,p,m,E,C,H){if(m+E>d.length)throw new RangeError("Index out of range");if(m<0)throw new RangeError("Index out of range")}function ee(d,p,m,E,C){return C||J(d,p,m,4),r.write(d,p,m,E,23,4),m+4}a.prototype.writeFloatLE=function(p,m,E){return ee(this,p,m,!0,E)},a.prototype.writeFloatBE=function(p,m,E){return ee(this,p,m,!1,E)};function re(d,p,m,E,C){return C||J(d,p,m,8),r.write(d,p,m,E,52,8),m+8}a.prototype.writeDoubleLE=function(p,m,E){return re(this,p,m,!0,E)},a.prototype.writeDoubleBE=function(p,m,E){return re(this,p,m,!1,E)},a.prototype.copy=function(p,m,E,C){if(E||(E=0),!C&&C!==0&&(C=this.length),m>=p.length&&(m=p.length),m||(m=0),C>0&&C<E&&(C=E),C===E||p.length===0||this.length===0)return 0;if(m<0)throw new RangeError("targetStart out of bounds");if(E<0||E>=this.length)throw new RangeError("sourceStart out of bounds");if(C<0)throw new RangeError("sourceEnd out of bounds");C>this.length&&(C=this.length),p.length-m<C-E&&(C=p.length-m+E);var H=C-E,V;if(this===p&&E<m&&m<C)for(V=H-1;V>=0;--V)p[V+m]=this[V+E];else if(H<1e3||!a.TYPED_ARRAY_SUPPORT)for(V=0;V<H;++V)p[V+m]=this[V+E];else Uint8Array.prototype.set.call(p,this.subarray(E,E+H),m);return H},a.prototype.fill=function(p,m,E,C){if(typeof p=="string"){if(typeof m=="string"?(C=m,m=0,E=this.length):typeof E=="string"&&(C=E,E=this.length),p.length===1){var H=p.charCodeAt(0);H<256&&(p=H)}if(C!==void 0&&typeof C!="string")throw new TypeError("encoding must be a string");if(typeof C=="string"&&!a.isEncoding(C))throw new TypeError("Unknown encoding: "+C)}else typeof p=="number"&&(p=p&255);if(m<0||this.length<m||this.length<E)throw new RangeError("Out of range index");if(E<=m)return this;m=m>>>0,E=E===void 0?this.length:E>>>0,p||(p=0);var V;if(typeof p=="number")for(V=m;V<E;++V)this[V]=p;else{var ie=a.isBuffer(p)?p:le(new a(p,C).toString()),ce=ie.length;for(V=0;V<E-m;++V)this[V+m]=ie[V%ce]}return this};var se=/[^+\/0-9A-Za-z-_]/g;function ve(d){if(d=ye(d).replace(se,""),d.length<2)return"";for(;d.length%4!==0;)d=d+"=";return d}function ye(d){return d.trim?d.trim():d.replace(/^\s+|\s+$/g,"")}function he(d){return d<16?"0"+d.toString(16):d.toString(16)}function le(d,p){p=p||1/0;for(var m,E=d.length,C=null,H=[],V=0;V<E;++V){if(m=d.charCodeAt(V),m>55295&&m<57344){if(!C){if(m>56319){(p-=3)>-1&&H.push(239,191,189);continue}else if(V+1===E){(p-=3)>-1&&H.push(239,191,189);continue}C=m;continue}if(m<56320){(p-=3)>-1&&H.push(239,191,189),C=m;continue}m=(C-55296<<10|m-56320)+65536}else C&&(p-=3)>-1&&H.push(239,191,189);if(C=null,m<128){if((p-=1)<0)break;H.push(m)}else if(m<2048){if((p-=2)<0)break;H.push(m>>6|192,m&63|128)}else if(m<65536){if((p-=3)<0)break;H.push(m>>12|224,m>>6&63|128,m&63|128)}else if(m<1114112){if((p-=4)<0)break;H.push(m>>18|240,m>>12&63|128,m>>6&63|128,m&63|128)}else throw new Error("Invalid code point")}return H}function D(d){for(var p=[],m=0;m<d.length;++m)p.push(d.charCodeAt(m)&255);return p}function $(d,p){for(var m,E,C,H=[],V=0;V<d.length&&!((p-=2)<0);++V)m=d.charCodeAt(V),E=m>>8,C=m%256,H.push(C),H.push(E);return H}function Q(d){return t.toByteArray(ve(d))}function O(d,p,m,E){for(var C=0;C<E&&!(C+m>=p.length||C>=d.length);++C)p[C+m]=d[C];return C}function S(d){return d!==d}})(ke);var Ai={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(Ge,function(){var r=r||function(n,i){var o;if(typeof window!="undefined"&&window.crypto&&(o=window.crypto),typeof self!="undefined"&&self.crypto&&(o=self.crypto),typeof globalThis!="undefined"&&globalThis.crypto&&(o=globalThis.crypto),!o&&typeof window!="undefined"&&window.msCrypto&&(o=window.msCrypto),!o&&typeof Ge!="undefined"&&Ge.crypto&&(o=Ge.crypto),!o&&typeof sE=="function")try{o=require("crypto")}catch{}var s=function(){if(o){if(typeof o.getRandomValues=="function")try{return o.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof o.randomBytes=="function")try{return o.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},a=Object.create||function(){function _(){}return function(T){var A;return _.prototype=T,A=new _,_.prototype=null,A}}(),c={},u=c.lib={},l=u.Base=function(){return{extend:function(_){var T=a(this);return _&&T.mixIn(_),(!T.hasOwnProperty("init")||this.init===T.init)&&(T.init=function(){T.$super.init.apply(this,arguments)}),T.init.prototype=T,T.$super=this,T},create:function(){var _=this.extend();return _.init.apply(_,arguments),_},init:function(){},mixIn:function(_){for(var T in _)_.hasOwnProperty(T)&&(this[T]=_[T]);_.hasOwnProperty("toString")&&(this.toString=_.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),f=u.WordArray=l.extend({init:function(_,T){_=this.words=_||[],T!=i?this.sigBytes=T:this.sigBytes=_.length*4},toString:function(_){return(_||v).stringify(this)},concat:function(_){var T=this.words,A=_.words,x=this.sigBytes,R=_.sigBytes;if(this.clamp(),x%4)for(var k=0;k<R;k++){var U=A[k>>>2]>>>24-k%4*8&255;T[x+k>>>2]|=U<<24-(x+k)%4*8}else for(var B=0;B<R;B+=4)T[x+B>>>2]=A[B>>>2];return this.sigBytes+=R,this},clamp:function(){var _=this.words,T=this.sigBytes;_[T>>>2]&=4294967295<<32-T%4*8,_.length=n.ceil(T/4)},clone:function(){var _=l.clone.call(this);return _.words=this.words.slice(0),_},random:function(_){for(var T=[],A=0;A<_;A+=4)T.push(s());return new f.init(T,_)}}),h=c.enc={},v=h.Hex={stringify:function(_){for(var T=_.words,A=_.sigBytes,x=[],R=0;R<A;R++){var k=T[R>>>2]>>>24-R%4*8&255;x.push((k>>>4).toString(16)),x.push((k&15).toString(16))}return x.join("")},parse:function(_){for(var T=_.length,A=[],x=0;x<T;x+=2)A[x>>>3]|=parseInt(_.substr(x,2),16)<<24-x%8*4;return new f.init(A,T/2)}},g=h.Latin1={stringify:function(_){for(var T=_.words,A=_.sigBytes,x=[],R=0;R<A;R++){var k=T[R>>>2]>>>24-R%4*8&255;x.push(String.fromCharCode(k))}return x.join("")},parse:function(_){for(var T=_.length,A=[],x=0;x<T;x++)A[x>>>2]|=(_.charCodeAt(x)&255)<<24-x%4*8;return new f.init(A,T)}},w=h.Utf8={stringify:function(_){try{return decodeURIComponent(escape(g.stringify(_)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(_){return g.parse(unescape(encodeURIComponent(_)))}},y=u.BufferedBlockAlgorithm=l.extend({reset:function(){this._data=new f.init,this._nDataBytes=0},_append:function(_){typeof _=="string"&&(_=w.parse(_)),this._data.concat(_),this._nDataBytes+=_.sigBytes},_process:function(_){var T,A=this._data,x=A.words,R=A.sigBytes,k=this.blockSize,U=k*4,B=R/U;_?B=n.ceil(B):B=n.max((B|0)-this._minBufferSize,0);var N=B*k,F=n.min(N*4,R);if(N){for(var L=0;L<N;L+=k)this._doProcessBlock(x,L);T=x.splice(0,N),A.sigBytes-=F}return new f.init(T,F)},clone:function(){var _=l.clone.call(this);return _._data=this._data.clone(),_},_minBufferSize:0});u.Hasher=y.extend({cfg:l.extend(),init:function(_){this.cfg=this.cfg.extend(_),this.reset()},reset:function(){y.reset.call(this),this._doReset()},update:function(_){return this._append(_),this._process(),this},finalize:function(_){_&&this._append(_);var T=this._doFinalize();return T},blockSize:16,_createHelper:function(_){return function(T,A){return new _.init(A).finalize(T)}},_createHmacHelper:function(_){return function(T,A){return new b.HMAC.init(_,A).finalize(T)}}});var b=c.algo={};return c}(Math);return r})})(Ai);var Nn=Ai.exports,EO={exports:{}};(function(e,t){(function(r,n){e.exports=n(Ai.exports)})(Ge,function(r){return function(){if(typeof ArrayBuffer=="function"){var n=r,i=n.lib,o=i.WordArray,s=o.init,a=o.init=function(c){if(c instanceof ArrayBuffer&&(c=new Uint8Array(c)),(c instanceof Int8Array||typeof Uint8ClampedArray!="undefined"&&c instanceof Uint8ClampedArray||c instanceof Int16Array||c instanceof Uint16Array||c instanceof Int32Array||c instanceof Uint32Array||c instanceof Float32Array||c instanceof Float64Array)&&(c=new Uint8Array(c.buffer,c.byteOffset,c.byteLength)),c instanceof Uint8Array){for(var u=c.byteLength,l=[],f=0;f<u;f++)l[f>>>2]|=c[f]<<24-f%4*8;s.call(this,l,u)}else s.apply(this,arguments)};a.prototype=o}}(),r.lib.WordArray})})(EO);var Fh={exports:{}};(function(e,t){(function(r,n){e.exports=n(Ai.exports)})(Ge,function(r){return function(n){var i=r,o=i.lib,s=o.WordArray,a=o.Hasher,c=i.algo,u=[],l=[];(function(){function v(b){for(var _=n.sqrt(b),T=2;T<=_;T++)if(!(b%T))return!1;return!0}function g(b){return(b-(b|0))*4294967296|0}for(var w=2,y=0;y<64;)v(w)&&(y<8&&(u[y]=g(n.pow(w,1/2))),l[y]=g(n.pow(w,1/3)),y++),w++})();var f=[],h=c.SHA256=a.extend({_doReset:function(){this._hash=new s.init(u.slice(0))},_doProcessBlock:function(v,g){for(var w=this._hash.words,y=w[0],b=w[1],_=w[2],T=w[3],A=w[4],x=w[5],R=w[6],k=w[7],U=0;U<64;U++){if(U<16)f[U]=v[g+U]|0;else{var B=f[U-15],N=(B<<25|B>>>7)^(B<<14|B>>>18)^B>>>3,F=f[U-2],L=(F<<15|F>>>17)^(F<<13|F>>>19)^F>>>10;f[U]=N+f[U-7]+L+f[U-16]}var I=A&x^~A&R,P=y&b^y&_^b&_,M=(y<<30|y>>>2)^(y<<19|y>>>13)^(y<<10|y>>>22),j=(A<<26|A>>>6)^(A<<21|A>>>11)^(A<<7|A>>>25),K=k+j+I+l[U]+f[U],G=M+P;k=R,R=x,x=A,A=T+K|0,T=_,_=b,b=y,y=K+G|0}w[0]=w[0]+y|0,w[1]=w[1]+b|0,w[2]=w[2]+_|0,w[3]=w[3]+T|0,w[4]=w[4]+A|0,w[5]=w[5]+x|0,w[6]=w[6]+R|0,w[7]=w[7]+k|0},_doFinalize:function(){var v=this._data,g=v.words,w=this._nDataBytes*8,y=v.sigBytes*8;return g[y>>>5]|=128<<24-y%32,g[(y+64>>>9<<4)+14]=n.floor(w/4294967296),g[(y+64>>>9<<4)+15]=w,v.sigBytes=g.length*4,this._process(),this._hash},clone:function(){var v=a.clone.call(this);return v._hash=this._hash.clone(),v}});i.SHA256=a._createHelper(h),i.HmacSHA256=a._createHmacHelper(h)}(Math),r.SHA256})})(Fh);var ib=Fh.exports,ob={exports:{}},sb={exports:{}};(function(e,t){(function(r,n){e.exports=n(Ai.exports)})(Ge,function(r){(function(){var n=r,i=n.lib,o=i.Base,s=n.enc,a=s.Utf8,c=n.algo;c.HMAC=o.extend({init:function(u,l){u=this._hasher=new u.init,typeof l=="string"&&(l=a.parse(l));var f=u.blockSize,h=f*4;l.sigBytes>h&&(l=u.finalize(l)),l.clamp();for(var v=this._oKey=l.clone(),g=this._iKey=l.clone(),w=v.words,y=g.words,b=0;b<f;b++)w[b]^=1549556828,y[b]^=909522486;v.sigBytes=g.sigBytes=h,this.reset()},reset:function(){var u=this._hasher;u.reset(),u.update(this._iKey)},update:function(u){return this._hasher.update(u),this},finalize:function(u){var l=this._hasher,f=l.finalize(u);l.reset();var h=l.finalize(this._oKey.clone().concat(f));return h}})})()})})(sb);(function(e,t){(function(r,n,i){e.exports=n(Ai.exports,Fh.exports,sb.exports)})(Ge,function(r){return r.HmacSHA256})})(ob);var ou=ob.exports,cr;typeof window!="undefined"&&window.crypto&&(cr=window.crypto);!cr&&typeof window!="undefined"&&window.msCrypto&&(cr=window.msCrypto);!cr&&typeof global!="undefined"&&global.crypto&&(cr=global.crypto);if(!cr&&typeof require=="function")try{cr=require("crypto")}catch{}function AO(){if(cr){if(typeof cr.getRandomValues=="function")try{return cr.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof cr.randomBytes=="function")try{return cr.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")}function TO(e){for(var t=e.words,r=e.sigBytes,n=[],i=0;i<r;i++){var o=t[i>>>2]>>>24-i%4*8&255;n.push((o>>>4).toString(16)),n.push((o&15).toString(16))}return n.join("")}var ab=function(){function e(r,n){r=this.words=r||[],n!=null?this.sigBytes=n:this.sigBytes=r.length*4}var t=e.prototype;return t.random=function(n){for(var i=[],o=0;o<n;o+=4)i.push(AO());return new e(i,n)},t.toString=function(){return TO(this)},e}();function de(e,t){e!=null&&this.fromString(e,t)}function At(){return new de(null)}var Un,IO=244837814094590,Jv=(IO&16777215)==15715070;function xO(e,t,r,n,i,o){for(;--o>=0;){var s=t*this[e++]+r[n]+i;i=Math.floor(s/67108864),r[n++]=s&67108863}return i}function CO(e,t,r,n,i,o){for(var s=t&32767,a=t>>15;--o>=0;){var c=this[e]&32767,u=this[e++]>>15,l=a*c+u*s;c=s*c+((l&32767)<<15)+r[n]+(i&1073741823),i=(c>>>30)+(l>>>15)+a*u+(i>>>30),r[n++]=c&1073741823}return i}function OO(e,t,r,n,i,o){for(var s=t&16383,a=t>>14;--o>=0;){var c=this[e]&16383,u=this[e++]>>14,l=a*c+u*s;c=s*c+((l&16383)<<14)+r[n]+i,i=(c>>28)+(l>>14)+a*u,r[n++]=c&268435455}return i}var Qv=typeof navigator!="undefined";Qv&&Jv&&navigator.appName=="Microsoft Internet Explorer"?(de.prototype.am=CO,Un=30):Qv&&Jv&&navigator.appName!="Netscape"?(de.prototype.am=xO,Un=26):(de.prototype.am=OO,Un=28);de.prototype.DB=Un;de.prototype.DM=(1<<Un)-1;de.prototype.DV=1<<Un;var Lh=52;de.prototype.FV=Math.pow(2,Lh);de.prototype.F1=Lh-Un;de.prototype.F2=2*Un-Lh;var PO="0123456789abcdefghijklmnopqrstuvwxyz",tc=new Array,To,hr;To="0".charCodeAt(0);for(hr=0;hr<=9;++hr)tc[To++]=hr;To="a".charCodeAt(0);for(hr=10;hr<36;++hr)tc[To++]=hr;To="A".charCodeAt(0);for(hr=10;hr<36;++hr)tc[To++]=hr;function Xv(e){return PO.charAt(e)}function NO(e,t){var r=tc[e.charCodeAt(t)];return r==null?-1:r}function RO(e){for(var t=this.t-1;t>=0;--t)e[t]=this[t];e.t=this.t,e.s=this.s}function MO(e){this.t=1,this.s=e<0?-1:0,e>0?this[0]=e:e<-1?this[0]=e+this.DV:this.t=0}function Bh(e){var t=At();return t.fromInt(e),t}function kO(e,t){var r;if(t==16)r=4;else if(t==8)r=3;else if(t==2)r=1;else if(t==32)r=5;else if(t==4)r=2;else throw new Error("Only radix 2, 4, 8, 16, 32 are supported");this.t=0,this.s=0;for(var n=e.length,i=!1,o=0;--n>=0;){var s=NO(e,n);if(s<0){e.charAt(n)=="-"&&(i=!0);continue}i=!1,o==0?this[this.t++]=s:o+r>this.DB?(this[this.t-1]|=(s&(1<<this.DB-o)-1)<<o,this[this.t++]=s>>this.DB-o):this[this.t-1]|=s<<o,o+=r,o>=this.DB&&(o-=this.DB)}this.clamp(),i&&de.ZERO.subTo(this,this)}function DO(){for(var e=this.s&this.DM;this.t>0&&this[this.t-1]==e;)--this.t}function UO(e){if(this.s<0)return"-"+this.negate().toString(e);var t;if(e==16)t=4;else if(e==8)t=3;else if(e==2)t=1;else if(e==32)t=5;else if(e==4)t=2;else throw new Error("Only radix 2, 4, 8, 16, 32 are supported");var r=(1<<t)-1,n,i=!1,o="",s=this.t,a=this.DB-s*this.DB%t;if(s-- >0)for(a<this.DB&&(n=this[s]>>a)>0&&(i=!0,o=Xv(n));s>=0;)a<t?(n=(this[s]&(1<<a)-1)<<t-a,n|=this[--s]>>(a+=this.DB-t)):(n=this[s]>>(a-=t)&r,a<=0&&(a+=this.DB,--s)),n>0&&(i=!0),i&&(o+=Xv(n));return i?o:"0"}function FO(){var e=At();return de.ZERO.subTo(this,e),e}function LO(){return this.s<0?this.negate():this}function BO(e){var t=this.s-e.s;if(t!=0)return t;var r=this.t;if(t=r-e.t,t!=0)return this.s<0?-t:t;for(;--r>=0;)if((t=this[r]-e[r])!=0)return t;return 0}function jh(e){var t=1,r;return(r=e>>>16)!=0&&(e=r,t+=16),(r=e>>8)!=0&&(e=r,t+=8),(r=e>>4)!=0&&(e=r,t+=4),(r=e>>2)!=0&&(e=r,t+=2),(r=e>>1)!=0&&(e=r,t+=1),t}function jO(){return this.t<=0?0:this.DB*(this.t-1)+jh(this[this.t-1]^this.s&this.DM)}function qO(e,t){var r;for(r=this.t-1;r>=0;--r)t[r+e]=this[r];for(r=e-1;r>=0;--r)t[r]=0;t.t=this.t+e,t.s=this.s}function $O(e,t){for(var r=e;r<this.t;++r)t[r-e]=this[r];t.t=Math.max(this.t-e,0),t.s=this.s}function KO(e,t){var r=e%this.DB,n=this.DB-r,i=(1<<n)-1,o=Math.floor(e/this.DB),s=this.s<<r&this.DM,a;for(a=this.t-1;a>=0;--a)t[a+o+1]=this[a]>>n|s,s=(this[a]&i)<<r;for(a=o-1;a>=0;--a)t[a]=0;t[o]=s,t.t=this.t+o+1,t.s=this.s,t.clamp()}function HO(e,t){t.s=this.s;var r=Math.floor(e/this.DB);if(r>=this.t){t.t=0;return}var n=e%this.DB,i=this.DB-n,o=(1<<n)-1;t[0]=this[r]>>n;for(var s=r+1;s<this.t;++s)t[s-r-1]|=(this[s]&o)<<i,t[s-r]=this[s]>>n;n>0&&(t[this.t-r-1]|=(this.s&o)<<i),t.t=this.t-r,t.clamp()}function VO(e,t){for(var r=0,n=0,i=Math.min(e.t,this.t);r<i;)n+=this[r]-e[r],t[r++]=n&this.DM,n>>=this.DB;if(e.t<this.t){for(n-=e.s;r<this.t;)n+=this[r],t[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<e.t;)n-=e[r],t[r++]=n&this.DM,n>>=this.DB;n-=e.s}t.s=n<0?-1:0,n<-1?t[r++]=this.DV+n:n>0&&(t[r++]=n),t.t=r,t.clamp()}function zO(e,t){var r=this.abs(),n=e.abs(),i=r.t;for(t.t=i+n.t;--i>=0;)t[i]=0;for(i=0;i<n.t;++i)t[i+r.t]=r.am(0,n[i],t,i,0,r.t);t.s=0,t.clamp(),this.s!=e.s&&de.ZERO.subTo(t,t)}function WO(e){for(var t=this.abs(),r=e.t=2*t.t;--r>=0;)e[r]=0;for(r=0;r<t.t-1;++r){var n=t.am(r,t[r],e,2*r,0,1);(e[r+t.t]+=t.am(r+1,2*t[r],e,2*r+1,n,t.t-r-1))>=t.DV&&(e[r+t.t]-=t.DV,e[r+t.t+1]=1)}e.t>0&&(e[e.t-1]+=t.am(r,t[r],e,2*r,0,1)),e.s=0,e.clamp()}function GO(e,t,r){var n=e.abs();if(!(n.t<=0)){var i=this.abs();if(i.t<n.t){t!=null&&t.fromInt(0),r!=null&&this.copyTo(r);return}r==null&&(r=At());var o=At(),s=this.s,a=e.s,c=this.DB-jh(n[n.t-1]);c>0?(n.lShiftTo(c,o),i.lShiftTo(c,r)):(n.copyTo(o),i.copyTo(r));var u=o.t,l=o[u-1];if(l!=0){var f=l*(1<<this.F1)+(u>1?o[u-2]>>this.F2:0),h=this.FV/f,v=(1<<this.F1)/f,g=1<<this.F2,w=r.t,y=w-u,b=t==null?At():t;for(o.dlShiftTo(y,b),r.compareTo(b)>=0&&(r[r.t++]=1,r.subTo(b,r)),de.ONE.dlShiftTo(u,b),b.subTo(o,o);o.t<u;)o[o.t++]=0;for(;--y>=0;){var _=r[--w]==l?this.DM:Math.floor(r[w]*h+(r[w-1]+g)*v);if((r[w]+=o.am(0,_,r,y,0,u))<_)for(o.dlShiftTo(y,b),r.subTo(b,r);r[w]<--_;)r.subTo(b,r)}t!=null&&(r.drShiftTo(u,t),s!=a&&de.ZERO.subTo(t,t)),r.t=u,r.clamp(),c>0&&r.rShiftTo(c,r),s<0&&de.ZERO.subTo(r,r)}}}function YO(e){var t=At();return this.abs().divRemTo(e,null,t),this.s<0&&t.compareTo(de.ZERO)>0&&e.subTo(t,t),t}function JO(){if(this.t<1)return 0;var e=this[0];if((e&1)==0)return 0;var t=e&3;return t=t*(2-(e&15)*t)&15,t=t*(2-(e&255)*t)&255,t=t*(2-((e&65535)*t&65535))&65535,t=t*(2-e*t%this.DV)%this.DV,t>0?this.DV-t:-t}function QO(e){return this.compareTo(e)==0}function XO(e,t){for(var r=0,n=0,i=Math.min(e.t,this.t);r<i;)n+=this[r]+e[r],t[r++]=n&this.DM,n>>=this.DB;if(e.t<this.t){for(n+=e.s;r<this.t;)n+=this[r],t[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<e.t;)n+=e[r],t[r++]=n&this.DM,n>>=this.DB;n+=e.s}t.s=n<0?-1:0,n>0?t[r++]=n:n<-1&&(t[r++]=this.DV+n),t.t=r,t.clamp()}function ZO(e){var t=At();return this.addTo(e,t),t}function e2(e){var t=At();return this.subTo(e,t),t}function t2(e){var t=At();return this.multiplyTo(e,t),t}function r2(e){var t=At();return this.divRemTo(e,t,null),t}function Io(e){this.m=e,this.mp=e.invDigit(),this.mpl=this.mp&32767,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}function n2(e){var t=At();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(de.ZERO)>0&&this.m.subTo(t,t),t}function i2(e){var t=At();return e.copyTo(t),this.reduce(t),t}function o2(e){for(;e.t<=this.mt2;)e[e.t++]=0;for(var t=0;t<this.m.t;++t){var r=e[t]&32767,n=r*this.mpl+((r*this.mph+(e[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(r=t+this.m.t,e[r]+=this.m.am(0,n,e,t,0,this.m.t);e[r]>=e.DV;)e[r]-=e.DV,e[++r]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)}function s2(e,t){e.squareTo(t),this.reduce(t)}function a2(e,t,r){e.multiplyTo(t,r),this.reduce(r)}Io.prototype.convert=n2;Io.prototype.revert=i2;Io.prototype.reduce=o2;Io.prototype.mulTo=a2;Io.prototype.sqrTo=s2;function u2(e,t,r){var n=e.bitLength(),i,o=Bh(1),s=new Io(t);if(n<=0)return o;n<18?i=1:n<48?i=3:n<144?i=4:n<768?i=5:i=6;var a=new Array,c=3,u=i-1,l=(1<<i)-1;if(a[1]=s.convert(this),i>1){var f=At();for(s.sqrTo(a[1],f);c<=l;)a[c]=At(),s.mulTo(f,a[c-2],a[c]),c+=2}var h=e.t-1,v,g=!0,w=At(),y;for(n=jh(e[h])-1;h>=0;){for(n>=u?v=e[h]>>n-u&l:(v=(e[h]&(1<<n+1)-1)<<u-n,h>0&&(v|=e[h-1]>>this.DB+n-u)),c=i;(v&1)==0;)v>>=1,--c;if((n-=c)<0&&(n+=this.DB,--h),g)a[v].copyTo(o),g=!1;else{for(;c>1;)s.sqrTo(o,w),s.sqrTo(w,o),c-=2;c>0?s.sqrTo(o,w):(y=o,o=w,w=y),s.mulTo(w,a[v],o)}for(;h>=0&&(e[h]&1<<n)==0;)s.sqrTo(o,w),y=o,o=w,w=y,--n<0&&(n=this.DB-1,--h)}var b=s.revert(o);return r(null,b),b}de.prototype.copyTo=RO;de.prototype.fromInt=MO;de.prototype.fromString=kO;de.prototype.clamp=DO;de.prototype.dlShiftTo=qO;de.prototype.drShiftTo=$O;de.prototype.lShiftTo=KO;de.prototype.rShiftTo=HO;de.prototype.subTo=VO;de.prototype.multiplyTo=zO;de.prototype.squareTo=WO;de.prototype.divRemTo=GO;de.prototype.invDigit=JO;de.prototype.addTo=XO;de.prototype.toString=UO;de.prototype.negate=FO;de.prototype.abs=LO;de.prototype.compareTo=BO;de.prototype.bitLength=jO;de.prototype.mod=YO;de.prototype.equals=QO;de.prototype.add=ZO;de.prototype.subtract=e2;de.prototype.multiply=t2;de.prototype.divide=r2;de.prototype.modPow=u2;de.ZERO=Bh(0);de.ONE=Bh(1);/*!
 * Copyright 2016 Amazon.com,
 * Inc. or its affiliates. All Rights Reserved.
 *
 * Licensed under the Amazon Software License (the "License").
 * You may not use this file except in compliance with the
 * License. A copy of the License is located at
 *
 *     http://aws.amazon.com/asl/
 *
 * or in the "license" file accompanying this file. This file is
 * distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR
 * CONDITIONS OF ANY KIND, express or implied. See the License
 * for the specific language governing permissions and
 * limitations under the License.
 */function Uc(e){return ke.Buffer.from(new ab().random(e).toString(),"hex")}var c2=/^[89a-f]/i,l2="FFFFFFFFFFFFFFFFC90FDAA22168C234C4C6628B80DC1CD129024E088A67CC74020BBEA63B139B22514A08798E3404DDEF9519B3CD3A431B302B0A6DF25F14374FE1356D6D51C245E485B576625E7EC6F44C42E9A637ED6B0BFF5CB6F406B7EDEE386BFB5A899FA5AE9F24117C4B1FE649286651ECE45B3DC2007CB8A163BF0598DA48361C55D39A69163FA8FD24CF5F83655D23DCA3AD961C62F356208552BB9ED529077096966D670C354E4ABC9804F1746C08CA18217C32905E462E36CE3BE39E772C180E86039B2783A2EC07A28FB5C55DF06F4C52C9DE2BCBF6955817183995497CEA956AE515D2261898FA051015728E5A8AAAC42DAD33170D04507A33A85521ABDF1CBA64ECFB850458DBEF0A8AEA71575D060C7DB3970F85A6E1E4C7ABF5AE8CDB0933D71E8C94E04A25619DCEE3D2261AD2EE6BF12FFA06D98A0864D87602733EC86A64521F2B18177B200CBBE117577A615D6C770988C0BAD946E208E24FA074E5AB3143DB5BFCE0FD108E4B82D120A93AD2CAFFFFFFFFFFFFFFFF",f2="userAttributes.",Pi=function(){function e(r){this.N=new de(l2,16),this.g=new de("2",16),this.k=new de(this.hexHash(""+this.padHex(this.N)+this.padHex(this.g)),16),this.smallAValue=this.generateRandomSmallA(),this.getLargeAValue(function(){}),this.infoBits=ke.Buffer.from("Caldera Derived Key","utf8"),this.poolName=r}var t=e.prototype;return t.getSmallAValue=function(){return this.smallAValue},t.getLargeAValue=function(n){var i=this;this.largeAValue?n(null,this.largeAValue):this.calculateA(this.smallAValue,function(o,s){o&&n(o,null),i.largeAValue=s,n(null,i.largeAValue)})},t.generateRandomSmallA=function(){var n=Uc(128).toString("hex"),i=new de(n,16);return i},t.generateRandomString=function(){return Uc(40).toString("base64")},t.getRandomPassword=function(){return this.randomPassword},t.getSaltDevices=function(){return this.SaltToHashDevices},t.getVerifierDevices=function(){return this.verifierDevices},t.generateHashDevice=function(n,i,o){var s=this;this.randomPassword=this.generateRandomString();var a=""+n+i+":"+this.randomPassword,c=this.hash(a),u=Uc(16).toString("hex");this.SaltToHashDevices=this.padHex(new de(u,16)),this.g.modPow(new de(this.hexHash(this.SaltToHashDevices+c),16),this.N,function(l,f){l&&o(l,null),s.verifierDevices=s.padHex(f),o(null,null)})},t.calculateA=function(n,i){var o=this;this.g.modPow(n,this.N,function(s,a){s&&i(s,null),a.mod(o.N).equals(de.ZERO)&&i(new Error("Illegal paramater. A mod N cannot be 0."),null),i(null,a)})},t.calculateU=function(n,i){this.UHexHash=this.hexHash(this.padHex(n)+this.padHex(i));var o=new de(this.UHexHash,16);return o},t.hash=function(n){var i=n instanceof ke.Buffer?Nn.lib.WordArray.create(n):n,o=ib(i).toString();return new Array(64-o.length).join("0")+o},t.hexHash=function(n){return this.hash(ke.Buffer.from(n,"hex"))},t.computehkdf=function(n,i){var o=Nn.lib.WordArray.create(ke.Buffer.concat([this.infoBits,ke.Buffer.from(String.fromCharCode(1),"utf8")])),s=n instanceof ke.Buffer?Nn.lib.WordArray.create(n):n,a=i instanceof ke.Buffer?Nn.lib.WordArray.create(i):i,c=ou(s,a),u=ou(o,c);return ke.Buffer.from(u.toString(),"hex").slice(0,16)},t.getPasswordAuthenticationKey=function(n,i,o,s,a){var c=this;if(o.mod(this.N).equals(de.ZERO))throw new Error("B cannot be zero.");if(this.UValue=this.calculateU(this.largeAValue,o),this.UValue.equals(de.ZERO))throw new Error("U cannot be zero.");var u=""+this.poolName+n+":"+i,l=this.hash(u),f=new de(this.hexHash(this.padHex(s)+l),16);this.calculateS(f,o,function(h,v){h&&a(h,null);var g=c.computehkdf(ke.Buffer.from(c.padHex(v),"hex"),ke.Buffer.from(c.padHex(c.UValue),"hex"));a(null,g)})},t.calculateS=function(n,i,o){var s=this;this.g.modPow(n,this.N,function(a,c){a&&o(a,null);var u=i.subtract(s.k.multiply(c));u.modPow(s.smallAValue.add(s.UValue.multiply(n)),s.N,function(l,f){l&&o(l,null),o(null,f.mod(s.N))})})},t.getNewPasswordRequiredChallengeUserAttributePrefix=function(){return f2},t.padHex=function(n){if(!(n instanceof de))throw new Error("Not a BigInteger");var i=n.compareTo(de.ZERO)<0,o=n.abs().toString(16);if(o=o.length%2!==0?"0"+o:o,o=c2.test(o)?"00"+o:o,i){var s=o.split("").map(function(c){var u=~parseInt(c,16)&15;return"0123456789ABCDEF".charAt(u)}).join(""),a=new de(s,16).add(de.ONE);o=a.toString(16),o.toUpperCase().startsWith("FF8")&&(o=o.substring(2))}return o},e}();/*!
 * Copyright 2016 Amazon.com,
 * Inc. or its affiliates. All Rights Reserved.
 *
 * Licensed under the Amazon Software License (the "License").
 * You may not use this file except in compliance with the
 * License. A copy of the License is located at
 *
 *     http://aws.amazon.com/asl/
 *
 * or in the "license" file accompanying this file. This file is
 * distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR
 * CONDITIONS OF ANY KIND, express or implied. See the License
 * for the specific language governing permissions and
 * limitations under the License.
 */var ub=function(){function e(r){this.jwtToken=r||"",this.payload=this.decodePayload()}var t=e.prototype;return t.getJwtToken=function(){return this.jwtToken},t.getExpiration=function(){return this.payload.exp},t.getIssuedAt=function(){return this.payload.iat},t.decodePayload=function(){var n=this.jwtToken.split(".")[1];try{return JSON.parse(ke.Buffer.from(n,"base64").toString("utf8"))}catch{return{}}},e}();function h2(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,ef(e,t)}function ef(e,t){return ef=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},ef(e,t)}var tf=function(e){h2(t,e);function t(r){var n=r===void 0?{}:r,i=n.AccessToken;return e.call(this,i||"")||this}return t}(ub);function d2(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,rf(e,t)}function rf(e,t){return rf=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},rf(e,t)}var nf=function(e){d2(t,e);function t(r){var n=r===void 0?{}:r,i=n.IdToken;return e.call(this,i||"")||this}return t}(ub);/*!
 * Copyright 2016 Amazon.com,
 * Inc. or its affiliates. All Rights Reserved.
 *
 * Licensed under the Amazon Software License (the "License").
 * You may not use this file except in compliance with the
 * License. A copy of the License is located at
 *
 *     http://aws.amazon.com/asl/
 *
 * or in the "license" file accompanying this file. This file is
 * distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR
 * CONDITIONS OF ANY KIND, express or implied. See the License
 * for the specific language governing permissions and
 * limitations under the License.
 */var of=function(){function e(r){var n=r===void 0?{}:r,i=n.RefreshToken;this.token=i||""}var t=e.prototype;return t.getToken=function(){return this.token},e}(),cb={exports:{}};(function(e,t){(function(r,n){e.exports=n(Ai.exports)})(Ge,function(r){return function(){var n=r,i=n.lib,o=i.WordArray,s=n.enc;s.Base64={stringify:function(c){var u=c.words,l=c.sigBytes,f=this._map;c.clamp();for(var h=[],v=0;v<l;v+=3)for(var g=u[v>>>2]>>>24-v%4*8&255,w=u[v+1>>>2]>>>24-(v+1)%4*8&255,y=u[v+2>>>2]>>>24-(v+2)%4*8&255,b=g<<16|w<<8|y,_=0;_<4&&v+_*.75<l;_++)h.push(f.charAt(b>>>6*(3-_)&63));var T=f.charAt(64);if(T)for(;h.length%4;)h.push(T);return h.join("")},parse:function(c){var u=c.length,l=this._map,f=this._reverseMap;if(!f){f=this._reverseMap=[];for(var h=0;h<l.length;h++)f[l.charCodeAt(h)]=h}var v=l.charAt(64);if(v){var g=c.indexOf(v);g!==-1&&(u=g)}return a(c,u,f)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function a(c,u,l){for(var f=[],h=0,v=0;v<u;v++)if(v%4){var g=l[c.charCodeAt(v-1)]<<v%4*2,w=l[c.charCodeAt(v)]>>>6-v%4*2,y=g|w;f[h>>>2]|=y<<24-h%4*8,h++}return o.create(f,h)}}(),r.enc.Base64})})(cb);var sf=cb.exports;/*!
 * Copyright 2016 Amazon.com,
 * Inc. or its affiliates. All Rights Reserved.
 *
 * Licensed under the Amazon Software License (the "License").
 * You may not use this file except in compliance with the
 * License. A copy of the License is located at
 *
 *     http://aws.amazon.com/asl/
 *
 * or in the "license" file accompanying this file. This file is
 * distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR
 * CONDITIONS OF ANY KIND, express or implied. See the License
 * for the specific language governing permissions and
 * limitations under the License.
 */var af=function(){function e(r){var n=r===void 0?{}:r,i=n.IdToken,o=n.RefreshToken,s=n.AccessToken,a=n.ClockDrift;if(s==null||i==null)throw new Error("Id token and Access Token must be present.");this.idToken=i,this.refreshToken=o,this.accessToken=s,this.clockDrift=a===void 0?this.calculateClockDrift():a}var t=e.prototype;return t.getIdToken=function(){return this.idToken},t.getRefreshToken=function(){return this.refreshToken},t.getAccessToken=function(){return this.accessToken},t.getClockDrift=function(){return this.clockDrift},t.calculateClockDrift=function(){var n=Math.floor(new Date/1e3),i=Math.min(this.accessToken.getIssuedAt(),this.idToken.getIssuedAt());return n-i},t.isValid=function(){var n=Math.floor(new Date/1e3),i=n-this.clockDrift;return i<this.accessToken.getExpiration()&&i<this.idToken.getExpiration()},e}();/*!
 * Copyright 2016 Amazon.com,
 * Inc. or its affiliates. All Rights Reserved.
 *
 * Licensed under the Amazon Software License (the "License").
 * You may not use this file except in compliance with the
 * License. A copy of the License is located at
 *
 *     http://aws.amazon.com/asl/
 *
 * or in the "license" file accompanying this file. This file is
 * distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR
 * CONDITIONS OF ANY KIND, express or implied. See the License
 * for the specific language governing permissions and
 * limitations under the License.
 */var p2=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],v2=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Zv=function(){function e(){}var t=e.prototype;return t.getNowString=function(){var n=new Date,i=v2[n.getUTCDay()],o=p2[n.getUTCMonth()],s=n.getUTCDate(),a=n.getUTCHours();a<10&&(a="0"+a);var c=n.getUTCMinutes();c<10&&(c="0"+c);var u=n.getUTCSeconds();u<10&&(u="0"+u);var l=n.getUTCFullYear(),f=i+" "+o+" "+s+" "+a+":"+c+":"+u+" UTC "+l;return f},e}();/*!
 * Copyright 2016 Amazon.com,
 * Inc. or its affiliates. All Rights Reserved.
 *
 * Licensed under the Amazon Software License (the "License").
 * You may not use this file except in compliance with the
 * License. A copy of the License is located at
 *
 *     http://aws.amazon.com/asl/
 *
 * or in the "license" file accompanying this file. This file is
 * distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR
 * CONDITIONS OF ANY KIND, express or implied. See the License
 * for the specific language governing permissions and
 * limitations under the License.
 */var zi=function(){function e(r){var n=r===void 0?{}:r,i=n.Name,o=n.Value;this.Name=i||"",this.Value=o||""}var t=e.prototype;return t.getValue=function(){return this.Value},t.setValue=function(n){return this.Value=n,this},t.getName=function(){return this.Name},t.setName=function(n){return this.Name=n,this},t.toString=function(){return JSON.stringify(this)},t.toJSON=function(){return{Name:this.Name,Value:this.Value}},e}();/*!
 * Copyright 2016 Amazon.com,
 * Inc. or its affiliates. All Rights Reserved.
 *
 * Licensed under the Amazon Software License (the "License").
 * You may not use this file except in compliance with the
 * License. A copy of the License is located at
 *
 *     http://aws.amazon.com/asl/
 *
 * or in the "license" file accompanying this file. This file is
 * distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR
 * CONDITIONS OF ANY KIND, express or implied. See the License
 * for the specific language governing permissions and
 * limitations under the License.
 */var zn={},g2=function(){function e(){}return e.setItem=function(r,n){return zn[r]=n,zn[r]},e.getItem=function(r){return Object.prototype.hasOwnProperty.call(zn,r)?zn[r]:void 0},e.removeItem=function(r){return delete zn[r]},e.clear=function(){return zn={},zn},e}(),lb=function(){function e(){try{this.storageWindow=window.localStorage,this.storageWindow.setItem("aws.cognito.test-ls",1),this.storageWindow.removeItem("aws.cognito.test-ls")}catch{this.storageWindow=g2}}var t=e.prototype;return t.getStorage=function(){return this.storageWindow},e}();/*!
 * Copyright 2016 Amazon.com,
 * Inc. or its affiliates. All Rights Reserved.
 *
 * Licensed under the Amazon Software License (the "License").
 * You may not use this file except in compliance with the
 * License. A copy of the License is located at
 *
 *     http://aws.amazon.com/asl/
 *
 * or in the "license" file accompanying this file. This file is
 * distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR
 * CONDITIONS OF ANY KIND, express or implied. See the License
 * for the specific language governing permissions and
 * limitations under the License.
 */var m2=typeof navigator!="undefined",eg=m2?navigator.userAgent:"nodejs",uf=function(){function e(r){if(r==null||r.Username==null||r.Pool==null)throw new Error("Username and Pool information are required.");this.username=r.Username||"",this.pool=r.Pool,this.Session=null,this.client=r.Pool.client,this.signInUserSession=null,this.authenticationFlowType="USER_SRP_AUTH",this.storage=r.Storage||new lb().getStorage(),this.keyPrefix="CognitoIdentityServiceProvider."+this.pool.getClientId(),this.userDataKey=this.keyPrefix+"."+this.username+".userData"}var t=e.prototype;return t.setSignInUserSession=function(n){this.clearCachedUserData(),this.signInUserSession=n,this.cacheTokens()},t.getSignInUserSession=function(){return this.signInUserSession},t.getUsername=function(){return this.username},t.getAuthenticationFlowType=function(){return this.authenticationFlowType},t.setAuthenticationFlowType=function(n){this.authenticationFlowType=n},t.initiateAuth=function(n,i){var o=this,s=n.getAuthParameters();s.USERNAME=this.username;var a=Object.keys(n.getValidationData()).length!==0?n.getValidationData():n.getClientMetadata(),c={AuthFlow:"CUSTOM_AUTH",ClientId:this.pool.getClientId(),AuthParameters:s,ClientMetadata:a};this.getUserContextData()&&(c.UserContextData=this.getUserContextData()),this.client.request("InitiateAuth",c,function(u,l){if(u)return i.onFailure(u);var f=l.ChallengeName,h=l.ChallengeParameters;return f==="CUSTOM_CHALLENGE"?(o.Session=l.Session,i.customChallenge(h)):(o.signInUserSession=o.getCognitoUserSession(l.AuthenticationResult),o.cacheTokens(),i.onSuccess(o.signInUserSession))})},t.authenticateUser=function(n,i){return this.authenticationFlowType==="USER_PASSWORD_AUTH"?this.authenticateUserPlainUsernamePassword(n,i):this.authenticationFlowType==="USER_SRP_AUTH"||this.authenticationFlowType==="CUSTOM_AUTH"?this.authenticateUserDefaultAuth(n,i):i.onFailure(new Error("Authentication flow type is invalid."))},t.authenticateUserDefaultAuth=function(n,i){var o=this,s=new Pi(this.pool.getUserPoolId().split("_")[1]),a=new Zv,c,u,l={};this.deviceKey!=null&&(l.DEVICE_KEY=this.deviceKey),l.USERNAME=this.username,s.getLargeAValue(function(f,h){f&&i.onFailure(f),l.SRP_A=h.toString(16),o.authenticationFlowType==="CUSTOM_AUTH"&&(l.CHALLENGE_NAME="SRP_A");var v=Object.keys(n.getValidationData()).length!==0?n.getValidationData():n.getClientMetadata(),g={AuthFlow:o.authenticationFlowType,ClientId:o.pool.getClientId(),AuthParameters:l,ClientMetadata:v};o.getUserContextData(o.username)&&(g.UserContextData=o.getUserContextData(o.username)),o.client.request("InitiateAuth",g,function(w,y){if(w)return i.onFailure(w);var b=y.ChallengeParameters;o.username=b.USER_ID_FOR_SRP,o.userDataKey=o.keyPrefix+"."+o.username+".userData",c=new de(b.SRP_B,16),u=new de(b.SALT,16),o.getCachedDeviceKeyAndPassword(),s.getPasswordAuthenticationKey(o.username,n.getPassword(),c,u,function(_,T){_&&i.onFailure(_);var A=a.getNowString(),x=Nn.lib.WordArray.create(ke.Buffer.concat([ke.Buffer.from(o.pool.getUserPoolId().split("_")[1],"utf8"),ke.Buffer.from(o.username,"utf8"),ke.Buffer.from(b.SECRET_BLOCK,"base64"),ke.Buffer.from(A,"utf8")])),R=Nn.lib.WordArray.create(T),k=sf.stringify(ou(x,R)),U={};U.USERNAME=o.username,U.PASSWORD_CLAIM_SECRET_BLOCK=b.SECRET_BLOCK,U.TIMESTAMP=A,U.PASSWORD_CLAIM_SIGNATURE=k,o.deviceKey!=null&&(U.DEVICE_KEY=o.deviceKey);var B=function F(L,I){return o.client.request("RespondToAuthChallenge",L,function(P,M){return P&&P.code==="ResourceNotFoundException"&&P.message.toLowerCase().indexOf("device")!==-1?(U.DEVICE_KEY=null,o.deviceKey=null,o.randomPassword=null,o.deviceGroupKey=null,o.clearCachedDeviceKeyAndPassword(),F(L,I)):I(P,M)})},N={ChallengeName:"PASSWORD_VERIFIER",ClientId:o.pool.getClientId(),ChallengeResponses:U,Session:y.Session,ClientMetadata:v};o.getUserContextData()&&(N.UserContextData=o.getUserContextData()),B(N,function(F,L){return F?i.onFailure(F):o.authenticateUserInternal(L,s,i)})})})})},t.authenticateUserPlainUsernamePassword=function(n,i){var o=this,s={};if(s.USERNAME=this.username,s.PASSWORD=n.getPassword(),!s.PASSWORD){i.onFailure(new Error("PASSWORD parameter is required"));return}var a=new Pi(this.pool.getUserPoolId().split("_")[1]);this.getCachedDeviceKeyAndPassword(),this.deviceKey!=null&&(s.DEVICE_KEY=this.deviceKey);var c=Object.keys(n.getValidationData()).length!==0?n.getValidationData():n.getClientMetadata(),u={AuthFlow:"USER_PASSWORD_AUTH",ClientId:this.pool.getClientId(),AuthParameters:s,ClientMetadata:c};this.getUserContextData(this.username)&&(u.UserContextData=this.getUserContextData(this.username)),this.client.request("InitiateAuth",u,function(l,f){return l?i.onFailure(l):o.authenticateUserInternal(f,a,i)})},t.authenticateUserInternal=function(n,i,o){var s=this,a=n.ChallengeName,c=n.ChallengeParameters;if(a==="SMS_MFA")return this.Session=n.Session,o.mfaRequired(a,c);if(a==="SELECT_MFA_TYPE")return this.Session=n.Session,o.selectMFAType(a,c);if(a==="MFA_SETUP")return this.Session=n.Session,o.mfaSetup(a,c);if(a==="SOFTWARE_TOKEN_MFA")return this.Session=n.Session,o.totpRequired(a,c);if(a==="CUSTOM_CHALLENGE")return this.Session=n.Session,o.customChallenge(c);if(a==="NEW_PASSWORD_REQUIRED"){this.Session=n.Session;var u=null,l=null,f=[],h=i.getNewPasswordRequiredChallengeUserAttributePrefix();if(c&&(u=JSON.parse(n.ChallengeParameters.userAttributes),l=JSON.parse(n.ChallengeParameters.requiredAttributes)),l)for(var v=0;v<l.length;v++)f[v]=l[v].substr(h.length);return o.newPasswordRequired(u,f)}if(a==="DEVICE_SRP_AUTH"){this.Session=n.Session,this.getDeviceResponse(o);return}this.signInUserSession=this.getCognitoUserSession(n.AuthenticationResult),this.challengeName=a,this.cacheTokens();var g=n.AuthenticationResult.NewDeviceMetadata;if(g==null)return o.onSuccess(this.signInUserSession);i.generateHashDevice(n.AuthenticationResult.NewDeviceMetadata.DeviceGroupKey,n.AuthenticationResult.NewDeviceMetadata.DeviceKey,function(w){if(w)return o.onFailure(w);var y={Salt:ke.Buffer.from(i.getSaltDevices(),"hex").toString("base64"),PasswordVerifier:ke.Buffer.from(i.getVerifierDevices(),"hex").toString("base64")};s.verifierDevices=y.PasswordVerifier,s.deviceGroupKey=g.DeviceGroupKey,s.randomPassword=i.getRandomPassword(),s.client.request("ConfirmDevice",{DeviceKey:g.DeviceKey,AccessToken:s.signInUserSession.getAccessToken().getJwtToken(),DeviceSecretVerifierConfig:y,DeviceName:eg},function(b,_){return b?o.onFailure(b):(s.deviceKey=n.AuthenticationResult.NewDeviceMetadata.DeviceKey,s.cacheDeviceKeyAndPassword(),_.UserConfirmationNecessary===!0?o.onSuccess(s.signInUserSession,_.UserConfirmationNecessary):o.onSuccess(s.signInUserSession))})})},t.completeNewPasswordChallenge=function(n,i,o,s){var a=this;if(!n)return o.onFailure(new Error("New password is required."));var c=new Pi(this.pool.getUserPoolId().split("_")[1]),u=c.getNewPasswordRequiredChallengeUserAttributePrefix(),l={};i&&Object.keys(i).forEach(function(h){l[u+h]=i[h]}),l.NEW_PASSWORD=n,l.USERNAME=this.username;var f={ChallengeName:"NEW_PASSWORD_REQUIRED",ClientId:this.pool.getClientId(),ChallengeResponses:l,Session:this.Session,ClientMetadata:s};this.getUserContextData()&&(f.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",f,function(h,v){return h?o.onFailure(h):a.authenticateUserInternal(v,c,o)})},t.getDeviceResponse=function(n,i){var o=this,s=new Pi(this.deviceGroupKey),a=new Zv,c={};c.USERNAME=this.username,c.DEVICE_KEY=this.deviceKey,s.getLargeAValue(function(u,l){u&&n.onFailure(u),c.SRP_A=l.toString(16);var f={ChallengeName:"DEVICE_SRP_AUTH",ClientId:o.pool.getClientId(),ChallengeResponses:c,ClientMetadata:i,Session:o.Session};o.getUserContextData()&&(f.UserContextData=o.getUserContextData()),o.client.request("RespondToAuthChallenge",f,function(h,v){if(h)return n.onFailure(h);var g=v.ChallengeParameters,w=new de(g.SRP_B,16),y=new de(g.SALT,16);s.getPasswordAuthenticationKey(o.deviceKey,o.randomPassword,w,y,function(b,_){if(b)return n.onFailure(b);var T=a.getNowString(),A=Nn.lib.WordArray.create(ke.Buffer.concat([ke.Buffer.from(o.deviceGroupKey,"utf8"),ke.Buffer.from(o.deviceKey,"utf8"),ke.Buffer.from(g.SECRET_BLOCK,"base64"),ke.Buffer.from(T,"utf8")])),x=Nn.lib.WordArray.create(_),R=sf.stringify(ou(A,x)),k={};k.USERNAME=o.username,k.PASSWORD_CLAIM_SECRET_BLOCK=g.SECRET_BLOCK,k.TIMESTAMP=T,k.PASSWORD_CLAIM_SIGNATURE=R,k.DEVICE_KEY=o.deviceKey;var U={ChallengeName:"DEVICE_PASSWORD_VERIFIER",ClientId:o.pool.getClientId(),ChallengeResponses:k,Session:v.Session};o.getUserContextData()&&(U.UserContextData=o.getUserContextData()),o.client.request("RespondToAuthChallenge",U,function(B,N){return B?n.onFailure(B):(o.signInUserSession=o.getCognitoUserSession(N.AuthenticationResult),o.cacheTokens(),n.onSuccess(o.signInUserSession))})})})})},t.confirmRegistration=function(n,i,o,s){var a={ClientId:this.pool.getClientId(),ConfirmationCode:n,Username:this.username,ForceAliasCreation:i,ClientMetadata:s};this.getUserContextData()&&(a.UserContextData=this.getUserContextData()),this.client.request("ConfirmSignUp",a,function(c){return c?o(c,null):o(null,"SUCCESS")})},t.sendCustomChallengeAnswer=function(n,i,o){var s=this,a={};a.USERNAME=this.username,a.ANSWER=n;var c=new Pi(this.pool.getUserPoolId().split("_")[1]);this.getCachedDeviceKeyAndPassword(),this.deviceKey!=null&&(a.DEVICE_KEY=this.deviceKey);var u={ChallengeName:"CUSTOM_CHALLENGE",ChallengeResponses:a,ClientId:this.pool.getClientId(),Session:this.Session,ClientMetadata:o};this.getUserContextData()&&(u.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",u,function(l,f){return l?i.onFailure(l):s.authenticateUserInternal(f,c,i)})},t.sendMFACode=function(n,i,o,s){var a=this,c={};c.USERNAME=this.username,c.SMS_MFA_CODE=n;var u=o||"SMS_MFA";u==="SOFTWARE_TOKEN_MFA"&&(c.SOFTWARE_TOKEN_MFA_CODE=n),this.deviceKey!=null&&(c.DEVICE_KEY=this.deviceKey);var l={ChallengeName:u,ChallengeResponses:c,ClientId:this.pool.getClientId(),Session:this.Session,ClientMetadata:s};this.getUserContextData()&&(l.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",l,function(f,h){if(f)return i.onFailure(f);var v=h.ChallengeName;if(v==="DEVICE_SRP_AUTH"){a.getDeviceResponse(i);return}if(a.signInUserSession=a.getCognitoUserSession(h.AuthenticationResult),a.cacheTokens(),h.AuthenticationResult.NewDeviceMetadata==null)return i.onSuccess(a.signInUserSession);var g=new Pi(a.pool.getUserPoolId().split("_")[1]);g.generateHashDevice(h.AuthenticationResult.NewDeviceMetadata.DeviceGroupKey,h.AuthenticationResult.NewDeviceMetadata.DeviceKey,function(w){if(w)return i.onFailure(w);var y={Salt:ke.Buffer.from(g.getSaltDevices(),"hex").toString("base64"),PasswordVerifier:ke.Buffer.from(g.getVerifierDevices(),"hex").toString("base64")};a.verifierDevices=y.PasswordVerifier,a.deviceGroupKey=h.AuthenticationResult.NewDeviceMetadata.DeviceGroupKey,a.randomPassword=g.getRandomPassword(),a.client.request("ConfirmDevice",{DeviceKey:h.AuthenticationResult.NewDeviceMetadata.DeviceKey,AccessToken:a.signInUserSession.getAccessToken().getJwtToken(),DeviceSecretVerifierConfig:y,DeviceName:eg},function(b,_){return b?i.onFailure(b):(a.deviceKey=h.AuthenticationResult.NewDeviceMetadata.DeviceKey,a.cacheDeviceKeyAndPassword(),_.UserConfirmationNecessary===!0?i.onSuccess(a.signInUserSession,_.UserConfirmationNecessary):i.onSuccess(a.signInUserSession))})})})},t.changePassword=function(n,i,o,s){if(!(this.signInUserSession!=null&&this.signInUserSession.isValid()))return o(new Error("User is not authenticated"),null);this.client.request("ChangePassword",{PreviousPassword:n,ProposedPassword:i,AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),ClientMetadata:s},function(a){return a?o(a,null):o(null,"SUCCESS")})},t.enableMFA=function(n){if(this.signInUserSession==null||!this.signInUserSession.isValid())return n(new Error("User is not authenticated"),null);var i=[],o={DeliveryMedium:"SMS",AttributeName:"phone_number"};i.push(o),this.client.request("SetUserSettings",{MFAOptions:i,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(s){return s?n(s,null):n(null,"SUCCESS")})},t.setUserMfaPreference=function(n,i,o){if(this.signInUserSession==null||!this.signInUserSession.isValid())return o(new Error("User is not authenticated"),null);this.client.request("SetUserMFAPreference",{SMSMfaSettings:n,SoftwareTokenMfaSettings:i,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(s){return s?o(s,null):o(null,"SUCCESS")})},t.disableMFA=function(n){if(this.signInUserSession==null||!this.signInUserSession.isValid())return n(new Error("User is not authenticated"),null);var i=[];this.client.request("SetUserSettings",{MFAOptions:i,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(o){return o?n(o,null):n(null,"SUCCESS")})},t.deleteUser=function(n,i){var o=this;if(this.signInUserSession==null||!this.signInUserSession.isValid())return n(new Error("User is not authenticated"),null);this.client.request("DeleteUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),ClientMetadata:i},function(s){return s?n(s,null):(o.clearCachedUser(),n(null,"SUCCESS"))})},t.updateAttributes=function(n,i,o){var s=this;if(this.signInUserSession==null||!this.signInUserSession.isValid())return i(new Error("User is not authenticated"),null);this.client.request("UpdateUserAttributes",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),UserAttributes:n,ClientMetadata:o},function(a){return a?i(a,null):s.getUserData(function(){return i(null,"SUCCESS")},{bypassCache:!0})})},t.getUserAttributes=function(n){if(!(this.signInUserSession!=null&&this.signInUserSession.isValid()))return n(new Error("User is not authenticated"),null);this.client.request("GetUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(i,o){if(i)return n(i,null);for(var s=[],a=0;a<o.UserAttributes.length;a++){var c={Name:o.UserAttributes[a].Name,Value:o.UserAttributes[a].Value},u=new zi(c);s.push(u)}return n(null,s)})},t.getMFAOptions=function(n){if(!(this.signInUserSession!=null&&this.signInUserSession.isValid()))return n(new Error("User is not authenticated"),null);this.client.request("GetUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(i,o){return i?n(i,null):n(null,o.MFAOptions)})},t.createGetUserRequest=function(){return this.client.promisifyRequest("GetUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()})},t.refreshSessionIfPossible=function(n){var i=this;return n===void 0&&(n={}),new Promise(function(o){var s=i.signInUserSession.getRefreshToken();s&&s.getToken()?i.refreshSession(s,o,n.clientMetadata):o()})},t.getUserData=function(n,i){var o=this;if(!(this.signInUserSession!=null&&this.signInUserSession.isValid()))return this.clearCachedUserData(),n(new Error("User is not authenticated"),null);var s=this.getUserDataFromCache();if(!s){this.fetchUserData().then(function(a){n(null,a)}).catch(n);return}if(this.isFetchUserDataAndTokenRequired(i)){this.fetchUserData().then(function(a){return o.refreshSessionIfPossible(i).then(function(){return a})}).then(function(a){return n(null,a)}).catch(n);return}try{n(null,JSON.parse(s));return}catch(a){this.clearCachedUserData(),n(a,null);return}},t.getUserDataFromCache=function(){var n=this.storage.getItem(this.userDataKey);return n},t.isFetchUserDataAndTokenRequired=function(n){var i=n||{},o=i.bypassCache,s=o===void 0?!1:o;return s},t.fetchUserData=function(){var n=this;return this.createGetUserRequest().then(function(i){return n.cacheUserData(i),i})},t.deleteAttributes=function(n,i){var o=this;if(!(this.signInUserSession!=null&&this.signInUserSession.isValid()))return i(new Error("User is not authenticated"),null);this.client.request("DeleteUserAttributes",{UserAttributeNames:n,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(s){return s?i(s,null):o.getUserData(function(){return i(null,"SUCCESS")},{bypassCache:!0})})},t.resendConfirmationCode=function(n,i){var o={ClientId:this.pool.getClientId(),Username:this.username,ClientMetadata:i};this.client.request("ResendConfirmationCode",o,function(s,a){return s?n(s,null):n(null,a)})},t.getSession=function(n,i){if(i===void 0&&(i={}),this.username==null)return n(new Error("Username is null. Cannot retrieve a new session"),null);if(this.signInUserSession!=null&&this.signInUserSession.isValid())return n(null,this.signInUserSession);var o="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,s=o+".idToken",a=o+".accessToken",c=o+".refreshToken",u=o+".clockDrift";if(this.storage.getItem(s)){var l=new nf({IdToken:this.storage.getItem(s)}),f=new tf({AccessToken:this.storage.getItem(a)}),h=new of({RefreshToken:this.storage.getItem(c)}),v=parseInt(this.storage.getItem(u),0)||0,g={IdToken:l,AccessToken:f,RefreshToken:h,ClockDrift:v},w=new af(g);if(w.isValid())return this.signInUserSession=w,n(null,this.signInUserSession);if(!h.getToken())return n(new Error("Cannot retrieve a new session. Please authenticate."),null);this.refreshSession(h,n,i.clientMetadata)}else n(new Error("Local storage is missing an ID Token, Please authenticate"),null)},t.refreshSession=function(n,i,o){var s=this,a=this.pool.wrapRefreshSessionCallback?this.pool.wrapRefreshSessionCallback(i):i,c={};c.REFRESH_TOKEN=n.getToken();var u="CognitoIdentityServiceProvider."+this.pool.getClientId(),l=u+".LastAuthUser";if(this.storage.getItem(l)){this.username=this.storage.getItem(l);var f=u+"."+this.username+".deviceKey";this.deviceKey=this.storage.getItem(f),c.DEVICE_KEY=this.deviceKey}var h={ClientId:this.pool.getClientId(),AuthFlow:"REFRESH_TOKEN_AUTH",AuthParameters:c,ClientMetadata:o};this.getUserContextData()&&(h.UserContextData=this.getUserContextData()),this.client.request("InitiateAuth",h,function(v,g){if(v)return v.code==="NotAuthorizedException"&&s.clearCachedUser(),a(v,null);if(g){var w=g.AuthenticationResult;return Object.prototype.hasOwnProperty.call(w,"RefreshToken")||(w.RefreshToken=n.getToken()),s.signInUserSession=s.getCognitoUserSession(w),s.cacheTokens(),a(null,s.signInUserSession)}})},t.cacheTokens=function(){var n="CognitoIdentityServiceProvider."+this.pool.getClientId(),i=n+"."+this.username+".idToken",o=n+"."+this.username+".accessToken",s=n+"."+this.username+".refreshToken",a=n+"."+this.username+".clockDrift",c=n+".LastAuthUser";this.storage.setItem(i,this.signInUserSession.getIdToken().getJwtToken()),this.storage.setItem(o,this.signInUserSession.getAccessToken().getJwtToken()),this.storage.setItem(s,this.signInUserSession.getRefreshToken().getToken()),this.storage.setItem(a,""+this.signInUserSession.getClockDrift()),this.storage.setItem(c,this.username)},t.cacheUserData=function(n){this.storage.setItem(this.userDataKey,JSON.stringify(n))},t.clearCachedUserData=function(){this.storage.removeItem(this.userDataKey)},t.clearCachedUser=function(){this.clearCachedTokens(),this.clearCachedUserData()},t.cacheDeviceKeyAndPassword=function(){var n="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,i=n+".deviceKey",o=n+".randomPasswordKey",s=n+".deviceGroupKey";this.storage.setItem(i,this.deviceKey),this.storage.setItem(o,this.randomPassword),this.storage.setItem(s,this.deviceGroupKey)},t.getCachedDeviceKeyAndPassword=function(){var n="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,i=n+".deviceKey",o=n+".randomPasswordKey",s=n+".deviceGroupKey";this.storage.getItem(i)&&(this.deviceKey=this.storage.getItem(i),this.randomPassword=this.storage.getItem(o),this.deviceGroupKey=this.storage.getItem(s))},t.clearCachedDeviceKeyAndPassword=function(){var n="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,i=n+".deviceKey",o=n+".randomPasswordKey",s=n+".deviceGroupKey";this.storage.removeItem(i),this.storage.removeItem(o),this.storage.removeItem(s)},t.clearCachedTokens=function(){var n="CognitoIdentityServiceProvider."+this.pool.getClientId(),i=n+"."+this.username+".idToken",o=n+"."+this.username+".accessToken",s=n+"."+this.username+".refreshToken",a=n+".LastAuthUser",c=n+"."+this.username+".clockDrift";this.storage.removeItem(i),this.storage.removeItem(o),this.storage.removeItem(s),this.storage.removeItem(a),this.storage.removeItem(c)},t.getCognitoUserSession=function(n){var i=new nf(n),o=new tf(n),s=new of(n),a={IdToken:i,AccessToken:o,RefreshToken:s};return new af(a)},t.forgotPassword=function(n,i){var o={ClientId:this.pool.getClientId(),Username:this.username,ClientMetadata:i};this.getUserContextData()&&(o.UserContextData=this.getUserContextData()),this.client.request("ForgotPassword",o,function(s,a){return s?n.onFailure(s):typeof n.inputVerificationCode=="function"?n.inputVerificationCode(a):n.onSuccess(a)})},t.confirmPassword=function(n,i,o,s){var a={ClientId:this.pool.getClientId(),Username:this.username,ConfirmationCode:n,Password:i,ClientMetadata:s};this.getUserContextData()&&(a.UserContextData=this.getUserContextData()),this.client.request("ConfirmForgotPassword",a,function(c){return c?o.onFailure(c):o.onSuccess("SUCCESS")})},t.getAttributeVerificationCode=function(n,i,o){if(this.signInUserSession==null||!this.signInUserSession.isValid())return i.onFailure(new Error("User is not authenticated"));this.client.request("GetUserAttributeVerificationCode",{AttributeName:n,AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),ClientMetadata:o},function(s,a){return s?i.onFailure(s):typeof i.inputVerificationCode=="function"?i.inputVerificationCode(a):i.onSuccess("SUCCESS")})},t.verifyAttribute=function(n,i,o){if(this.signInUserSession==null||!this.signInUserSession.isValid())return o.onFailure(new Error("User is not authenticated"));this.client.request("VerifyUserAttribute",{AttributeName:n,Code:i,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(s){return s?o.onFailure(s):o.onSuccess("SUCCESS")})},t.getDevice=function(n){if(this.signInUserSession==null||!this.signInUserSession.isValid())return n.onFailure(new Error("User is not authenticated"));this.client.request("GetDevice",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:this.deviceKey},function(i,o){return i?n.onFailure(i):n.onSuccess(o)})},t.forgetSpecificDevice=function(n,i){if(this.signInUserSession==null||!this.signInUserSession.isValid())return i.onFailure(new Error("User is not authenticated"));this.client.request("ForgetDevice",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:n},function(o){return o?i.onFailure(o):i.onSuccess("SUCCESS")})},t.forgetDevice=function(n){var i=this;this.forgetSpecificDevice(this.deviceKey,{onFailure:n.onFailure,onSuccess:function(s){return i.deviceKey=null,i.deviceGroupKey=null,i.randomPassword=null,i.clearCachedDeviceKeyAndPassword(),n.onSuccess(s)}})},t.setDeviceStatusRemembered=function(n){if(this.signInUserSession==null||!this.signInUserSession.isValid())return n.onFailure(new Error("User is not authenticated"));this.client.request("UpdateDeviceStatus",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:this.deviceKey,DeviceRememberedStatus:"remembered"},function(i){return i?n.onFailure(i):n.onSuccess("SUCCESS")})},t.setDeviceStatusNotRemembered=function(n){if(this.signInUserSession==null||!this.signInUserSession.isValid())return n.onFailure(new Error("User is not authenticated"));this.client.request("UpdateDeviceStatus",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:this.deviceKey,DeviceRememberedStatus:"not_remembered"},function(i){return i?n.onFailure(i):n.onSuccess("SUCCESS")})},t.listDevices=function(n,i,o){if(this.signInUserSession==null||!this.signInUserSession.isValid())return o.onFailure(new Error("User is not authenticated"));var s={AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),Limit:n};i&&(s.PaginationToken=i),this.client.request("ListDevices",s,function(a,c){return a?o.onFailure(a):o.onSuccess(c)})},t.globalSignOut=function(n){var i=this;if(this.signInUserSession==null||!this.signInUserSession.isValid())return n.onFailure(new Error("User is not authenticated"));this.client.request("GlobalSignOut",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(o){return o?n.onFailure(o):(i.clearCachedUser(),n.onSuccess("SUCCESS"))})},t.signOut=function(n){var i=this;if(!n||typeof n!="function"){this.cleanClientData();return}this.getSession(function(o,s){if(o)return n(o);i.revokeTokens(function(a){i.cleanClientData(),n(a)})})},t.revokeTokens=function(n){if(n===void 0&&(n=function(){}),typeof n!="function")throw new Error("Invalid revokeTokenCallback. It should be a function.");if(!this.signInUserSession){var i=new Error("User is not authenticated");return n(i)}if(!this.signInUserSession.getAccessToken()){var o=new Error("No Access token available");return n(o)}var s=this.signInUserSession.getRefreshToken().getToken(),a=this.signInUserSession.getAccessToken();if(this.isSessionRevocable(a)&&s)return this.revokeToken({token:s,callback:n});n()},t.isSessionRevocable=function(n){if(n&&typeof n.decodePayload=="function")try{var i=n.decodePayload(),o=i.origin_jti;return!!o}catch{}return!1},t.cleanClientData=function(){this.signInUserSession=null,this.clearCachedUser()},t.revokeToken=function(n){var i=n.token,o=n.callback;this.client.requestWithRetry("RevokeToken",{Token:i,ClientId:this.pool.getClientId()},function(s){if(s)return o(s);o()})},t.sendMFASelectionAnswer=function(n,i){var o=this,s={};s.USERNAME=this.username,s.ANSWER=n;var a={ChallengeName:"SELECT_MFA_TYPE",ChallengeResponses:s,ClientId:this.pool.getClientId(),Session:this.Session};this.getUserContextData()&&(a.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",a,function(c,u){if(c)return i.onFailure(c);if(o.Session=u.Session,n==="SMS_MFA")return i.mfaRequired(u.ChallengeName,u.ChallengeParameters);if(n==="SOFTWARE_TOKEN_MFA")return i.totpRequired(u.ChallengeName,u.ChallengeParameters)})},t.getUserContextData=function(){var n=this.pool;return n.getUserContextData(this.username)},t.associateSoftwareToken=function(n){var i=this;this.signInUserSession!=null&&this.signInUserSession.isValid()?this.client.request("AssociateSoftwareToken",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(o,s){return o?n.onFailure(o):n.associateSecretCode(s.SecretCode)}):this.client.request("AssociateSoftwareToken",{Session:this.Session},function(o,s){return o?n.onFailure(o):(i.Session=s.Session,n.associateSecretCode(s.SecretCode))})},t.verifySoftwareToken=function(n,i,o){var s=this;this.signInUserSession!=null&&this.signInUserSession.isValid()?this.client.request("VerifySoftwareToken",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),UserCode:n,FriendlyDeviceName:i},function(a,c){return a?o.onFailure(a):o.onSuccess(c)}):this.client.request("VerifySoftwareToken",{Session:this.Session,UserCode:n,FriendlyDeviceName:i},function(a,c){if(a)return o.onFailure(a);s.Session=c.Session;var u={};u.USERNAME=s.username;var l={ChallengeName:"MFA_SETUP",ClientId:s.pool.getClientId(),ChallengeResponses:u,Session:s.Session};s.getUserContextData()&&(l.UserContextData=s.getUserContextData()),s.client.request("RespondToAuthChallenge",l,function(f,h){return f?o.onFailure(f):(s.signInUserSession=s.getCognitoUserSession(h.AuthenticationResult),s.cacheTokens(),o.onSuccess(s.signInUserSession))})})},e}();function y2(e,t){return t=t||{},new Promise(function(r,n){var i=new XMLHttpRequest,o=[],s=[],a={},c=function(){return{ok:(i.status/100|0)==2,statusText:i.statusText,status:i.status,url:i.responseURL,text:function(){return Promise.resolve(i.responseText)},json:function(){return Promise.resolve(i.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([i.response]))},clone:c,headers:{keys:function(){return o},entries:function(){return s},get:function(l){return a[l.toLowerCase()]},has:function(l){return l.toLowerCase()in a}}}};for(var u in i.open(t.method||"get",e,!0),i.onload=function(){i.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,function(l,f,h){o.push(f=f.toLowerCase()),s.push([f,h]),a[f]=a[f]?a[f]+","+h:h}),r(c())},i.onerror=n,i.withCredentials=t.credentials=="include",t.headers)i.setRequestHeader(u,t.headers[u]);i.send(t.body||null)})}var b2=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:y2}),tg=Lu(b2);self.fetch||(self.fetch=tg.default||tg);var w2="5.0.4",cf="aws-amplify/"+w2,ni={userAgent:cf+" js",product:"",navigator:null,isReactNative:!1};if(typeof navigator!="undefined"&&navigator.product)switch(ni.product=navigator.product||"",ni.navigator=navigator||null,navigator.product){case"ReactNative":ni.userAgent=cf+" react-native",ni.isReactNative=!0;break;default:ni.userAgent=cf+" js",ni.isReactNative=!1;break}var _2=function(){return ni.userAgent};function fb(){}fb.prototype.userAgent=_2();function S2(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,bs(e,t)}function lf(e){var t=typeof Map=="function"?new Map:void 0;return lf=function(n){if(n===null||!A2(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(typeof t!="undefined"){if(t.has(n))return t.get(n);t.set(n,i)}function i(){return Sa(n,arguments,ff(this).constructor)}return i.prototype=Object.create(n.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),bs(i,n)},lf(e)}function Sa(e,t,r){return E2()?Sa=Reflect.construct:Sa=function(i,o,s){var a=[null];a.push.apply(a,o);var c=Function.bind.apply(i,a),u=new c;return s&&bs(u,s.prototype),u},Sa.apply(null,arguments)}function E2(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function A2(e){return Function.toString.call(e).indexOf("[native code]")!==-1}function bs(e,t){return bs=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},bs(e,t)}function ff(e){return ff=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},ff(e)}var T2=function(e){S2(t,e);function t(r,n,i,o){var s;return s=e.call(this,r)||this,s.code=n,s.name=i,s.statusCode=o,s}return t}(lf(Error)),I2=function(){function e(r,n,i){this.endpoint=n||"https://cognito-idp."+r+".amazonaws.com/";var o=i||{},s=o.credentials;this.fetchOptions=s?{credentials:s}:{}}var t=e.prototype;return t.promisifyRequest=function(n,i){var o=this;return new Promise(function(s,a){o.request(n,i,function(c,u){c?a(new T2(c.message,c.code,c.name,c.statusCode)):s(u)})})},t.requestWithRetry=function(n,i,o){var s=this,a=5*1e3;P2(function(c){return new Promise(function(u,l){s.request(n,c,function(f,h){f?l(f):u(h)})})},[i],a).then(function(c){return o(null,c)}).catch(function(c){return o(c)})},t.request=function(n,i,o){var s={"Content-Type":"application/x-amz-json-1.1","X-Amz-Target":"AWSCognitoIdentityProviderService."+n,"X-Amz-User-Agent":fb.prototype.userAgent},a=Object.assign({},this.fetchOptions,{headers:s,method:"POST",mode:"cors",cache:"no-cache",body:JSON.stringify(i)}),c;fetch(this.endpoint,a).then(function(u){return c=u,u},function(u){throw u instanceof TypeError?new Error("Network error"):u}).then(function(u){return u.json().catch(function(){return{}})}).then(function(u){if(c.ok)return o(null,u);var l=(u.__type||u.code).split("#").pop(),f=new Error(u.message||u.Message||null);return f.name=l,f.code=l,o(f)}).catch(function(u){if(c&&c.headers&&c.headers.get("x-amzn-errortype"))try{var l=c.headers.get("x-amzn-errortype").split(":")[0],f=new Error(c.status?c.status.toString():null);return f.code=l,f.name=l,f.statusCode=c.status,o(f)}catch{return o(u)}else u instanceof Error&&u.message==="Network error"&&(u.code="NetworkError");return o(u)})},e}(),Xs={debug:function(){}},x2=function(t){var r="nonRetryable";return t&&t[r]};function hb(e,t,r,n){if(n===void 0&&(n=1),typeof e!="function")throw Error("functionToRetry must be a function");return Xs.debug(e.name+" attempt #"+n+" with args: "+JSON.stringify(t)),e.apply(void 0,t).catch(function(i){if(Xs.debug("error on "+e.name,i),x2(i))throw Xs.debug(e.name+" non retryable error",i),i;var o=r(n,t,i);if(Xs.debug(e.name+" retrying in "+o+" ms"),o!==!1)return new Promise(function(s){return setTimeout(s,o)}).then(function(){return hb(e,t,r,n+1)});throw i})}function C2(e){var t=100,r=100;return function(n){var i=Math.pow(2,n)*t+r*Math.random();return i>e?!1:i}}var O2=5*60*1e3;function P2(e,t,r){return r===void 0&&(r=O2),hb(e,t,C2(r))}/*!
 * Copyright 2016 Amazon.com,
 * Inc. or its affiliates. All Rights Reserved.
 *
 * Licensed under the Amazon Software License (the "License").
 * You may not use this file except in compliance with the
 * License. A copy of the License is located at
 *
 *     http://aws.amazon.com/asl/
 *
 * or in the "license" file accompanying this file. This file is
 * distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR
 * CONDITIONS OF ANY KIND, express or implied. See the License
 * for the specific language governing permissions and
 * limitations under the License.
 */var N2=55,R2=function(){function e(r,n){var i=r||{},o=i.UserPoolId,s=i.ClientId,a=i.endpoint,c=i.fetchOptions,u=i.AdvancedSecurityDataCollectionFlag;if(!o||!s)throw new Error("Both UserPoolId and ClientId are required.");if(o.length>N2||!/^[\w-]+_[0-9a-zA-Z]+$/.test(o))throw new Error("Invalid UserPoolId format.");var l=o.split("_")[0];this.userPoolId=o,this.clientId=s,this.client=new I2(l,a,c),this.advancedSecurityDataCollectionFlag=u!==!1,this.storage=r.Storage||new lb().getStorage(),n&&(this.wrapRefreshSessionCallback=n)}var t=e.prototype;return t.getUserPoolId=function(){return this.userPoolId},t.getClientId=function(){return this.clientId},t.signUp=function(n,i,o,s,a,c){var u=this,l={ClientId:this.clientId,Username:n,Password:i,UserAttributes:o,ValidationData:s,ClientMetadata:c};this.getUserContextData(n)&&(l.UserContextData=this.getUserContextData(n)),this.client.request("SignUp",l,function(f,h){if(f)return a(f,null);var v={Username:n,Pool:u,Storage:u.storage},g={user:new uf(v),userConfirmed:h.UserConfirmed,userSub:h.UserSub,codeDeliveryDetails:h.CodeDeliveryDetails};return a(null,g)})},t.getCurrentUser=function(){var n="CognitoIdentityServiceProvider."+this.clientId+".LastAuthUser",i=this.storage.getItem(n);if(i){var o={Username:i,Pool:this,Storage:this.storage};return new uf(o)}return null},t.getUserContextData=function(n){if(typeof AmazonCognitoAdvancedSecurityData!="undefined"){var i=AmazonCognitoAdvancedSecurityData;if(this.advancedSecurityDataCollectionFlag){var o=i.getData(n,this.userPoolId,this.clientId);if(o){var s={EncodedData:o};return s}}return{}}},e}(),Wi={exports:{}};/*!
 * JavaScript Cookie v2.2.1
 * https://github.com/js-cookie/js-cookie
 *
 * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
 * Released under the MIT license
 */(function(e,t){(function(r){var n;if(e.exports=r(),n=!0,!n){var i=window.Cookies,o=window.Cookies=r();o.noConflict=function(){return window.Cookies=i,o}}})(function(){function r(){for(var o=0,s={};o<arguments.length;o++){var a=arguments[o];for(var c in a)s[c]=a[c]}return s}function n(o){return o.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}function i(o){function s(){}function a(u,l,f){if(typeof document!="undefined"){f=r({path:"/"},s.defaults,f),typeof f.expires=="number"&&(f.expires=new Date(new Date*1+f.expires*864e5)),f.expires=f.expires?f.expires.toUTCString():"";try{var h=JSON.stringify(l);/^[\{\[]/.test(h)&&(l=h)}catch{}l=o.write?o.write(l,u):encodeURIComponent(String(l)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),u=encodeURIComponent(String(u)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var v="";for(var g in f)!f[g]||(v+="; "+g,f[g]!==!0&&(v+="="+f[g].split(";")[0]));return document.cookie=u+"="+l+v}}function c(u,l){if(typeof document!="undefined"){for(var f={},h=document.cookie?document.cookie.split("; "):[],v=0;v<h.length;v++){var g=h[v].split("="),w=g.slice(1).join("=");!l&&w.charAt(0)==='"'&&(w=w.slice(1,-1));try{var y=n(g[0]);if(w=(o.read||o)(w,y)||n(w),l)try{w=JSON.parse(w)}catch{}if(f[y]=w,u===y)break}catch{}}return u?f[u]:f}}return s.set=a,s.get=function(u){return c(u,!1)},s.getJSON=function(u){return c(u,!0)},s.remove=function(u,l){a(u,"",r(l,{expires:-1}))},s.defaults={},s.withConverter=i,s}return i(function(){})})})(Wi);var M2=function(){function e(r){if(r.domain)this.domain=r.domain;else throw new Error("The domain of cookieStorage can not be undefined.");if(r.path?this.path=r.path:this.path="/",Object.prototype.hasOwnProperty.call(r,"expires")?this.expires=r.expires:this.expires=365,Object.prototype.hasOwnProperty.call(r,"secure")?this.secure=r.secure:this.secure=!0,Object.prototype.hasOwnProperty.call(r,"sameSite")){if(!["strict","lax","none"].includes(r.sameSite))throw new Error('The sameSite value of cookieStorage must be "lax", "strict" or "none".');if(r.sameSite==="none"&&!this.secure)throw new Error("sameSite = None requires the Secure attribute in latest browser versions.");this.sameSite=r.sameSite}else this.sameSite=null}var t=e.prototype;return t.setItem=function(n,i){var o={path:this.path,expires:this.expires,domain:this.domain,secure:this.secure};return this.sameSite&&(o.sameSite=this.sameSite),Wi.exports.set(n,i,o),Wi.exports.get(n)},t.getItem=function(n){return Wi.exports.get(n)},t.removeItem=function(n){var i={path:this.path,expires:this.expires,domain:this.domain,secure:this.secure};return this.sameSite&&(i.sameSite=this.sameSite),Wi.exports.remove(n,i)},t.clear=function(){for(var n=Wi.exports.get(),i=Object.keys(n).length,o=0;o<i;++o)this.removeItem(Object.keys(n)[o]);return{}},e}(),k2="_self",D2=function(e){var t=window.open(e,k2);return t?Promise.resolve(t):Promise.reject()},U2=function(e){window.sessionStorage.setItem("oauth_state",e)},F2=function(){var e=window.sessionStorage.getItem("oauth_state");return window.sessionStorage.removeItem("oauth_state"),e},L2=function(e){window.sessionStorage.setItem("ouath_pkce_key",e)},B2=function(){var e=window.sessionStorage.getItem("ouath_pkce_key");return window.sessionStorage.removeItem("ouath_pkce_key"),e},yt=globalThis&&globalThis.__assign||function(){return yt=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},yt.apply(this,arguments)},Zs=globalThis&&globalThis.__awaiter||function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(f){s(f)}}function c(l){try{u(n.throw(l))}catch(f){s(f)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(e,t||[])).next())})},ea=globalThis&&globalThis.__generator||function(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(l){return c([u,l])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){r.label=u[1];break}if(u[0]===6&&r.label<o[1]){r.label=o[1],o=u;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(u);break}o[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(l){u=[6,l],i=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},Wn=globalThis&&globalThis.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return o},j2=typeof Symbol!="undefined"&&typeof Symbol.for=="function"?Symbol.for("amplify_default"):"@@amplify_default",Fc=function(e,t,r){zt.dispatch("auth",{event:e,data:t,message:r},"Auth",j2)},Ni=new Ae("OAuth"),q2=function(){function e(t){var r=t.config,n=t.cognitoClientId,i=t.scopes,o=i===void 0?[]:i;if(this._urlOpener=r.urlOpener||D2,this._config=r,this._cognitoClientId=n,!this.isValidScopes(o))throw Error("scopes must be a String Array");this._scopes=o}return e.prototype.isValidScopes=function(t){return Array.isArray(t)&&t.every(function(r){return typeof r=="string"})},e.prototype.oauthSignIn=function(t,r,n,i,o,s){t===void 0&&(t="code"),o===void 0&&(o=Ja.Cognito);var a=this._generateState(32),c=s?a+"-"+xA(s):a;U2(c);var u=this._generateRandom(128);L2(u);var l=this._generateChallenge(u),f="S256",h=this._scopes.join(" "),v=Object.entries(yt(yt({redirect_uri:n,response_type:t,client_id:i,identity_provider:o,scope:h,state:c},t==="code"?{code_challenge:l}:{}),t==="code"?{code_challenge_method:f}:{})).map(function(w){var y=Wn(w,2),b=y[0],_=y[1];return encodeURIComponent(b)+"="+encodeURIComponent(_)}).join("&"),g="https://"+r+"/oauth2/authorize?"+v;Ni.debug("Redirecting to "+g),this._urlOpener(g,n)},e.prototype._handleCodeFlow=function(t){return Zs(this,void 0,void 0,function(){var r,n,i,o,s,a,c,u,l,f,h,v,g,w;return ea(this,function(y){switch(y.label){case 0:return r=(Ft(t).query||"").split("&").map(function(b){return b.split("=")}).reduce(function(b,_){var T,A=Wn(_,2),x=A[0],R=A[1];return yt(yt({},b),(T={},T[x]=R,T))},{code:void 0}).code,n=Ft(t).pathname||"/",i=Ft(this._config.redirectSignIn).pathname||"/",!r||n!==i?[2]:(o="https://"+this._config.domain+"/oauth2/token",Fc("codeFlow",{},"Retrieving tokens from "+o),s=ci(this._config)?this._cognitoClientId:this._config.clientID,a=ci(this._config)?this._config.redirectSignIn:this._config.redirectUri,c=B2(),u=yt({grant_type:"authorization_code",code:r,client_id:s,redirect_uri:a},c?{code_verifier:c}:{}),Ni.debug("Calling token endpoint: "+o+" with",u),l=Object.entries(u).map(function(b){var _=Wn(b,2),T=_[0],A=_[1];return encodeURIComponent(T)+"="+encodeURIComponent(A)}).join("&"),[4,fetch(o,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:l})]);case 1:return[4,y.sent().json()];case 2:if(f=y.sent(),h=f.access_token,v=f.refresh_token,g=f.id_token,w=f.error,w)throw new Error(w);return[2,{accessToken:h,refreshToken:v,idToken:g}]}})})},e.prototype._handleImplicitFlow=function(t){return Zs(this,void 0,void 0,function(){var r,n,i;return ea(this,function(o){return r=(Ft(t).hash||"#").substr(1).split("&").map(function(s){return s.split("=")}).reduce(function(s,a){var c,u=Wn(a,2),l=u[0],f=u[1];return yt(yt({},s),(c={},c[l]=f,c))},{id_token:void 0,access_token:void 0}),n=r.id_token,i=r.access_token,Fc("implicitFlow",{},"Got tokens from "+t),Ni.debug("Retrieving implicit tokens from "+t+" with"),[2,{accessToken:i,idToken:n,refreshToken:null}]})})},e.prototype.handleAuthResponse=function(t){return Zs(this,void 0,void 0,function(){var r,n,i,o,s,a,c;return ea(this,function(u){switch(u.label){case 0:if(u.trys.push([0,5,,6]),r=t?yt(yt({},(Ft(t).hash||"#").substr(1).split("&").map(function(l){return l.split("=")}).reduce(function(l,f){var h=Wn(f,2),v=h[0],g=h[1];return l[v]=g,l},{})),(Ft(t).query||"").split("&").map(function(l){return l.split("=")}).reduce(function(l,f){var h=Wn(f,2),v=h[0],g=h[1];return l[v]=g,l},{})):{},n=r.error,i=r.error_description,n)throw new Error(i);return o=this._validateState(r),Ni.debug("Starting "+this._config.responseType+" flow with "+t),this._config.responseType!=="code"?[3,2]:(s=[{}],[4,this._handleCodeFlow(t)]);case 1:return[2,yt.apply(void 0,[yt.apply(void 0,s.concat([u.sent()])),{state:o}])];case 2:return a=[{}],[4,this._handleImplicitFlow(t)];case 3:return[2,yt.apply(void 0,[yt.apply(void 0,a.concat([u.sent()])),{state:o}])];case 4:return[3,6];case 5:throw c=u.sent(),Ni.error("Error handling auth response.",c),c;case 6:return[2]}})})},e.prototype._validateState=function(t){if(!!t){var r=F2(),n=t.state;if(r&&r!==n)throw new Error("Invalid state in OAuth flow");return n}},e.prototype.signOut=function(){return Zs(this,void 0,void 0,function(){var t,r,n;return ea(this,function(i){return t="https://"+this._config.domain+"/logout?",r=ci(this._config)?this._cognitoClientId:this._config.oauth.clientID,n=ci(this._config)?this._config.redirectSignOut:this._config.returnTo,t+=Object.entries({client_id:r,logout_uri:encodeURIComponent(n)}).map(function(o){var s=Wn(o,2),a=s[0],c=s[1];return a+"="+c}).join("&"),Fc("oAuthSignOut",{oAuth:"signOut"},"Signing out from "+t),Ni.debug("Signing out from "+t),[2,this._urlOpener(t,n)]})})},e.prototype._generateState=function(t){for(var r="",n=t,i="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";n>0;--n)r+=i[Math.round(Math.random()*(i.length-1))];return r},e.prototype._generateChallenge=function(t){return this._base64URL(ib(t))},e.prototype._base64URL=function(t){return t.toString(sf).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")},e.prototype._generateRandom=function(t){var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=new Uint8Array(t);if(typeof window!="undefined"&&!!window.crypto)window.crypto.getRandomValues(n);else for(var i=0;i<t;i+=1)n[i]=Math.random()*r.length|0;return this._bufferToString(n)},e.prototype._bufferToString=function(t){for(var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=[],i=0;i<t.byteLength;i+=1){var o=t[i]%r.length;n.push(r[o])}return n.join("")},e}(),$2=q2,K2=function(e){if(vs.browserOrNode().isBrowser&&window.location){var t=window.location.href;e({url:t})}else if(!vs.browserOrNode().isNode)throw new Error("Not supported")},ut;(function(e){e.DEFAULT_MSG="Authentication Error",e.EMPTY_EMAIL="Email cannot be empty",e.EMPTY_PHONE="Phone number cannot be empty",e.EMPTY_USERNAME="Username cannot be empty",e.INVALID_USERNAME="The username should either be a string or one of the sign in types",e.EMPTY_PASSWORD="Password cannot be empty",e.EMPTY_CODE="Confirmation code cannot be empty",e.SIGN_UP_ERROR="Error creating account",e.NO_MFA="No valid MFA method provided",e.INVALID_MFA="Invalid MFA type",e.EMPTY_CHALLENGE="Challenge response cannot be empty",e.NO_USER_SESSION="Failed to get the session because the user is empty",e.NETWORK_ERROR="Network Error",e.DEVICE_CONFIG="Device tracking has not been configured in this User Pool"})(ut||(ut={}));var db=globalThis&&globalThis.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),H2=new Ae("AuthError"),_n=function(e){db(t,e);function t(r){var n=this,i=z2[r],o=i.message,s=i.log;return n=e.call(this,o)||this,n.constructor=t,Object.setPrototypeOf(n,t.prototype),n.name="AuthError",n.log=s||o,H2.error(n.log),n}return t}(Error),V2=function(e){db(t,e);function t(r){var n=e.call(this,r)||this;return n.constructor=t,Object.setPrototypeOf(n,t.prototype),n.name="NoUserPoolError",n}return t}(_n),z2={noConfig:{message:ut.DEFAULT_MSG,log:`
            Error: Amplify has not been configured correctly.
            This error is typically caused by one of the following scenarios:

            1. Make sure you're passing the awsconfig object to Amplify.configure() in your app's entry point
                See https://aws-amplify.github.io/docs/js/authentication#configure-your-app for more information
            
            2. There might be multiple conflicting versions of amplify packages in your node_modules.
				Refer to our docs site for help upgrading Amplify packages (https://docs.amplify.aws/lib/troubleshooting/upgrading/q/platform/js)
        `},missingAuthConfig:{message:ut.DEFAULT_MSG,log:`
            Error: Amplify has not been configured correctly. 
            The configuration object is missing required auth properties.
            This error is typically caused by one of the following scenarios:

            1. Did you run \`amplify push\` after adding auth via \`amplify add auth\`?
                See https://aws-amplify.github.io/docs/js/authentication#amplify-project-setup for more information

            2. This could also be caused by multiple conflicting versions of amplify packages, see (https://docs.amplify.aws/lib/troubleshooting/upgrading/q/platform/js) for help upgrading Amplify packages.
        `},emptyUsername:{message:ut.EMPTY_USERNAME},invalidUsername:{message:ut.INVALID_USERNAME},emptyPassword:{message:ut.EMPTY_PASSWORD},emptyCode:{message:ut.EMPTY_CODE},signUpError:{message:ut.SIGN_UP_ERROR,log:"The first parameter should either be non-null string or object"},noMFA:{message:ut.NO_MFA},invalidMFA:{message:ut.INVALID_MFA},emptyChallengeResponse:{message:ut.EMPTY_CHALLENGE},noUserSession:{message:ut.NO_USER_SESSION},deviceConfig:{message:ut.DEVICE_CONFIG},networkError:{message:ut.NETWORK_ERROR},default:{message:ut.DEFAULT_MSG}},su=globalThis&&globalThis.__assign||function(){return su=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},su.apply(this,arguments)},ze=globalThis&&globalThis.__awaiter||function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(f){s(f)}}function c(l){try{u(n.throw(l))}catch(f){s(f)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(e,t||[])).next())})},We=globalThis&&globalThis.__generator||function(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(l){return c([u,l])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){r.label=u[1];break}if(u[0]===6&&r.label<o[1]){r.label=o[1],o=u;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(u);break}o[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(l){u=[6,l],i=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},rg=globalThis&&globalThis.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return o},ue=new Ae("AuthClass"),ng="aws.cognito.signin.user.admin",W2=10*1e3,G2=typeof Symbol!="undefined"&&typeof Symbol.for=="function"?Symbol.for("amplify_default"):"@@amplify_default",Fe=function(e,t,r){zt.dispatch("auth",{event:e,data:t,message:r},"Auth",G2)},Y2=60,J2=function(){function e(t){var r=this;this.userPool=null,this.user=null,this.oAuthFlowInProgress=!1,this.Credentials=tn,this.wrapRefreshSessionCallback=function(n){var i=function(o,s){return s?Fe("tokenRefresh",void 0,"New token retrieved"):Fe("tokenRefresh_failure",o,"Failed to retrieve new token"),n(o,s)};return i},this.configure(t),this.currentCredentials=this.currentCredentials.bind(this),this.currentUserCredentials=this.currentUserCredentials.bind(this),zt.listen("auth",function(n){var i=n.payload,o=i.event;switch(o){case"signIn":r._storage.setItem("amplify-signin-with-hostedUI","false");break;case"signOut":r._storage.removeItem("amplify-signin-with-hostedUI");break;case"cognitoHostedUI":r._storage.setItem("amplify-signin-with-hostedUI","true");break}})}return e.prototype.getModuleName=function(){return"Auth"},e.prototype.configure=function(t){var r=this;if(!t)return this._config||{};ue.debug("configure Auth");var n=Object.assign({},this._config,FA.parseMobilehubConfig(t).Auth,t);this._config=n;var i=this._config,o=i.userPoolId,s=i.userPoolWebClientId,a=i.cookieStorage,c=i.oauth,u=i.region,l=i.identityPoolId,f=i.mandatorySignIn,h=i.refreshHandlers,v=i.identityPoolRegion,g=i.clientMetadata,w=i.endpoint;if(!this._config.storage)a?this._storage=new M2(a):this._storage=t.ssr?new cO:new Uh().getStorage();else{if(!this._isValidAuthStorage(this._config.storage))throw ue.error("The storage in the Auth config is not valid!"),new Error("Empty storage object");this._storage=this._config.storage}if(this._storageSync=Promise.resolve(),typeof this._storage.sync=="function"&&(this._storageSync=this._storage.sync()),o){var y={UserPoolId:o,ClientId:s,endpoint:w};y.Storage=this._storage,this.userPool=new R2(y,this.wrapRefreshSessionCallback)}this.Credentials.configure({mandatorySignIn:f,region:v||u,userPoolId:o,identityPoolId:l,refreshHandlers:h,storage:this._storage});var b=c?ci(this._config.oauth)?c:c.awsCognito:void 0;if(b){var _=Object.assign({cognitoClientId:s,UserPoolId:o,domain:b.domain,scopes:b.scope,redirectSignIn:b.redirectSignIn,redirectSignOut:b.redirectSignOut,responseType:b.responseType,Storage:this._storage,urlOpener:b.urlOpener,clientMetadata:g},b.options);this._oAuthHandler=new $2({scopes:_.scopes,config:_,cognitoClientId:_.cognitoClientId});var T={};K2(function(A){var x=A.url;T[x]||(T[x]=!0,r._handleAuthResponse(x))})}return Fe("configured",null,"The Auth category has been configured successfully"),this._config},e.prototype.signUp=function(t){for(var r=this,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];if(!this.userPool)return this.rejectNoUserPool();var o=null,s=null,a=[],c=null,u;if(t&&typeof t=="string"){o=t,s=n?n[0]:null;var l=n?n[1]:null,f=n?n[2]:null;l&&a.push(new zi({Name:"email",Value:l})),f&&a.push(new zi({Name:"phone_number",Value:f}))}else if(t&&typeof t=="object"){o=t.username,s=t.password,t&&t.clientMetadata?u=t.clientMetadata:this._config.clientMetadata&&(u=this._config.clientMetadata);var h=t.attributes;h&&Object.keys(h).map(function(g){a.push(new zi({Name:g,Value:h[g]}))});var v=t.validationData;v&&(c=[],Object.keys(v).map(function(g){c.push(new zi({Name:g,Value:v[g]}))}))}else return this.rejectAuthError(Pe.SignUpError);return o?s?(ue.debug("signUp attrs:",a),ue.debug("signUp validation data:",c),new Promise(function(g,w){r.userPool.signUp(o,s,a,c,function(y,b){y?(Fe("signUp_failure",y,o+" failed to signup"),w(y)):(Fe("signUp",b,o+" has signed up successfully"),g(b))},u)})):this.rejectAuthError(Pe.EmptyPassword):this.rejectAuthError(Pe.EmptyUsername)},e.prototype.confirmSignUp=function(t,r,n){if(!this.userPool)return this.rejectNoUserPool();if(!t)return this.rejectAuthError(Pe.EmptyUsername);if(!r)return this.rejectAuthError(Pe.EmptyCode);var i=this.createCognitoUser(t),o=n&&typeof n.forceAliasCreation=="boolean"?n.forceAliasCreation:!0,s;return n&&n.clientMetadata?s=n.clientMetadata:this._config.clientMetadata&&(s=this._config.clientMetadata),new Promise(function(a,c){i.confirmRegistration(r,o,function(u,l){u?c(u):a(l)},s)})},e.prototype.resendSignUp=function(t,r){if(r===void 0&&(r=this._config.clientMetadata),!this.userPool)return this.rejectNoUserPool();if(!t)return this.rejectAuthError(Pe.EmptyUsername);var n=this.createCognitoUser(t);return new Promise(function(i,o){n.resendConfirmationCode(function(s,a){s?o(s):i(a)},r)})},e.prototype.signIn=function(t,r,n){if(n===void 0&&(n=this._config.clientMetadata),!this.userPool)return this.rejectNoUserPool();var i=null,o=null,s={};if(typeof t=="string")i=t,o=r;else if(pE(t))typeof r!="undefined"&&ue.warn("The password should be defined under the first parameter object!"),i=t.username,o=t.password,s=t.validationData;else return this.rejectAuthError(Pe.InvalidUsername);if(!i)return this.rejectAuthError(Pe.EmptyUsername);var a=new hO({Username:i,Password:o,ValidationData:s,ClientMetadata:n});return o?this.signInWithPassword(a):this.signInWithoutPassword(a)},e.prototype.authCallbacks=function(t,r,n){var i=this,o=this;return{onSuccess:function(s){return ze(i,void 0,void 0,function(){var a,c,u,l;return We(this,function(f){switch(f.label){case 0:ue.debug(s),delete t.challengeName,delete t.challengeParam,f.label=1;case 1:return f.trys.push([1,4,5,9]),[4,this.Credentials.clear()];case 2:return f.sent(),[4,this.Credentials.set(s,"session")];case 3:return a=f.sent(),ue.debug("succeed to get cognito credentials",a),[3,9];case 4:return c=f.sent(),ue.debug("cannot get cognito credentials",c),[3,9];case 5:return f.trys.push([5,7,,8]),[4,this.currentUserPoolUser()];case 6:return u=f.sent(),o.user=u,Fe("signIn",u,"A user "+t.getUsername()+" has been signed in"),r(u),[3,8];case 7:return l=f.sent(),ue.error("Failed to get the signed in user",l),n(l),[3,8];case 8:return[7];case 9:return[2]}})})},onFailure:function(s){ue.debug("signIn failure",s),Fe("signIn_failure",s,t.getUsername()+" failed to signin"),n(s)},customChallenge:function(s){ue.debug("signIn custom challenge answer required"),t.challengeName="CUSTOM_CHALLENGE",t.challengeParam=s,r(t)},mfaRequired:function(s,a){ue.debug("signIn MFA required"),t.challengeName=s,t.challengeParam=a,r(t)},mfaSetup:function(s,a){ue.debug("signIn mfa setup",s),t.challengeName=s,t.challengeParam=a,r(t)},newPasswordRequired:function(s,a){ue.debug("signIn new password"),t.challengeName="NEW_PASSWORD_REQUIRED",t.challengeParam={userAttributes:s,requiredAttributes:a},r(t)},totpRequired:function(s,a){ue.debug("signIn totpRequired"),t.challengeName=s,t.challengeParam=a,r(t)},selectMFAType:function(s,a){ue.debug("signIn selectMFAType",s),t.challengeName=s,t.challengeParam=a,r(t)}}},e.prototype.signInWithPassword=function(t){var r=this;if(this.pendingSignIn)throw new Error("Pending sign-in attempt already in progress");var n=this.createCognitoUser(t.getUsername());return this.pendingSignIn=new Promise(function(i,o){n.authenticateUser(t,r.authCallbacks(n,function(s){r.pendingSignIn=null,i(s)},function(s){r.pendingSignIn=null,o(s)}))}),this.pendingSignIn},e.prototype.signInWithoutPassword=function(t){var r=this,n=this.createCognitoUser(t.getUsername());return n.setAuthenticationFlowType("CUSTOM_AUTH"),new Promise(function(i,o){n.initiateAuth(t,r.authCallbacks(n,i,o))})},e.prototype.getMFAOptions=function(t){return new Promise(function(r,n){t.getMFAOptions(function(i,o){if(i){ue.debug("get MFA Options failed",i),n(i);return}ue.debug("get MFA options success",o),r(o)})})},e.prototype.getPreferredMFA=function(t,r){var n=this,i=this;return new Promise(function(o,s){var a=n._config.clientMetadata,c=r?r.bypassCache:!1;t.getUserData(function(u,l){if(u){ue.debug("getting preferred mfa failed",u),s(u);return}var f=i._getMfaTypeFromUserData(l);if(f){o(f);return}else{s("invalid MFA Type");return}},{bypassCache:c,clientMetadata:a})})},e.prototype._getMfaTypeFromUserData=function(t){var r=null,n=t.PreferredMfaSetting;if(n)r=n;else{var i=t.UserMFASettingList;if(i)i.length===0?r="NOMFA":ue.debug("invalid case for getPreferredMFA",t);else{var o=t.MFAOptions;o?r="SMS_MFA":r="NOMFA"}}return r},e.prototype._getUserData=function(t,r){return new Promise(function(n,i){t.getUserData(function(o,s){if(o){ue.debug("getting user data failed",o),i(o);return}else{n(s);return}},r)})},e.prototype.setPreferredMFA=function(t,r){return ze(this,void 0,void 0,function(){var n,i,o,s,a,c,u;return We(this,function(l){switch(l.label){case 0:return n=this._config.clientMetadata,[4,this._getUserData(t,{bypassCache:!0,clientMetadata:n})];case 1:switch(i=l.sent(),o=null,s=null,a=r,a){case"TOTP":return[3,2];case"SOFTWARE_TOKEN_MFA":return[3,2];case"SMS":return[3,3];case"SMS_MFA":return[3,3];case"NOMFA":return[3,4]}return[3,6];case 2:return s={PreferredMfa:!0,Enabled:!0},[3,7];case 3:return o={PreferredMfa:!0,Enabled:!0},[3,7];case 4:return c=i.UserMFASettingList,[4,this._getMfaTypeFromUserData(i)];case 5:if(u=l.sent(),u==="NOMFA")return[2,Promise.resolve("No change for mfa type")];if(u==="SMS_MFA")o={PreferredMfa:!1,Enabled:!1};else if(u==="SOFTWARE_TOKEN_MFA")s={PreferredMfa:!1,Enabled:!1};else return[2,this.rejectAuthError(Pe.InvalidMFA)];return c&&c.length!==0&&c.forEach(function(f){f==="SMS_MFA"?o={PreferredMfa:!1,Enabled:!1}:f==="SOFTWARE_TOKEN_MFA"&&(s={PreferredMfa:!1,Enabled:!1})}),[3,7];case 6:return ue.debug("no validmfa method provided"),[2,this.rejectAuthError(Pe.NoMFA)];case 7:return[2,new Promise(function(f,h){t.setUserMfaPreference(o,s,function(v,g){if(v)return ue.debug("Set user mfa preference error",v),h(v);ue.debug("Set user mfa success",g),ue.debug("Caching the latest user data into local"),t.getUserData(function(w,y){return w?(ue.debug("getting user data failed",w),h(w)):f(g)},{bypassCache:!0,clientMetadata:n})})})]}})})},e.prototype.disableSMS=function(t){return new Promise(function(r,n){t.disableMFA(function(i,o){if(i){ue.debug("disable mfa failed",i),n(i);return}ue.debug("disable mfa succeed",o),r(o)})})},e.prototype.enableSMS=function(t){return new Promise(function(r,n){t.enableMFA(function(i,o){if(i){ue.debug("enable mfa failed",i),n(i);return}ue.debug("enable mfa succeed",o),r(o)})})},e.prototype.setupTOTP=function(t){return new Promise(function(r,n){t.associateSoftwareToken({onFailure:function(i){ue.debug("associateSoftwareToken failed",i),n(i)},associateSecretCode:function(i){ue.debug("associateSoftwareToken sucess",i),r(i)}})})},e.prototype.verifyTotpToken=function(t,r){return ue.debug("verification totp token",t,r),new Promise(function(n,i){t.verifySoftwareToken(r,"My TOTP device",{onFailure:function(o){ue.debug("verifyTotpToken failed",o),i(o)},onSuccess:function(o){Fe("signIn",t,"A user "+t.getUsername()+" has been signed in"),ue.debug("verifyTotpToken success",o),n(o)}})})},e.prototype.confirmSignIn=function(t,r,n,i){var o=this;if(i===void 0&&(i=this._config.clientMetadata),!r)return this.rejectAuthError(Pe.EmptyCode);var s=this;return new Promise(function(a,c){t.sendMFACode(r,{onSuccess:function(u){return ze(o,void 0,void 0,function(){var l,f;return We(this,function(h){switch(h.label){case 0:ue.debug(u),h.label=1;case 1:return h.trys.push([1,4,5,6]),[4,this.Credentials.clear()];case 2:return h.sent(),[4,this.Credentials.set(u,"session")];case 3:return l=h.sent(),ue.debug("succeed to get cognito credentials",l),[3,6];case 4:return f=h.sent(),ue.debug("cannot get cognito credentials",f),[3,6];case 5:return s.user=t,Fe("signIn",t,"A user "+t.getUsername()+" has been signed in"),a(t),[7];case 6:return[2]}})})},onFailure:function(u){ue.debug("confirm signIn failure",u),c(u)}},n,i)})},e.prototype.completeNewPassword=function(t,r,n,i){var o=this;if(n===void 0&&(n={}),i===void 0&&(i=this._config.clientMetadata),!r)return this.rejectAuthError(Pe.EmptyPassword);var s=this;return new Promise(function(a,c){t.completeNewPasswordChallenge(r,n,{onSuccess:function(u){return ze(o,void 0,void 0,function(){var l,f;return We(this,function(h){switch(h.label){case 0:ue.debug(u),h.label=1;case 1:return h.trys.push([1,4,5,6]),[4,this.Credentials.clear()];case 2:return h.sent(),[4,this.Credentials.set(u,"session")];case 3:return l=h.sent(),ue.debug("succeed to get cognito credentials",l),[3,6];case 4:return f=h.sent(),ue.debug("cannot get cognito credentials",f),[3,6];case 5:return s.user=t,Fe("signIn",t,"A user "+t.getUsername()+" has been signed in"),a(t),[7];case 6:return[2]}})})},onFailure:function(u){ue.debug("completeNewPassword failure",u),Fe("completeNewPassword_failure",u,o.user+" failed to complete the new password flow"),c(u)},mfaRequired:function(u,l){ue.debug("signIn MFA required"),t.challengeName=u,t.challengeParam=l,a(t)},mfaSetup:function(u,l){ue.debug("signIn mfa setup",u),t.challengeName=u,t.challengeParam=l,a(t)},totpRequired:function(u,l){ue.debug("signIn mfa setup",u),t.challengeName=u,t.challengeParam=l,a(t)}},i)})},e.prototype.sendCustomChallengeAnswer=function(t,r,n){var i=this;return n===void 0&&(n=this._config.clientMetadata),this.userPool?r?new Promise(function(o,s){t.sendCustomChallengeAnswer(r,i.authCallbacks(t,o,s),n)}):this.rejectAuthError(Pe.EmptyChallengeResponse):this.rejectNoUserPool()},e.prototype.deleteUserAttributes=function(t,r){var n=this;return new Promise(function(i,o){n.userSession(t).then(function(s){t.deleteAttributes(r,function(a,c){return a?o(a):i(c)})})})},e.prototype.deleteUser=function(){return ze(this,void 0,void 0,function(){var t,r,n=this;return We(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,this._storageSync];case 1:return i.sent(),[3,3];case 2:throw t=i.sent(),ue.debug("Failed to sync cache info into memory",t),new Error(t);case 3:return r=this._oAuthHandler&&this._storage.getItem("amplify-signin-with-hostedUI")==="true",[2,new Promise(function(o,s){return ze(n,void 0,void 0,function(){var a,c=this;return We(this,function(u){if(this.userPool)if(a=this.userPool.getCurrentUser(),a)a.getSession(function(l,f){return ze(c,void 0,void 0,function(){var h=this;return We(this,function(v){return l?(ue.debug("Failed to get the user session",l),[2,s(l)]):(a.deleteUser(function(g,w){if(g)s(g);else{Fe("userDeleted",w,"The authenticated user has been deleted."),a.signOut(),h.user=null;try{h.cleanCachedItems()}catch{ue.debug("failed to clear cached items")}r?h.oAuthSignOutRedirect(o,s):(Fe("signOut",h.user,"A user has been signed out"),o(w))}}),[2])})})});else return ue.debug("Failed to get user from user pool"),[2,s(new Error("No current user."))];else ue.debug("no Congito User pool"),s(new Error("Cognito User pool does not exist"));return[2]})})})]}})})},e.prototype.updateUserAttributes=function(t,r,n){n===void 0&&(n=this._config.clientMetadata);var i=[],o=this;return new Promise(function(s,a){o.userSession(t).then(function(c){for(var u in r)if(u!=="sub"&&u.indexOf("_verified")<0){var l={Name:u,Value:r[u]};i.push(l)}t.updateAttributes(i,function(f,h){return f?a(f):s(h)},n)})})},e.prototype.userAttributes=function(t){var r=this;return new Promise(function(n,i){r.userSession(t).then(function(o){t.getUserAttributes(function(s,a){s?i(s):n(a)})})})},e.prototype.verifiedContact=function(t){var r=this;return this.userAttributes(t).then(function(n){var i=r.attributesToObject(n),o={},s={};return i.email&&(i.email_verified?s.email=i.email:o.email=i.email),i.phone_number&&(i.phone_number_verified?s.phone_number=i.phone_number:o.phone_number=i.phone_number),{verified:s,unverified:o}})},e.prototype.currentUserPoolUser=function(t){var r=this;return this.userPool?new Promise(function(n,i){r._storageSync.then(function(){return ze(r,void 0,void 0,function(){var o,s,a=this;return We(this,function(c){switch(c.label){case 0:return this.isOAuthInProgress()?(ue.debug("OAuth signIn in progress, waiting for resolution..."),[4,new Promise(function(u){var l=setTimeout(function(){ue.debug("OAuth signIn in progress timeout"),zt.remove("auth",f),u()},W2);zt.listen("auth",f);function f(h){var v=h.payload,g=v.event;(g==="cognitoHostedUI"||g==="cognitoHostedUI_failure")&&(ue.debug("OAuth signIn resolved: "+g),clearTimeout(l),zt.remove("auth",f),u())}})]):[3,2];case 1:c.sent(),c.label=2;case 2:return o=this.userPool.getCurrentUser(),o?(s=this._config.clientMetadata,o.getSession(function(u,l){return ze(a,void 0,void 0,function(){var f,h,v,g,w=this;return We(this,function(y){switch(y.label){case 0:return u?(ue.debug("Failed to get the user session",u),i(u),[2]):(f=t?t.bypassCache:!1,f?[4,this.Credentials.clear()]:[3,2]);case 1:y.sent(),y.label=2;case 2:if(h=this._config.clientMetadata,v=l.getAccessToken().decodePayload().scope,g=v===void 0?"":v,g.split(" ").includes(ng))o.getUserData(function(b,_){if(b){ue.debug("getting user data failed",b),b.message==="User is disabled."||b.message==="User does not exist."||b.message==="Access Token has been revoked"?i(b):n(o);return}for(var T=_.PreferredMfaSetting||"NOMFA",A=[],x=0;x<_.UserAttributes.length;x++){var R={Name:_.UserAttributes[x].Name,Value:_.UserAttributes[x].Value},k=new zi(R);A.push(k)}var U=w.attributesToObject(A);return Object.assign(o,{attributes:U,preferredMFA:T}),n(o)},{bypassCache:f,clientMetadata:h});else return ue.debug("Unable to get the user data because the "+ng+" is not in the scopes of the access token"),[2,n(o)];return[2]}})})},{clientMetadata:s}),[2]):(ue.debug("Failed to get user from user pool"),i("No current user"),[2])}})})}).catch(function(o){return ue.debug("Failed to sync cache info into memory",o),i(o)})}):this.rejectNoUserPool()},e.prototype.isOAuthInProgress=function(){return this.oAuthFlowInProgress},e.prototype.currentAuthenticatedUser=function(t){return ze(this,void 0,void 0,function(){var r,n,i,o,s;return We(this,function(a){switch(a.label){case 0:ue.debug("getting current authenticated user"),r=null,a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this._storageSync];case 2:return a.sent(),[3,4];case 3:throw n=a.sent(),ue.debug("Failed to sync cache info into memory",n),n;case 4:try{i=JSON.parse(this._storage.getItem("aws-amplify-federatedInfo")),i&&(r=su(su({},i.user),{token:i.token}))}catch{ue.debug("cannot load federated user from auth storage")}return r?(this.user=r,ue.debug("get current authenticated federated user",this.user),[2,this.user]):[3,5];case 5:ue.debug("get current authenticated userpool user"),o=null,a.label=6;case 6:return a.trys.push([6,8,,9]),[4,this.currentUserPoolUser(t)];case 7:return o=a.sent(),[3,9];case 8:return s=a.sent(),s==="No userPool"&&ue.error("Cannot get the current user because the user pool is missing. Please make sure the Auth module is configured with a valid Cognito User Pool ID"),ue.debug("The user is not authenticated by the error",s),[2,Promise.reject("The user is not authenticated")];case 9:return this.user=o,[2,this.user]}})})},e.prototype.currentSession=function(){var t=this;return ue.debug("Getting current session"),this.userPool?new Promise(function(r,n){t.currentUserPoolUser().then(function(i){t.userSession(i).then(function(o){r(o)}).catch(function(o){ue.debug("Failed to get the current session",o),n(o)})}).catch(function(i){ue.debug("Failed to get the current user",i),n(i)})}):Promise.reject()},e.prototype.userSession=function(t){if(!t)return ue.debug("the user is null"),this.rejectAuthError(Pe.NoUserSession);var r=this._config.clientMetadata;return new Promise(function(n,i){ue.debug("Getting the session from this user:",t),t.getSession(function(o,s){if(o){ue.debug("Failed to get the session from user",t),i(o);return}else{ue.debug("Succeed to get the user session",s),n(s);return}},{clientMetadata:r})})},e.prototype.currentUserCredentials=function(){return ze(this,void 0,void 0,function(){var t,r,n=this;return We(this,function(i){switch(i.label){case 0:ue.debug("Getting current user credentials"),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this._storageSync];case 2:return i.sent(),[3,4];case 3:throw t=i.sent(),ue.debug("Failed to sync cache info into memory",t),t;case 4:r=null;try{r=JSON.parse(this._storage.getItem("aws-amplify-federatedInfo"))}catch(o){ue.debug("failed to get or parse item aws-amplify-federatedInfo",o)}return r?[2,this.Credentials.refreshFederatedToken(r)]:[2,this.currentSession().then(function(o){return ue.debug("getting session success",o),n.Credentials.set(o,"session")}).catch(function(o){return ue.debug("getting session failed",o),n.Credentials.set(null,"guest")})]}})})},e.prototype.currentCredentials=function(){return ue.debug("getting current credentials"),this.Credentials.get()},e.prototype.verifyUserAttribute=function(t,r,n){return n===void 0&&(n=this._config.clientMetadata),new Promise(function(i,o){t.getAttributeVerificationCode(r,{onSuccess:function(s){return i(s)},onFailure:function(s){return o(s)}},n)})},e.prototype.verifyUserAttributeSubmit=function(t,r,n){return n?new Promise(function(i,o){t.verifyAttribute(r,n,{onSuccess:function(s){i(s)},onFailure:function(s){o(s)}})}):this.rejectAuthError(Pe.EmptyCode)},e.prototype.verifyCurrentUserAttribute=function(t){var r=this;return r.currentUserPoolUser().then(function(n){return r.verifyUserAttribute(n,t)})},e.prototype.verifyCurrentUserAttributeSubmit=function(t,r){var n=this;return n.currentUserPoolUser().then(function(i){return n.verifyUserAttributeSubmit(i,t,r)})},e.prototype.cognitoIdentitySignOut=function(t,r){return ze(this,void 0,void 0,function(){var n,i,o=this;return We(this,function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,this._storageSync];case 1:return s.sent(),[3,3];case 2:throw n=s.sent(),ue.debug("Failed to sync cache info into memory",n),n;case 3:return i=this._oAuthHandler&&this._storage.getItem("amplify-signin-with-hostedUI")==="true",[2,new Promise(function(a,c){if(t&&t.global){ue.debug("user global sign out",r);var u=o._config.clientMetadata;r.getSession(function(l,f){if(l)return ue.debug("failed to get the user session",l),c(l);r.globalSignOut({onSuccess:function(h){if(ue.debug("global sign out success"),i)o.oAuthSignOutRedirect(a,c);else return a()},onFailure:function(h){return ue.debug("global sign out failed",h),c(h)}})},{clientMetadata:u})}else ue.debug("user sign out",r),r.signOut(function(){if(i)o.oAuthSignOutRedirect(a,c);else return a()})})]}})})},e.prototype.oAuthSignOutRedirect=function(t,r){var n=vs.browserOrNode().isBrowser;n?this.oAuthSignOutRedirectOrReject(r):this.oAuthSignOutAndResolve(t)},e.prototype.oAuthSignOutAndResolve=function(t){this._oAuthHandler.signOut(),t()},e.prototype.oAuthSignOutRedirectOrReject=function(t){this._oAuthHandler.signOut(),setTimeout(function(){return t("Signout timeout fail")},3e3)},e.prototype.signOut=function(t){return ze(this,void 0,void 0,function(){var r;return We(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.cleanCachedItems()];case 1:return n.sent(),[3,3];case 2:return n.sent(),ue.debug("failed to clear cached items"),[3,3];case 3:return this.userPool?(r=this.userPool.getCurrentUser(),r?[4,this.cognitoIdentitySignOut(t,r)]:[3,5]):[3,7];case 4:return n.sent(),[3,6];case 5:ue.debug("no current Cognito user"),n.label=6;case 6:return[3,8];case 7:ue.debug("no Congito User pool"),n.label=8;case 8:return Fe("signOut",this.user,"A user has been signed out"),this.user=null,[2]}})})},e.prototype.cleanCachedItems=function(){return ze(this,void 0,void 0,function(){return We(this,function(t){switch(t.label){case 0:return[4,this.Credentials.clear()];case 1:return t.sent(),[2]}})})},e.prototype.changePassword=function(t,r,n,i){var o=this;return i===void 0&&(i=this._config.clientMetadata),new Promise(function(s,a){o.userSession(t).then(function(c){t.changePassword(r,n,function(u,l){return u?(ue.debug("change password failure",u),a(u)):s(l)},i)})})},e.prototype.forgotPassword=function(t,r){if(r===void 0&&(r=this._config.clientMetadata),!this.userPool)return this.rejectNoUserPool();if(!t)return this.rejectAuthError(Pe.EmptyUsername);var n=this.createCognitoUser(t);return new Promise(function(i,o){n.forgotPassword({onSuccess:function(){i()},onFailure:function(s){ue.debug("forgot password failure",s),Fe("forgotPassword_failure",s,t+" forgotPassword failed"),o(s)},inputVerificationCode:function(s){Fe("forgotPassword",n,t+" has initiated forgot password flow"),i(s)}},r)})},e.prototype.forgotPasswordSubmit=function(t,r,n,i){if(i===void 0&&(i=this._config.clientMetadata),!this.userPool)return this.rejectNoUserPool();if(!t)return this.rejectAuthError(Pe.EmptyUsername);if(!r)return this.rejectAuthError(Pe.EmptyCode);if(!n)return this.rejectAuthError(Pe.EmptyPassword);var o=this.createCognitoUser(t);return new Promise(function(s,a){o.confirmPassword(r,n,{onSuccess:function(c){Fe("forgotPasswordSubmit",o,t+" forgotPasswordSubmit successful"),s(c)},onFailure:function(c){Fe("forgotPasswordSubmit_failure",c,t+" forgotPasswordSubmit failed"),a(c)}},i)})},e.prototype.currentUserInfo=function(){return ze(this,void 0,void 0,function(){var t,c,r,n,i,o,s,a,c;return We(this,function(u){switch(u.label){case 0:return t=this.Credentials.getCredSource(),!t||t==="aws"||t==="userPool"?[4,this.currentUserPoolUser().catch(function(l){return ue.error(l)})]:[3,9];case 1:if(c=u.sent(),!c)return[2,null];u.label=2;case 2:return u.trys.push([2,8,,9]),[4,this.userAttributes(c)];case 3:r=u.sent(),n=this.attributesToObject(r),i=null,u.label=4;case 4:return u.trys.push([4,6,,7]),[4,this.currentCredentials()];case 5:return i=u.sent(),[3,7];case 6:return o=u.sent(),ue.debug("Failed to retrieve credentials while getting current user info",o),[3,7];case 7:return s={id:i?i.identityId:void 0,username:c.getUsername(),attributes:n},[2,s];case 8:return a=u.sent(),ue.error("currentUserInfo error",a),[2,{}];case 9:return t==="federated"?(c=this.user,[2,c||{}]):[2]}})})},e.prototype.federatedSignIn=function(t,r,n){return ze(this,void 0,void 0,function(){var i,c,o,s,a,c,u,l,f,h,v,g;return We(this,function(w){switch(w.label){case 0:if(!this._config.identityPoolId&&!this._config.userPoolId)throw new Error("Federation requires either a User Pool or Identity Pool in config");if(typeof t=="undefined"&&this._config.identityPoolId&&!this._config.userPoolId)throw new Error("Federation with Identity Pools requires tokens passed as arguments");return mc(t)||hE(t)||dE(t)||typeof t=="undefined"?(i=t||{provider:Ja.Cognito},c=mc(i)?i.provider:i.customProvider,o=(mc(i),i.customState),this._config.userPoolId&&(s=ci(this._config.oauth)?this._config.userPoolWebClientId:this._config.oauth.clientID,a=ci(this._config.oauth)?this._config.oauth.redirectSignIn:this._config.oauth.redirectUri,this._oAuthHandler.oauthSignIn(this._config.oauth.responseType,this._config.oauth.domain,a,s,c,o)),[3,4]):[3,1];case 1:c=t;try{u=JSON.stringify(JSON.parse(this._storage.getItem("aws-amplify-federatedInfo")).user),u&&ue.warn("There is already a signed in user: "+u+` in your app.
																	You should not call Auth.federatedSignIn method again as it may cause unexpected behavior.`)}catch{}return l=r.token,f=r.identity_id,h=r.expires_at,[4,this.Credentials.set({provider:c,token:l,identity_id:f,user:n,expires_at:h},"federation")];case 2:return v=w.sent(),[4,this.currentAuthenticatedUser()];case 3:return g=w.sent(),Fe("signIn",g,"A user "+g.username+" has been signed in"),ue.debug("federated sign in credentials",v),[2,v];case 4:return[2]}})})},e.prototype._handleAuthResponse=function(t){return ze(this,void 0,void 0,function(){var r,n,i,o,s,a,c,u,l,f,h,v,g,w;return We(this,function(y){switch(y.label){case 0:if(this.oAuthFlowInProgress)return ue.debug("Skipping URL "+t+" current flow in progress"),[2];y.label=1;case 1:if(y.trys.push([1,,8,9]),this.oAuthFlowInProgress=!0,!this._config.userPoolId)throw new Error("OAuth responses require a User Pool defined in config");if(Fe("parsingCallbackUrl",{url:t},"The callback url is being parsed"),r=t||(vs.browserOrNode().isBrowser?window.location.href:""),n=!!(Ft(r).query||"").split("&").map(function(b){return b.split("=")}).find(function(b){var _=rg(b,1),T=_[0];return T==="code"||T==="error"}),i=!!(Ft(r).hash||"#").substr(1).split("&").map(function(b){return b.split("=")}).find(function(b){var _=rg(b,1),T=_[0];return T==="access_token"||T==="error"}),!(n||i))return[3,7];this._storage.setItem("amplify-redirected-from-hosted-ui","true"),y.label=2;case 2:return y.trys.push([2,6,,7]),[4,this._oAuthHandler.handleAuthResponse(r)];case 3:return o=y.sent(),s=o.accessToken,a=o.idToken,c=o.refreshToken,u=o.state,l=new af({IdToken:new nf({IdToken:a}),RefreshToken:new of({RefreshToken:c}),AccessToken:new tf({AccessToken:s})}),f=void 0,this._config.identityPoolId?[4,this.Credentials.set(l,"session")]:[3,5];case 4:f=y.sent(),ue.debug("AWS credentials",f),y.label=5;case 5:return h=/-/.test(u),v=this.createCognitoUser(l.getIdToken().decodePayload()["cognito:username"]),v.setSignInUserSession(l),window&&typeof window.history!="undefined"&&window.history.replaceState({},null,this._config.oauth.redirectSignIn),Fe("signIn",v,"A user "+v.getUsername()+" has been signed in"),Fe("cognitoHostedUI",v,"A user "+v.getUsername()+" has been signed in via Cognito Hosted UI"),h&&(g=u.split("-").splice(1).join("-"),Fe("customOAuthState",CA(g),"State for user "+v.getUsername())),[2,f];case 6:return w=y.sent(),ue.debug("Error in cognito hosted auth response",w),window&&typeof window.history!="undefined"&&window.history.replaceState({},null,this._config.oauth.redirectSignIn),Fe("signIn_failure",w,"The OAuth response flow failed"),Fe("cognitoHostedUI_failure",w,"A failure occurred when returning to the Cognito Hosted UI"),Fe("customState_failure",w,"A failure occurred when returning state"),[3,7];case 7:return[3,9];case 8:return this.oAuthFlowInProgress=!1,[7];case 9:return[2]}})})},e.prototype.essentialCredentials=function(t){return{accessKeyId:t.accessKeyId,sessionToken:t.sessionToken,secretAccessKey:t.secretAccessKey,identityId:t.identityId,authenticated:t.authenticated}},e.prototype.attributesToObject=function(t){var r=this,n={};return t&&t.map(function(i){i.Name==="email_verified"||i.Name==="phone_number_verified"?n[i.Name]=r.isTruthyString(i.Value)||i.Value===!0:n[i.Name]=i.Value}),n},e.prototype.isTruthyString=function(t){return typeof t.toLowerCase=="function"&&t.toLowerCase()==="true"},e.prototype.createCognitoUser=function(t){var r={Username:t,Pool:this.userPool};r.Storage=this._storage;var n=this._config.authenticationFlowType,i=new uf(r);return n&&i.setAuthenticationFlowType(n),i},e.prototype._isValidAuthStorage=function(t){return!!t&&typeof t.getItem=="function"&&typeof t.setItem=="function"&&typeof t.removeItem=="function"&&typeof t.clear=="function"},e.prototype.noUserPoolErrorHandler=function(t){return t&&(!t.userPoolId||!t.identityPoolId)?Pe.MissingAuthConfig:Pe.NoConfig},e.prototype.rejectAuthError=function(t){return Promise.reject(new _n(t))},e.prototype.rejectNoUserPool=function(){var t=this.noUserPoolErrorHandler(this._config);return Promise.reject(new V2(t))},e.prototype.rememberDevice=function(){return ze(this,void 0,void 0,function(){var t,r;return We(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.currentUserPoolUser()];case 1:return t=n.sent(),[3,3];case 2:return r=n.sent(),ue.debug("The user is not authenticated by the error",r),[2,Promise.reject("The user is not authenticated")];case 3:return t.getCachedDeviceKeyAndPassword(),[2,new Promise(function(i,o){t.setDeviceStatusRemembered({onSuccess:function(s){i(s)},onFailure:function(s){s.code==="InvalidParameterException"?o(new _n(Pe.DeviceConfig)):s.code==="NetworkError"?o(new _n(Pe.NetworkError)):o(s)}})})]}})})},e.prototype.forgetDevice=function(){return ze(this,void 0,void 0,function(){var t,r;return We(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.currentUserPoolUser()];case 1:return t=n.sent(),[3,3];case 2:return r=n.sent(),ue.debug("The user is not authenticated by the error",r),[2,Promise.reject("The user is not authenticated")];case 3:return t.getCachedDeviceKeyAndPassword(),[2,new Promise(function(i,o){t.forgetDevice({onSuccess:function(s){i(s)},onFailure:function(s){s.code==="InvalidParameterException"?o(new _n(Pe.DeviceConfig)):s.code==="NetworkError"?o(new _n(Pe.NetworkError)):o(s)}})})]}})})},e.prototype.fetchDevices=function(){return ze(this,void 0,void 0,function(){var t,r;return We(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.currentUserPoolUser()];case 1:return t=n.sent(),[3,3];case 2:throw r=n.sent(),ue.debug("The user is not authenticated by the error",r),new Error("The user is not authenticated");case 3:return t.getCachedDeviceKeyAndPassword(),[2,new Promise(function(i,o){var s={onSuccess:function(a){var c=a.Devices.map(function(u){var l=u.DeviceAttributes.find(function(h){var v=h.Name;return v==="device_name"})||{},f={id:u.DeviceKey,name:l.Value};return f});i(c)},onFailure:function(a){a.code==="InvalidParameterException"?o(new _n(Pe.DeviceConfig)):a.code==="NetworkError"?o(new _n(Pe.NetworkError)):o(a)}};t.listDevices(Y2,null,s)})]}})})},e}(),qh=new J2(null);Fr.register(qh);var Fn=qh;function ft(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];throw Error("[Immer] minified error nr: "+e+(r.length?" "+r.map(function(i){return"'"+i+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function wi(e){return!!e&&!!e[Qt]}function jn(e){return!!e&&(function(t){if(!t||typeof t!="object")return!1;var r=Object.getPrototypeOf(t);if(r===null)return!0;var n=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return n===Object||typeof n=="function"&&Function.toString.call(n)===oP}(e)||Array.isArray(e)||!!e[vi]||!!e.constructor[vi]||rc(e)||nc(e))}function po(e,t,r){r===void 0&&(r=!1),qn(e)===0?(r?Object.keys:Wh)(e).forEach(function(n){r&&typeof n=="symbol"||t(n,e[n],e)}):e.forEach(function(n,i){return t(i,n,e)})}function qn(e){var t=e[Qt];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:rc(e)?2:nc(e)?3:0}function ws(e,t){return qn(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Ea(e,t){return qn(e)===2?e.get(t):e[t]}function pb(e,t,r){var n=qn(e);n===2?e.set(t,r):n===3?(e.delete(t),e.add(r)):e[t]=r}function Q2(e,t){return e===t?e!==0||1/e==1/t:e!=e&&t!=t}function rc(e){return nP&&e instanceof Map}function nc(e){return iP&&e instanceof Set}function ii(e){return e.o||e.t}function $h(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=sP(e);delete t[Qt];for(var r=Wh(t),n=0;n<r.length;n++){var i=r[n],o=t[i];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(t[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function Kh(e,t){return t===void 0&&(t=!1),Hh(e)||wi(e)||!jn(e)||(qn(e)>1&&(e.set=e.add=e.clear=e.delete=X2),Object.freeze(e),t&&po(e,function(r,n){return Kh(n,!0)},!0)),e}function X2(){ft(2)}function Hh(e){return e==null||typeof e!="object"||Object.isFrozen(e)}function rn(e){var t=vf[e];return t||ft(18,e),t}function Z2(e,t){vf[e]||(vf[e]=t)}function ig(){return _s}function Lc(e,t){t&&(rn("Patches"),e.u=[],e.s=[],e.v=t)}function au(e){hf(e),e.p.forEach(eP),e.p=null}function hf(e){e===_s&&(_s=e.l)}function og(e){return _s={p:[],l:_s,h:e,m:!0,_:0}}function eP(e){var t=e[Qt];t.i===0||t.i===1?t.j():t.O=!0}function Bc(e,t){t._=t.p.length;var r=t.p[0],n=e!==void 0&&e!==r;return t.h.g||rn("ES5").S(t,e,n),n?(r[Qt].P&&(au(t),ft(4)),jn(e)&&(e=uu(t,e),t.l||cu(t,e)),t.u&&rn("Patches").M(r[Qt],e,t.u,t.s)):e=uu(t,r,[]),au(t),t.u&&t.v(t.u,t.s),e!==zh?e:void 0}function uu(e,t,r){if(Hh(t))return t;var n=t[Qt];if(!n)return po(t,function(o,s){return sg(e,n,t,o,s,r)},!0),t;if(n.A!==e)return t;if(!n.P)return cu(e,n.t,!0),n.t;if(!n.I){n.I=!0,n.A._--;var i=n.i===4||n.i===5?n.o=$h(n.k):n.o;po(n.i===3?new Set(i):i,function(o,s){return sg(e,n,i,o,s,r)}),cu(e,i,!1),r&&e.u&&rn("Patches").R(n,r,e.u,e.s)}return n.o}function sg(e,t,r,n,i,o){if(wi(i)){var s=uu(e,i,o&&t&&t.i!==3&&!ws(t.D,n)?o.concat(n):void 0);if(pb(r,n,s),!wi(s))return;e.m=!1}if(jn(i)&&!Hh(i)){if(!e.h.F&&e._<1)return;uu(e,i),t&&t.A.l||cu(e,i)}}function cu(e,t,r){r===void 0&&(r=!1),e.h.F&&e.m&&Kh(t,r)}function jc(e,t){var r=e[Qt];return(r?ii(r):e)[t]}function ag(e,t){if(t in e)for(var r=Object.getPrototypeOf(e);r;){var n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Object.getPrototypeOf(r)}}function df(e){e.P||(e.P=!0,e.l&&df(e.l))}function qc(e){e.o||(e.o=$h(e.t))}function pf(e,t,r){var n=rc(t)?rn("MapSet").N(t,r):nc(t)?rn("MapSet").T(t,r):e.g?function(i,o){var s=Array.isArray(i),a={i:s?1:0,A:o?o.A:ig(),P:!1,I:!1,D:{},l:o,t:i,k:null,o:null,j:null,C:!1},c=a,u=Aa;s&&(c=[a],u=Ta);var l=Proxy.revocable(c,u),f=l.revoke,h=l.proxy;return a.k=h,a.j=f,h}(t,r):rn("ES5").J(t,r);return(r?r.A:ig()).p.push(n),n}function tP(e){return wi(e)||ft(22,e),function t(r){if(!jn(r))return r;var n,i=r[Qt],o=qn(r);if(i){if(!i.P&&(i.i<4||!rn("ES5").K(i)))return i.t;i.I=!0,n=ug(r,o),i.I=!1}else n=ug(r,o);return po(n,function(s,a){i&&Ea(i.t,s)===a||pb(n,s,t(a))}),o===3?new Set(n):n}(e)}function ug(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return $h(e)}function rP(){function e(n){if(!jn(n))return n;if(Array.isArray(n))return n.map(e);if(rc(n))return new Map(Array.from(n.entries()).map(function(s){return[s[0],e(s[1])]}));if(nc(n))return new Set(Array.from(n).map(e));var i=Object.create(Object.getPrototypeOf(n));for(var o in n)i[o]=e(n[o]);return ws(n,vi)&&(i[vi]=n[vi]),i}function t(n){return wi(n)?e(n):n}var r="add";Z2("Patches",{$:function(n,i){return i.forEach(function(o){for(var s=o.path,a=o.op,c=n,u=0;u<s.length-1;u++){var l=qn(c),f=""+s[u];l!==0&&l!==1||f!=="__proto__"&&f!=="constructor"||ft(24),typeof c=="function"&&f==="prototype"&&ft(24),typeof(c=Ea(c,f))!="object"&&ft(15,s.join("/"))}var h=qn(c),v=e(o.value),g=s[s.length-1];switch(a){case"replace":switch(h){case 2:return c.set(g,v);case 3:ft(16);default:return c[g]=v}case r:switch(h){case 1:return c.splice(g,0,v);case 2:return c.set(g,v);case 3:return c.add(v);default:return c[g]=v}case"remove":switch(h){case 1:return c.splice(g,1);case 2:return c.delete(g);case 3:return c.delete(o.value);default:return delete c[g]}default:ft(17,a)}}),n},R:function(n,i,o,s){switch(n.i){case 0:case 4:case 2:return function(a,c,u,l){var f=a.t,h=a.o;po(a.D,function(v,g){var w=Ea(f,v),y=Ea(h,v),b=g?ws(f,v)?"replace":r:"remove";if(w!==y||b!=="replace"){var _=c.concat(v);u.push(b==="remove"?{op:b,path:_}:{op:b,path:_,value:y}),l.push(b===r?{op:"remove",path:_}:b==="remove"?{op:r,path:_,value:t(w)}:{op:"replace",path:_,value:t(w)})}})}(n,i,o,s);case 5:case 1:return function(a,c,u,l){var f=a.t,h=a.D,v=a.o;if(v.length<f.length){var g=[v,f];f=g[0],v=g[1];var w=[l,u];u=w[0],l=w[1]}for(var y=0;y<f.length;y++)if(h[y]&&v[y]!==f[y]){var b=c.concat([y]);u.push({op:"replace",path:b,value:t(v[y])}),l.push({op:"replace",path:b,value:t(f[y])})}for(var _=f.length;_<v.length;_++){var T=c.concat([_]);u.push({op:r,path:T,value:t(v[_])})}f.length<v.length&&l.push({op:"replace",path:c.concat(["length"]),value:f.length})}(n,i,o,s);case 3:return function(a,c,u,l){var f=a.t,h=a.o,v=0;f.forEach(function(g){if(!h.has(g)){var w=c.concat([v]);u.push({op:"remove",path:w,value:g}),l.unshift({op:r,path:w,value:g})}v++}),v=0,h.forEach(function(g){if(!f.has(g)){var w=c.concat([v]);u.push({op:r,path:w,value:g}),l.unshift({op:"remove",path:w,value:g})}v++})}(n,i,o,s)}},M:function(n,i,o,s){o.push({op:"replace",path:[],value:i===zh?void 0:i}),s.push({op:"replace",path:[],value:n.t})}})}var cg,_s,Vh=typeof Symbol!="undefined"&&typeof Symbol("x")=="symbol",nP=typeof Map!="undefined",iP=typeof Set!="undefined",lg=typeof Proxy!="undefined"&&Proxy.revocable!==void 0&&typeof Reflect!="undefined",zh=Vh?Symbol.for("immer-nothing"):((cg={})["immer-nothing"]=!0,cg),vi=Vh?Symbol.for("immer-draftable"):"__$immer_draftable",Qt=Vh?Symbol.for("immer-state"):"__$immer_state",oP=""+Object.prototype.constructor,Wh=typeof Reflect!="undefined"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,sP=Object.getOwnPropertyDescriptors||function(e){var t={};return Wh(e).forEach(function(r){t[r]=Object.getOwnPropertyDescriptor(e,r)}),t},vf={},Aa={get:function(e,t){if(t===Qt)return e;var r=ii(e);if(!ws(r,t))return function(i,o,s){var a,c=ag(o,s);return c?"value"in c?c.value:(a=c.get)===null||a===void 0?void 0:a.call(i.k):void 0}(e,r,t);var n=r[t];return e.I||!jn(n)?n:n===jc(e.t,t)?(qc(e),e.o[t]=pf(e.A.h,n,e)):n},has:function(e,t){return t in ii(e)},ownKeys:function(e){return Reflect.ownKeys(ii(e))},set:function(e,t,r){var n=ag(ii(e),t);if(n==null?void 0:n.set)return n.set.call(e.k,r),!0;if(!e.P){var i=jc(ii(e),t),o=i==null?void 0:i[Qt];if(o&&o.t===r)return e.o[t]=r,e.D[t]=!1,!0;if(Q2(r,i)&&(r!==void 0||ws(e.t,t)))return!0;qc(e),df(e)}return e.o[t]===r&&typeof r!="number"&&(r!==void 0||t in e.o)||(e.o[t]=r,e.D[t]=!0,!0)},deleteProperty:function(e,t){return jc(e.t,t)!==void 0||t in e.t?(e.D[t]=!1,qc(e),df(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var r=ii(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.i!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty:function(){ft(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){ft(12)}},Ta={};po(Aa,function(e,t){Ta[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),Ta.deleteProperty=function(e,t){return Aa.deleteProperty.call(this,e[0],t)},Ta.set=function(e,t,r){return Aa.set.call(this,e[0],t,r,e[0])};var aP=function(){function e(r){var n=this;this.g=lg,this.F=!0,this.produce=function(i,o,s){if(typeof i=="function"&&typeof o!="function"){var a=o;o=i;var c=n;return function(v){var g=this;v===void 0&&(v=a);for(var w=arguments.length,y=Array(w>1?w-1:0),b=1;b<w;b++)y[b-1]=arguments[b];return c.produce(v,function(_){var T;return(T=o).call.apply(T,[g,_].concat(y))})}}var u;if(typeof o!="function"&&ft(6),s!==void 0&&typeof s!="function"&&ft(7),jn(i)){var l=og(n),f=pf(n,i,void 0),h=!0;try{u=o(f),h=!1}finally{h?au(l):hf(l)}return typeof Promise!="undefined"&&u instanceof Promise?u.then(function(v){return Lc(l,s),Bc(v,l)},function(v){throw au(l),v}):(Lc(l,s),Bc(u,l))}if(!i||typeof i!="object")return(u=o(i))===zh?void 0:(u===void 0&&(u=i),n.F&&Kh(u,!0),u);ft(21,i)},this.produceWithPatches=function(i,o){return typeof i=="function"?function(c){for(var u=arguments.length,l=Array(u>1?u-1:0),f=1;f<u;f++)l[f-1]=arguments[f];return n.produceWithPatches(c,function(h){return i.apply(void 0,[h].concat(l))})}:[n.produce(i,o,function(c,u){s=c,a=u}),s,a];var s,a},typeof(r==null?void 0:r.useProxies)=="boolean"&&this.setUseProxies(r.useProxies),typeof(r==null?void 0:r.autoFreeze)=="boolean"&&this.setAutoFreeze(r.autoFreeze)}var t=e.prototype;return t.createDraft=function(r){jn(r)||ft(8),wi(r)&&(r=tP(r));var n=og(this),i=pf(this,r,void 0);return i[Qt].C=!0,hf(n),i},t.finishDraft=function(r,n){var i=r&&r[Qt],o=i.A;return Lc(o,n),Bc(void 0,o)},t.setAutoFreeze=function(r){this.F=r},t.setUseProxies=function(r){r&&!lg&&ft(20),this.g=r},t.applyPatches=function(r,n){var i;for(i=n.length-1;i>=0;i--){var o=n[i];if(o.path.length===0&&o.op==="replace"){r=o.value;break}}var s=rn("Patches").$;return wi(r)?s(r,n):this.produce(r,function(a){return s(a,n.slice(i+1))})},e}(),Xt=new aP,gf=Xt.produce;Xt.produceWithPatches.bind(Xt);var uP=Xt.setAutoFreeze.bind(Xt);Xt.setUseProxies.bind(Xt);Xt.applyPatches.bind(Xt);Xt.createDraft.bind(Xt);Xt.finishDraft.bind(Xt);var fg=function(){return[]};function Ia(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ia=function(r){return typeof r}:Ia=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Ia(e)}function cP(e){return Ia(e)=="object"&&e!==null}var vb=typeof Symbol=="function"&&Symbol.toStringTag!=null?Symbol.toStringTag:"@@toStringTag";function mf(e,t){for(var r=/\r\n|[\n\r]/g,n=1,i=t+1,o;(o=r.exec(e.body))&&o.index<t;)n+=1,i=t+1-(o.index+o[0].length);return{line:n,column:i}}function lP(e){return gb(e.source,mf(e.source,e.start))}function gb(e,t){var r=e.locationOffset.column-1,n=xa(r)+e.body,i=t.line-1,o=e.locationOffset.line-1,s=t.line+o,a=t.line===1?r:0,c=t.column+a,u="".concat(e.name,":").concat(s,":").concat(c,`
`),l=n.split(/\r\n|[\n\r]/g),f=l[i];if(f.length>120){for(var h=Math.floor(c/80),v=c%80,g=[],w=0;w<f.length;w+=80)g.push(f.slice(w,w+80));return u+hg([["".concat(s),g[0]]].concat(g.slice(1,h+1).map(function(y){return["",y]}),[[" ",xa(v-1)+"^"],["",g[h+1]]]))}return u+hg([["".concat(s-1),l[i-1]],["".concat(s),f],["",xa(c-1)+"^"],["".concat(s+1),l[i+1]]])}function hg(e){var t=e.filter(function(n){n[0];var i=n[1];return i!==void 0}),r=Math.max.apply(Math,t.map(function(n){var i=n[0];return i.length}));return t.map(function(n){var i=n[0],o=n[1];return fP(r,i)+(o?" | "+o:" |")}).join(`
`)}function xa(e){return Array(e+1).join(" ")}function fP(e,t){return xa(e-t.length)+t}function Ca(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ca=function(r){return typeof r}:Ca=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Ca(e)}function dg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function hP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dg(Object(r),!0).forEach(function(n){dP(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dP(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pP(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pg(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function vP(e,t,r){return t&&pg(e.prototype,t),r&&pg(e,r),e}function gP(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ss(e,t)}function mP(e){var t=yb();return function(){var n=Es(e),i;if(t){var o=Es(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return mb(this,i)}}function mb(e,t){return t&&(Ca(t)==="object"||typeof t=="function")?t:$o(e)}function $o(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yf(e){var t=typeof Map=="function"?new Map:void 0;return yf=function(n){if(n===null||!yP(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(typeof t!="undefined"){if(t.has(n))return t.get(n);t.set(n,i)}function i(){return Oa(n,arguments,Es(this).constructor)}return i.prototype=Object.create(n.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),Ss(i,n)},yf(e)}function Oa(e,t,r){return yb()?Oa=Reflect.construct:Oa=function(i,o,s){var a=[null];a.push.apply(a,o);var c=Function.bind.apply(i,a),u=new c;return s&&Ss(u,s.prototype),u},Oa.apply(null,arguments)}function yb(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function yP(e){return Function.toString.call(e).indexOf("[native code]")!==-1}function Ss(e,t){return Ss=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Ss(e,t)}function Es(e){return Es=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Es(e)}var Jr=function(e){gP(r,e);var t=mP(r);function r(n,i,o,s,a,c,u){var l,f,h,v;pP(this,r),v=t.call(this,n),v.name="GraphQLError",v.originalError=c!=null?c:void 0,v.nodes=vg(Array.isArray(i)?i:i?[i]:void 0);for(var g=[],w=0,y=(b=v.nodes)!==null&&b!==void 0?b:[];w<y.length;w++){var b,_=y[w],T=_.loc;T!=null&&g.push(T)}g=vg(g),v.source=o!=null?o:(l=g)===null||l===void 0?void 0:l[0].source,v.positions=s!=null?s:(f=g)===null||f===void 0?void 0:f.map(function(x){return x.start}),v.locations=s&&o?s.map(function(x){return mf(o,x)}):(h=g)===null||h===void 0?void 0:h.map(function(x){return mf(x.source,x.start)}),v.path=a!=null?a:void 0;var A=c==null?void 0:c.extensions;return u==null&&cP(A)?v.extensions=hP({},A):v.extensions=u!=null?u:{},Object.defineProperties($o(v),{message:{enumerable:!0},locations:{enumerable:v.locations!=null},path:{enumerable:v.path!=null},extensions:{enumerable:v.extensions!=null&&Object.keys(v.extensions).length>0},name:{enumerable:!1},nodes:{enumerable:!1},source:{enumerable:!1},positions:{enumerable:!1},originalError:{enumerable:!1}}),c!=null&&c.stack?(Object.defineProperty($o(v),"stack",{value:c.stack,writable:!0,configurable:!0}),mb(v)):(Error.captureStackTrace?Error.captureStackTrace($o(v),r):Object.defineProperty($o(v),"stack",{value:Error().stack,writable:!0,configurable:!0}),v)}return vP(r,[{key:"toString",value:function(){return bP(this)}},{key:vb,get:function(){return"Object"}}]),r}(yf(Error));function vg(e){return e===void 0||e.length===0?void 0:e}function bP(e){var t=e.message;if(e.nodes)for(var r=0,n=e.nodes;r<n.length;r++){var i=n[r];i.loc&&(t+=`

`+lP(i.loc))}else if(e.source&&e.locations)for(var o=0,s=e.locations;o<s.length;o++){var a=s[o];t+=`

`+gb(e.source,a)}return t}function Gt(e,t,r){return new Jr("Syntax Error: ".concat(r),void 0,e,[t])}var _e=Object.freeze({NAME:"Name",DOCUMENT:"Document",OPERATION_DEFINITION:"OperationDefinition",VARIABLE_DEFINITION:"VariableDefinition",SELECTION_SET:"SelectionSet",FIELD:"Field",ARGUMENT:"Argument",FRAGMENT_SPREAD:"FragmentSpread",INLINE_FRAGMENT:"InlineFragment",FRAGMENT_DEFINITION:"FragmentDefinition",VARIABLE:"Variable",INT:"IntValue",FLOAT:"FloatValue",STRING:"StringValue",BOOLEAN:"BooleanValue",NULL:"NullValue",ENUM:"EnumValue",LIST:"ListValue",OBJECT:"ObjectValue",OBJECT_FIELD:"ObjectField",DIRECTIVE:"Directive",NAMED_TYPE:"NamedType",LIST_TYPE:"ListType",NON_NULL_TYPE:"NonNullType",SCHEMA_DEFINITION:"SchemaDefinition",OPERATION_TYPE_DEFINITION:"OperationTypeDefinition",SCALAR_TYPE_DEFINITION:"ScalarTypeDefinition",OBJECT_TYPE_DEFINITION:"ObjectTypeDefinition",FIELD_DEFINITION:"FieldDefinition",INPUT_VALUE_DEFINITION:"InputValueDefinition",INTERFACE_TYPE_DEFINITION:"InterfaceTypeDefinition",UNION_TYPE_DEFINITION:"UnionTypeDefinition",ENUM_TYPE_DEFINITION:"EnumTypeDefinition",ENUM_VALUE_DEFINITION:"EnumValueDefinition",INPUT_OBJECT_TYPE_DEFINITION:"InputObjectTypeDefinition",DIRECTIVE_DEFINITION:"DirectiveDefinition",SCHEMA_EXTENSION:"SchemaExtension",SCALAR_TYPE_EXTENSION:"ScalarTypeExtension",OBJECT_TYPE_EXTENSION:"ObjectTypeExtension",INTERFACE_TYPE_EXTENSION:"InterfaceTypeExtension",UNION_TYPE_EXTENSION:"UnionTypeExtension",ENUM_TYPE_EXTENSION:"EnumTypeExtension",INPUT_OBJECT_TYPE_EXTENSION:"InputObjectTypeExtension"});function wP(e,t){var r=Boolean(e);if(!r)throw new Error(t!=null?t:"Unexpected invariant triggered.")}var _P=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):void 0,bf=_P;function bb(e){var t=e.prototype.toJSON;typeof t=="function"||wP(0),e.prototype.inspect=t,bf&&(e.prototype[bf]=t)}var wb=function(){function e(r,n,i){this.start=r.start,this.end=n.end,this.startToken=r,this.endToken=n,this.source=i}var t=e.prototype;return t.toJSON=function(){return{start:this.start,end:this.end}},e}();bb(wb);var Ke=function(){function e(r,n,i,o,s,a,c){this.kind=r,this.start=n,this.end=i,this.line=o,this.column=s,this.value=c,this.prev=a,this.next=null}var t=e.prototype;return t.toJSON=function(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}},e}();bb(Ke);function gg(e){return e!=null&&typeof e.kind=="string"}var oe=Object.freeze({SOF:"<SOF>",EOF:"<EOF>",BANG:"!",DOLLAR:"$",AMP:"&",PAREN_L:"(",PAREN_R:")",SPREAD:"...",COLON:":",EQUALS:"=",AT:"@",BRACKET_L:"[",BRACKET_R:"]",BRACE_L:"{",PIPE:"|",BRACE_R:"}",NAME:"Name",INT:"Int",FLOAT:"Float",STRING:"String",BLOCK_STRING:"BlockString",COMMENT:"Comment"});function Pa(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Pa=function(r){return typeof r}:Pa=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Pa(e)}var SP=10,_b=2;function Sb(e){return ic(e,[])}function ic(e,t){switch(Pa(e)){case"string":return JSON.stringify(e);case"function":return e.name?"[function ".concat(e.name,"]"):"[function]";case"object":return e===null?"null":EP(e,t);default:return String(e)}}function EP(e,t){if(t.indexOf(e)!==-1)return"[Circular]";var r=[].concat(t,[e]),n=IP(e);if(n!==void 0){var i=n.call(e);if(i!==e)return typeof i=="string"?i:ic(i,r)}else if(Array.isArray(e))return TP(e,r);return AP(e,r)}function AP(e,t){var r=Object.keys(e);if(r.length===0)return"{}";if(t.length>_b)return"["+xP(e)+"]";var n=r.map(function(i){var o=ic(e[i],t);return i+": "+o});return"{ "+n.join(", ")+" }"}function TP(e,t){if(e.length===0)return"[]";if(t.length>_b)return"[Array]";for(var r=Math.min(SP,e.length),n=e.length-r,i=[],o=0;o<r;++o)i.push(ic(e[o],t));return n===1?i.push("... 1 more item"):n>1&&i.push("... ".concat(n," more items")),"["+i.join(", ")+"]"}function IP(e){var t=e[String(bf)];if(typeof t=="function")return t;if(typeof e.inspect=="function")return e.inspect}function xP(e){var t=Object.prototype.toString.call(e).replace(/^\[object /,"").replace(/]$/,"");if(t==="Object"&&typeof e.constructor=="function"){var r=e.constructor.name;if(typeof r=="string"&&r!=="")return r}return t}function $c(e,t){var r=Boolean(e);if(!r)throw new Error(t)}var CP=function(t,r){return t instanceof r};function mg(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function OP(e,t,r){return t&&mg(e.prototype,t),r&&mg(e,r),e}var Eb=function(){function e(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"GraphQL request",n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{line:1,column:1};typeof t=="string"||$c(0,"Body must be a string. Received: ".concat(Sb(t),".")),this.body=t,this.name=r,this.locationOffset=n,this.locationOffset.line>0||$c(0,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||$c(0,"column in locationOffset is 1-indexed and must be positive.")}return OP(e,[{key:vb,get:function(){return"Source"}}]),e}();function PP(e){return CP(e,Eb)}var NP=Object.freeze({QUERY:"QUERY",MUTATION:"MUTATION",SUBSCRIPTION:"SUBSCRIPTION",FIELD:"FIELD",FRAGMENT_DEFINITION:"FRAGMENT_DEFINITION",FRAGMENT_SPREAD:"FRAGMENT_SPREAD",INLINE_FRAGMENT:"INLINE_FRAGMENT",VARIABLE_DEFINITION:"VARIABLE_DEFINITION",SCHEMA:"SCHEMA",SCALAR:"SCALAR",OBJECT:"OBJECT",FIELD_DEFINITION:"FIELD_DEFINITION",ARGUMENT_DEFINITION:"ARGUMENT_DEFINITION",INTERFACE:"INTERFACE",UNION:"UNION",ENUM:"ENUM",ENUM_VALUE:"ENUM_VALUE",INPUT_OBJECT:"INPUT_OBJECT",INPUT_FIELD_DEFINITION:"INPUT_FIELD_DEFINITION"});function RP(e){var t=e.split(/\r\n|[\n\r]/g),r=MP(e);if(r!==0)for(var n=1;n<t.length;n++)t[n]=t[n].slice(r);for(var i=0;i<t.length&&yg(t[i]);)++i;for(var o=t.length;o>i&&yg(t[o-1]);)--o;return t.slice(i,o).join(`
`)}function yg(e){for(var t=0;t<e.length;++t)if(e[t]!==" "&&e[t]!=="	")return!1;return!0}function MP(e){for(var t,r=!0,n=!0,i=0,o=null,s=0;s<e.length;++s)switch(e.charCodeAt(s)){case 13:e.charCodeAt(s+1)===10&&++s;case 10:r=!1,n=!0,i=0;break;case 9:case 32:++i;break;default:n&&!r&&(o===null||i<o)&&(o=i),n=!1}return(t=o)!==null&&t!==void 0?t:0}function kP(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,n=e.indexOf(`
`)===-1,i=e[0]===" "||e[0]==="	",o=e[e.length-1]==='"',s=e[e.length-1]==="\\",a=!n||o||s||r,c="";return a&&!(n&&i)&&(c+=`
`+t),c+=t?e.replace(/\n/g,`
`+t):e,a&&(c+=`
`),'"""'+c.replace(/"""/g,'\\"""')+'"""'}var DP=function(){function e(r){var n=new Ke(oe.SOF,0,0,0,0,null);this.source=r,this.lastToken=n,this.token=n,this.line=1,this.lineStart=0}var t=e.prototype;return t.advance=function(){this.lastToken=this.token;var n=this.token=this.lookahead();return n},t.lookahead=function(){var n=this.token;if(n.kind!==oe.EOF)do{var i;n=(i=n.next)!==null&&i!==void 0?i:n.next=FP(this,n)}while(n.kind===oe.COMMENT);return n},e}();function UP(e){return e===oe.BANG||e===oe.DOLLAR||e===oe.AMP||e===oe.PAREN_L||e===oe.PAREN_R||e===oe.SPREAD||e===oe.COLON||e===oe.EQUALS||e===oe.AT||e===oe.BRACKET_L||e===oe.BRACKET_R||e===oe.BRACE_L||e===oe.PIPE||e===oe.BRACE_R}function _i(e){return isNaN(e)?oe.EOF:e<127?JSON.stringify(String.fromCharCode(e)):'"\\u'.concat(("00"+e.toString(16).toUpperCase()).slice(-4),'"')}function FP(e,t){for(var r=e.source,n=r.body,i=n.length,o=t.end;o<i;){var s=n.charCodeAt(o),a=e.line,c=1+o-e.lineStart;switch(s){case 65279:case 9:case 32:case 44:++o;continue;case 10:++o,++e.line,e.lineStart=o;continue;case 13:n.charCodeAt(o+1)===10?o+=2:++o,++e.line,e.lineStart=o;continue;case 33:return new Ke(oe.BANG,o,o+1,a,c,t);case 35:return BP(r,o,a,c,t);case 36:return new Ke(oe.DOLLAR,o,o+1,a,c,t);case 38:return new Ke(oe.AMP,o,o+1,a,c,t);case 40:return new Ke(oe.PAREN_L,o,o+1,a,c,t);case 41:return new Ke(oe.PAREN_R,o,o+1,a,c,t);case 46:if(n.charCodeAt(o+1)===46&&n.charCodeAt(o+2)===46)return new Ke(oe.SPREAD,o,o+3,a,c,t);break;case 58:return new Ke(oe.COLON,o,o+1,a,c,t);case 61:return new Ke(oe.EQUALS,o,o+1,a,c,t);case 64:return new Ke(oe.AT,o,o+1,a,c,t);case 91:return new Ke(oe.BRACKET_L,o,o+1,a,c,t);case 93:return new Ke(oe.BRACKET_R,o,o+1,a,c,t);case 123:return new Ke(oe.BRACE_L,o,o+1,a,c,t);case 124:return new Ke(oe.PIPE,o,o+1,a,c,t);case 125:return new Ke(oe.BRACE_R,o,o+1,a,c,t);case 34:return n.charCodeAt(o+1)===34&&n.charCodeAt(o+2)===34?$P(r,o,a,c,t,e):qP(r,o,a,c,t);case 45:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return jP(r,o,s,a,c,t);case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:case 95:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:return HP(r,o,a,c,t)}throw Gt(r,o,LP(s))}var u=e.line,l=1+o-e.lineStart;return new Ke(oe.EOF,i,i,u,l,t)}function LP(e){return e<32&&e!==9&&e!==10&&e!==13?"Cannot contain the invalid character ".concat(_i(e),"."):e===39?`Unexpected single quote character ('), did you mean to use a double quote (")?`:"Cannot parse the unexpected character ".concat(_i(e),".")}function BP(e,t,r,n,i){var o=e.body,s,a=t;do s=o.charCodeAt(++a);while(!isNaN(s)&&(s>31||s===9));return new Ke(oe.COMMENT,t,a,r,n,i,o.slice(t+1,a))}function jP(e,t,r,n,i,o){var s=e.body,a=r,c=t,u=!1;if(a===45&&(a=s.charCodeAt(++c)),a===48){if(a=s.charCodeAt(++c),a>=48&&a<=57)throw Gt(e,c,"Invalid number, unexpected digit after 0: ".concat(_i(a),"."))}else c=Kc(e,c,a),a=s.charCodeAt(c);if(a===46&&(u=!0,a=s.charCodeAt(++c),c=Kc(e,c,a),a=s.charCodeAt(c)),(a===69||a===101)&&(u=!0,a=s.charCodeAt(++c),(a===43||a===45)&&(a=s.charCodeAt(++c)),c=Kc(e,c,a),a=s.charCodeAt(c)),a===46||VP(a))throw Gt(e,c,"Invalid number, expected digit but got: ".concat(_i(a),"."));return new Ke(u?oe.FLOAT:oe.INT,t,c,n,i,o,s.slice(t,c))}function Kc(e,t,r){var n=e.body,i=t,o=r;if(o>=48&&o<=57){do o=n.charCodeAt(++i);while(o>=48&&o<=57);return i}throw Gt(e,i,"Invalid number, expected digit but got: ".concat(_i(o),"."))}function qP(e,t,r,n,i){for(var o=e.body,s=t+1,a=s,c=0,u="";s<o.length&&!isNaN(c=o.charCodeAt(s))&&c!==10&&c!==13;){if(c===34)return u+=o.slice(a,s),new Ke(oe.STRING,t,s+1,r,n,i,u);if(c<32&&c!==9)throw Gt(e,s,"Invalid character within String: ".concat(_i(c),"."));if(++s,c===92){switch(u+=o.slice(a,s-1),c=o.charCodeAt(s),c){case 34:u+='"';break;case 47:u+="/";break;case 92:u+="\\";break;case 98:u+="\b";break;case 102:u+="\f";break;case 110:u+=`
`;break;case 114:u+="\r";break;case 116:u+="	";break;case 117:{var l=KP(o.charCodeAt(s+1),o.charCodeAt(s+2),o.charCodeAt(s+3),o.charCodeAt(s+4));if(l<0){var f=o.slice(s+1,s+5);throw Gt(e,s,"Invalid character escape sequence: \\u".concat(f,"."))}u+=String.fromCharCode(l),s+=4;break}default:throw Gt(e,s,"Invalid character escape sequence: \\".concat(String.fromCharCode(c),"."))}++s,a=s}}throw Gt(e,s,"Unterminated string.")}function $P(e,t,r,n,i,o){for(var s=e.body,a=t+3,c=a,u=0,l="";a<s.length&&!isNaN(u=s.charCodeAt(a));){if(u===34&&s.charCodeAt(a+1)===34&&s.charCodeAt(a+2)===34)return l+=s.slice(c,a),new Ke(oe.BLOCK_STRING,t,a+3,r,n,i,RP(l));if(u<32&&u!==9&&u!==10&&u!==13)throw Gt(e,a,"Invalid character within String: ".concat(_i(u),"."));u===10?(++a,++o.line,o.lineStart=a):u===13?(s.charCodeAt(a+1)===10?a+=2:++a,++o.line,o.lineStart=a):u===92&&s.charCodeAt(a+1)===34&&s.charCodeAt(a+2)===34&&s.charCodeAt(a+3)===34?(l+=s.slice(c,a)+'"""',a+=4,c=a):++a}throw Gt(e,a,"Unterminated string.")}function KP(e,t,r,n){return ta(e)<<12|ta(t)<<8|ta(r)<<4|ta(n)}function ta(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:-1}function HP(e,t,r,n,i){for(var o=e.body,s=o.length,a=t+1,c=0;a!==s&&!isNaN(c=o.charCodeAt(a))&&(c===95||c>=48&&c<=57||c>=65&&c<=90||c>=97&&c<=122);)++a;return new Ke(oe.NAME,t,a,r,n,i,o.slice(t,a))}function VP(e){return e===95||e>=65&&e<=90||e>=97&&e<=122}function Hc(e,t){var r=new zP(e,t);return r.parseDocument()}var zP=function(){function e(r,n){var i=PP(r)?r:new Eb(r);this._lexer=new DP(i),this._options=n}var t=e.prototype;return t.parseName=function(){var n=this.expectToken(oe.NAME);return{kind:_e.NAME,value:n.value,loc:this.loc(n)}},t.parseDocument=function(){var n=this._lexer.token;return{kind:_e.DOCUMENT,definitions:this.many(oe.SOF,this.parseDefinition,oe.EOF),loc:this.loc(n)}},t.parseDefinition=function(){if(this.peek(oe.NAME))switch(this._lexer.token.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"schema":case"scalar":case"type":case"interface":case"union":case"enum":case"input":case"directive":return this.parseTypeSystemDefinition();case"extend":return this.parseTypeSystemExtension()}else{if(this.peek(oe.BRACE_L))return this.parseOperationDefinition();if(this.peekDescription())return this.parseTypeSystemDefinition()}throw this.unexpected()},t.parseOperationDefinition=function(){var n=this._lexer.token;if(this.peek(oe.BRACE_L))return{kind:_e.OPERATION_DEFINITION,operation:"query",name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet(),loc:this.loc(n)};var i=this.parseOperationType(),o;return this.peek(oe.NAME)&&(o=this.parseName()),{kind:_e.OPERATION_DEFINITION,operation:i,name:o,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(n)}},t.parseOperationType=function(){var n=this.expectToken(oe.NAME);switch(n.value){case"query":return"query";case"mutation":return"mutation";case"subscription":return"subscription"}throw this.unexpected(n)},t.parseVariableDefinitions=function(){return this.optionalMany(oe.PAREN_L,this.parseVariableDefinition,oe.PAREN_R)},t.parseVariableDefinition=function(){var n=this._lexer.token;return{kind:_e.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(oe.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(oe.EQUALS)?this.parseValueLiteral(!0):void 0,directives:this.parseDirectives(!0),loc:this.loc(n)}},t.parseVariable=function(){var n=this._lexer.token;return this.expectToken(oe.DOLLAR),{kind:_e.VARIABLE,name:this.parseName(),loc:this.loc(n)}},t.parseSelectionSet=function(){var n=this._lexer.token;return{kind:_e.SELECTION_SET,selections:this.many(oe.BRACE_L,this.parseSelection,oe.BRACE_R),loc:this.loc(n)}},t.parseSelection=function(){return this.peek(oe.SPREAD)?this.parseFragment():this.parseField()},t.parseField=function(){var n=this._lexer.token,i=this.parseName(),o,s;return this.expectOptionalToken(oe.COLON)?(o=i,s=this.parseName()):s=i,{kind:_e.FIELD,alias:o,name:s,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(oe.BRACE_L)?this.parseSelectionSet():void 0,loc:this.loc(n)}},t.parseArguments=function(n){var i=n?this.parseConstArgument:this.parseArgument;return this.optionalMany(oe.PAREN_L,i,oe.PAREN_R)},t.parseArgument=function(){var n=this._lexer.token,i=this.parseName();return this.expectToken(oe.COLON),{kind:_e.ARGUMENT,name:i,value:this.parseValueLiteral(!1),loc:this.loc(n)}},t.parseConstArgument=function(){var n=this._lexer.token;return{kind:_e.ARGUMENT,name:this.parseName(),value:(this.expectToken(oe.COLON),this.parseValueLiteral(!0)),loc:this.loc(n)}},t.parseFragment=function(){var n=this._lexer.token;this.expectToken(oe.SPREAD);var i=this.expectOptionalKeyword("on");return!i&&this.peek(oe.NAME)?{kind:_e.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1),loc:this.loc(n)}:{kind:_e.INLINE_FRAGMENT,typeCondition:i?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(n)}},t.parseFragmentDefinition=function(){var n,i=this._lexer.token;return this.expectKeyword("fragment"),((n=this._options)===null||n===void 0?void 0:n.experimentalFragmentVariables)===!0?{kind:_e.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(i)}:{kind:_e.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(i)}},t.parseFragmentName=function(){if(this._lexer.token.value==="on")throw this.unexpected();return this.parseName()},t.parseValueLiteral=function(n){var i=this._lexer.token;switch(i.kind){case oe.BRACKET_L:return this.parseList(n);case oe.BRACE_L:return this.parseObject(n);case oe.INT:return this._lexer.advance(),{kind:_e.INT,value:i.value,loc:this.loc(i)};case oe.FLOAT:return this._lexer.advance(),{kind:_e.FLOAT,value:i.value,loc:this.loc(i)};case oe.STRING:case oe.BLOCK_STRING:return this.parseStringLiteral();case oe.NAME:switch(this._lexer.advance(),i.value){case"true":return{kind:_e.BOOLEAN,value:!0,loc:this.loc(i)};case"false":return{kind:_e.BOOLEAN,value:!1,loc:this.loc(i)};case"null":return{kind:_e.NULL,loc:this.loc(i)};default:return{kind:_e.ENUM,value:i.value,loc:this.loc(i)}}case oe.DOLLAR:if(!n)return this.parseVariable();break}throw this.unexpected()},t.parseStringLiteral=function(){var n=this._lexer.token;return this._lexer.advance(),{kind:_e.STRING,value:n.value,block:n.kind===oe.BLOCK_STRING,loc:this.loc(n)}},t.parseList=function(n){var i=this,o=this._lexer.token,s=function(){return i.parseValueLiteral(n)};return{kind:_e.LIST,values:this.any(oe.BRACKET_L,s,oe.BRACKET_R),loc:this.loc(o)}},t.parseObject=function(n){var i=this,o=this._lexer.token,s=function(){return i.parseObjectField(n)};return{kind:_e.OBJECT,fields:this.any(oe.BRACE_L,s,oe.BRACE_R),loc:this.loc(o)}},t.parseObjectField=function(n){var i=this._lexer.token,o=this.parseName();return this.expectToken(oe.COLON),{kind:_e.OBJECT_FIELD,name:o,value:this.parseValueLiteral(n),loc:this.loc(i)}},t.parseDirectives=function(n){for(var i=[];this.peek(oe.AT);)i.push(this.parseDirective(n));return i},t.parseDirective=function(n){var i=this._lexer.token;return this.expectToken(oe.AT),{kind:_e.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(n),loc:this.loc(i)}},t.parseTypeReference=function(){var n=this._lexer.token,i;return this.expectOptionalToken(oe.BRACKET_L)?(i=this.parseTypeReference(),this.expectToken(oe.BRACKET_R),i={kind:_e.LIST_TYPE,type:i,loc:this.loc(n)}):i=this.parseNamedType(),this.expectOptionalToken(oe.BANG)?{kind:_e.NON_NULL_TYPE,type:i,loc:this.loc(n)}:i},t.parseNamedType=function(){var n=this._lexer.token;return{kind:_e.NAMED_TYPE,name:this.parseName(),loc:this.loc(n)}},t.parseTypeSystemDefinition=function(){var n=this.peekDescription()?this._lexer.lookahead():this._lexer.token;if(n.kind===oe.NAME)switch(n.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}throw this.unexpected(n)},t.peekDescription=function(){return this.peek(oe.STRING)||this.peek(oe.BLOCK_STRING)},t.parseDescription=function(){if(this.peekDescription())return this.parseStringLiteral()},t.parseSchemaDefinition=function(){var n=this._lexer.token,i=this.parseDescription();this.expectKeyword("schema");var o=this.parseDirectives(!0),s=this.many(oe.BRACE_L,this.parseOperationTypeDefinition,oe.BRACE_R);return{kind:_e.SCHEMA_DEFINITION,description:i,directives:o,operationTypes:s,loc:this.loc(n)}},t.parseOperationTypeDefinition=function(){var n=this._lexer.token,i=this.parseOperationType();this.expectToken(oe.COLON);var o=this.parseNamedType();return{kind:_e.OPERATION_TYPE_DEFINITION,operation:i,type:o,loc:this.loc(n)}},t.parseScalarTypeDefinition=function(){var n=this._lexer.token,i=this.parseDescription();this.expectKeyword("scalar");var o=this.parseName(),s=this.parseDirectives(!0);return{kind:_e.SCALAR_TYPE_DEFINITION,description:i,name:o,directives:s,loc:this.loc(n)}},t.parseObjectTypeDefinition=function(){var n=this._lexer.token,i=this.parseDescription();this.expectKeyword("type");var o=this.parseName(),s=this.parseImplementsInterfaces(),a=this.parseDirectives(!0),c=this.parseFieldsDefinition();return{kind:_e.OBJECT_TYPE_DEFINITION,description:i,name:o,interfaces:s,directives:a,fields:c,loc:this.loc(n)}},t.parseImplementsInterfaces=function(){var n;if(!this.expectOptionalKeyword("implements"))return[];if(((n=this._options)===null||n===void 0?void 0:n.allowLegacySDLImplementsInterfaces)===!0){var i=[];this.expectOptionalToken(oe.AMP);do i.push(this.parseNamedType());while(this.expectOptionalToken(oe.AMP)||this.peek(oe.NAME));return i}return this.delimitedMany(oe.AMP,this.parseNamedType)},t.parseFieldsDefinition=function(){var n;return((n=this._options)===null||n===void 0?void 0:n.allowLegacySDLEmptyFields)===!0&&this.peek(oe.BRACE_L)&&this._lexer.lookahead().kind===oe.BRACE_R?(this._lexer.advance(),this._lexer.advance(),[]):this.optionalMany(oe.BRACE_L,this.parseFieldDefinition,oe.BRACE_R)},t.parseFieldDefinition=function(){var n=this._lexer.token,i=this.parseDescription(),o=this.parseName(),s=this.parseArgumentDefs();this.expectToken(oe.COLON);var a=this.parseTypeReference(),c=this.parseDirectives(!0);return{kind:_e.FIELD_DEFINITION,description:i,name:o,arguments:s,type:a,directives:c,loc:this.loc(n)}},t.parseArgumentDefs=function(){return this.optionalMany(oe.PAREN_L,this.parseInputValueDef,oe.PAREN_R)},t.parseInputValueDef=function(){var n=this._lexer.token,i=this.parseDescription(),o=this.parseName();this.expectToken(oe.COLON);var s=this.parseTypeReference(),a;this.expectOptionalToken(oe.EQUALS)&&(a=this.parseValueLiteral(!0));var c=this.parseDirectives(!0);return{kind:_e.INPUT_VALUE_DEFINITION,description:i,name:o,type:s,defaultValue:a,directives:c,loc:this.loc(n)}},t.parseInterfaceTypeDefinition=function(){var n=this._lexer.token,i=this.parseDescription();this.expectKeyword("interface");var o=this.parseName(),s=this.parseImplementsInterfaces(),a=this.parseDirectives(!0),c=this.parseFieldsDefinition();return{kind:_e.INTERFACE_TYPE_DEFINITION,description:i,name:o,interfaces:s,directives:a,fields:c,loc:this.loc(n)}},t.parseUnionTypeDefinition=function(){var n=this._lexer.token,i=this.parseDescription();this.expectKeyword("union");var o=this.parseName(),s=this.parseDirectives(!0),a=this.parseUnionMemberTypes();return{kind:_e.UNION_TYPE_DEFINITION,description:i,name:o,directives:s,types:a,loc:this.loc(n)}},t.parseUnionMemberTypes=function(){return this.expectOptionalToken(oe.EQUALS)?this.delimitedMany(oe.PIPE,this.parseNamedType):[]},t.parseEnumTypeDefinition=function(){var n=this._lexer.token,i=this.parseDescription();this.expectKeyword("enum");var o=this.parseName(),s=this.parseDirectives(!0),a=this.parseEnumValuesDefinition();return{kind:_e.ENUM_TYPE_DEFINITION,description:i,name:o,directives:s,values:a,loc:this.loc(n)}},t.parseEnumValuesDefinition=function(){return this.optionalMany(oe.BRACE_L,this.parseEnumValueDefinition,oe.BRACE_R)},t.parseEnumValueDefinition=function(){var n=this._lexer.token,i=this.parseDescription(),o=this.parseName(),s=this.parseDirectives(!0);return{kind:_e.ENUM_VALUE_DEFINITION,description:i,name:o,directives:s,loc:this.loc(n)}},t.parseInputObjectTypeDefinition=function(){var n=this._lexer.token,i=this.parseDescription();this.expectKeyword("input");var o=this.parseName(),s=this.parseDirectives(!0),a=this.parseInputFieldsDefinition();return{kind:_e.INPUT_OBJECT_TYPE_DEFINITION,description:i,name:o,directives:s,fields:a,loc:this.loc(n)}},t.parseInputFieldsDefinition=function(){return this.optionalMany(oe.BRACE_L,this.parseInputValueDef,oe.BRACE_R)},t.parseTypeSystemExtension=function(){var n=this._lexer.lookahead();if(n.kind===oe.NAME)switch(n.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(n)},t.parseSchemaExtension=function(){var n=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");var i=this.parseDirectives(!0),o=this.optionalMany(oe.BRACE_L,this.parseOperationTypeDefinition,oe.BRACE_R);if(i.length===0&&o.length===0)throw this.unexpected();return{kind:_e.SCHEMA_EXTENSION,directives:i,operationTypes:o,loc:this.loc(n)}},t.parseScalarTypeExtension=function(){var n=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");var i=this.parseName(),o=this.parseDirectives(!0);if(o.length===0)throw this.unexpected();return{kind:_e.SCALAR_TYPE_EXTENSION,name:i,directives:o,loc:this.loc(n)}},t.parseObjectTypeExtension=function(){var n=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");var i=this.parseName(),o=this.parseImplementsInterfaces(),s=this.parseDirectives(!0),a=this.parseFieldsDefinition();if(o.length===0&&s.length===0&&a.length===0)throw this.unexpected();return{kind:_e.OBJECT_TYPE_EXTENSION,name:i,interfaces:o,directives:s,fields:a,loc:this.loc(n)}},t.parseInterfaceTypeExtension=function(){var n=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");var i=this.parseName(),o=this.parseImplementsInterfaces(),s=this.parseDirectives(!0),a=this.parseFieldsDefinition();if(o.length===0&&s.length===0&&a.length===0)throw this.unexpected();return{kind:_e.INTERFACE_TYPE_EXTENSION,name:i,interfaces:o,directives:s,fields:a,loc:this.loc(n)}},t.parseUnionTypeExtension=function(){var n=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");var i=this.parseName(),o=this.parseDirectives(!0),s=this.parseUnionMemberTypes();if(o.length===0&&s.length===0)throw this.unexpected();return{kind:_e.UNION_TYPE_EXTENSION,name:i,directives:o,types:s,loc:this.loc(n)}},t.parseEnumTypeExtension=function(){var n=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");var i=this.parseName(),o=this.parseDirectives(!0),s=this.parseEnumValuesDefinition();if(o.length===0&&s.length===0)throw this.unexpected();return{kind:_e.ENUM_TYPE_EXTENSION,name:i,directives:o,values:s,loc:this.loc(n)}},t.parseInputObjectTypeExtension=function(){var n=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");var i=this.parseName(),o=this.parseDirectives(!0),s=this.parseInputFieldsDefinition();if(o.length===0&&s.length===0)throw this.unexpected();return{kind:_e.INPUT_OBJECT_TYPE_EXTENSION,name:i,directives:o,fields:s,loc:this.loc(n)}},t.parseDirectiveDefinition=function(){var n=this._lexer.token,i=this.parseDescription();this.expectKeyword("directive"),this.expectToken(oe.AT);var o=this.parseName(),s=this.parseArgumentDefs(),a=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");var c=this.parseDirectiveLocations();return{kind:_e.DIRECTIVE_DEFINITION,description:i,name:o,arguments:s,repeatable:a,locations:c,loc:this.loc(n)}},t.parseDirectiveLocations=function(){return this.delimitedMany(oe.PIPE,this.parseDirectiveLocation)},t.parseDirectiveLocation=function(){var n=this._lexer.token,i=this.parseName();if(NP[i.value]!==void 0)return i;throw this.unexpected(n)},t.loc=function(n){var i;if(((i=this._options)===null||i===void 0?void 0:i.noLocation)!==!0)return new wb(n,this._lexer.lastToken,this._lexer.source)},t.peek=function(n){return this._lexer.token.kind===n},t.expectToken=function(n){var i=this._lexer.token;if(i.kind===n)return this._lexer.advance(),i;throw Gt(this._lexer.source,i.start,"Expected ".concat(Ab(n),", found ").concat(Vc(i),"."))},t.expectOptionalToken=function(n){var i=this._lexer.token;if(i.kind===n)return this._lexer.advance(),i},t.expectKeyword=function(n){var i=this._lexer.token;if(i.kind===oe.NAME&&i.value===n)this._lexer.advance();else throw Gt(this._lexer.source,i.start,'Expected "'.concat(n,'", found ').concat(Vc(i),"."))},t.expectOptionalKeyword=function(n){var i=this._lexer.token;return i.kind===oe.NAME&&i.value===n?(this._lexer.advance(),!0):!1},t.unexpected=function(n){var i=n!=null?n:this._lexer.token;return Gt(this._lexer.source,i.start,"Unexpected ".concat(Vc(i),"."))},t.any=function(n,i,o){this.expectToken(n);for(var s=[];!this.expectOptionalToken(o);)s.push(i.call(this));return s},t.optionalMany=function(n,i,o){if(this.expectOptionalToken(n)){var s=[];do s.push(i.call(this));while(!this.expectOptionalToken(o));return s}return[]},t.many=function(n,i,o){this.expectToken(n);var s=[];do s.push(i.call(this));while(!this.expectOptionalToken(o));return s},t.delimitedMany=function(n,i){this.expectOptionalToken(n);var o=[];do o.push(i.call(this));while(this.expectOptionalToken(n));return o},e}();function Vc(e){var t=e.value;return Ab(e.kind)+(t!=null?' "'.concat(t,'"'):"")}function Ab(e){return UP(e)?'"'.concat(e,'"'):e}var WP={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},GP=Object.freeze({});function YP(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:WP,n=void 0,i=Array.isArray(e),o=[e],s=-1,a=[],c=void 0,u=void 0,l=void 0,f=[],h=[],v=e;do{s++;var g=s===o.length,w=g&&a.length!==0;if(g){if(u=h.length===0?void 0:f[f.length-1],c=l,l=h.pop(),w){if(i)c=c.slice();else{for(var y={},b=0,_=Object.keys(c);b<_.length;b++){var T=_[b];y[T]=c[T]}c=y}for(var A=0,x=0;x<a.length;x++){var R=a[x][0],k=a[x][1];i&&(R-=A),i&&k===null?(c.splice(R,1),A++):c[R]=k}}s=n.index,o=n.keys,a=n.edits,i=n.inArray,n=n.prev}else{if(u=l?i?s:o[s]:void 0,c=l?l[u]:v,c==null)continue;l&&f.push(u)}var U=void 0;if(!Array.isArray(c)){if(!gg(c))throw new Error("Invalid AST Node: ".concat(Sb(c),"."));var B=JP(t,c.kind,g);if(B){if(U=B.call(t,c,u,l,f,h),U===GP)break;if(U===!1){if(!g){f.pop();continue}}else if(U!==void 0&&(a.push([u,U]),!g))if(gg(U))c=U;else{f.pop();continue}}}if(U===void 0&&w&&a.push([u,c]),g)f.pop();else{var N;n={inArray:i,index:s,keys:o,edits:a,prev:n},i=Array.isArray(c),o=i?c:(N=r[c.kind])!==null&&N!==void 0?N:[],s=-1,a=[],l&&h.push(l),l=c}}while(n!==void 0);return a.length!==0&&(v=a[a.length-1][1]),v}function JP(e,t,r){var n=e[t];if(n){if(!r&&typeof n=="function")return n;var i=r?n.leave:n.enter;if(typeof i=="function")return i}else{var o=r?e.leave:e.enter;if(o){if(typeof o=="function")return o;var s=o[t];if(typeof s=="function")return s}}}function zc(e){return YP(e,{leave:XP})}var QP=80,XP={Name:function(t){return t.value},Variable:function(t){return"$"+t.name},Document:function(t){return pe(t.definitions,`

`)+`
`},OperationDefinition:function(t){var r=t.operation,n=t.name,i=je("(",pe(t.variableDefinitions,", "),")"),o=pe(t.directives," "),s=t.selectionSet;return!n&&!o&&!i&&r==="query"?s:pe([r,pe([n,i]),o,s]," ")},VariableDefinition:function(t){var r=t.variable,n=t.type,i=t.defaultValue,o=t.directives;return r+": "+n+je(" = ",i)+je(" ",pe(o," "))},SelectionSet:function(t){var r=t.selections;return pr(r)},Field:function(t){var r=t.alias,n=t.name,i=t.arguments,o=t.directives,s=t.selectionSet,a=je("",r,": ")+n,c=a+je("(",pe(i,", "),")");return c.length>QP&&(c=a+je(`(
`,Na(pe(i,`
`)),`
)`)),pe([c,pe(o," "),s]," ")},Argument:function(t){var r=t.name,n=t.value;return r+": "+n},FragmentSpread:function(t){var r=t.name,n=t.directives;return"..."+r+je(" ",pe(n," "))},InlineFragment:function(t){var r=t.typeCondition,n=t.directives,i=t.selectionSet;return pe(["...",je("on ",r),pe(n," "),i]," ")},FragmentDefinition:function(t){var r=t.name,n=t.typeCondition,i=t.variableDefinitions,o=t.directives,s=t.selectionSet;return"fragment ".concat(r).concat(je("(",pe(i,", "),")")," ")+"on ".concat(n," ").concat(je("",pe(o," ")," "))+s},IntValue:function(t){var r=t.value;return r},FloatValue:function(t){var r=t.value;return r},StringValue:function(t,r){var n=t.value,i=t.block;return i?kP(n,r==="description"?"":"  "):JSON.stringify(n)},BooleanValue:function(t){var r=t.value;return r?"true":"false"},NullValue:function(){return"null"},EnumValue:function(t){var r=t.value;return r},ListValue:function(t){var r=t.values;return"["+pe(r,", ")+"]"},ObjectValue:function(t){var r=t.fields;return"{"+pe(r,", ")+"}"},ObjectField:function(t){var r=t.name,n=t.value;return r+": "+n},Directive:function(t){var r=t.name,n=t.arguments;return"@"+r+je("(",pe(n,", "),")")},NamedType:function(t){var r=t.name;return r},ListType:function(t){var r=t.type;return"["+r+"]"},NonNullType:function(t){var r=t.type;return r+"!"},SchemaDefinition:dr(function(e){var t=e.directives,r=e.operationTypes;return pe(["schema",pe(t," "),pr(r)]," ")}),OperationTypeDefinition:function(t){var r=t.operation,n=t.type;return r+": "+n},ScalarTypeDefinition:dr(function(e){var t=e.name,r=e.directives;return pe(["scalar",t,pe(r," ")]," ")}),ObjectTypeDefinition:dr(function(e){var t=e.name,r=e.interfaces,n=e.directives,i=e.fields;return pe(["type",t,je("implements ",pe(r," & ")),pe(n," "),pr(i)]," ")}),FieldDefinition:dr(function(e){var t=e.name,r=e.arguments,n=e.type,i=e.directives;return t+(bg(r)?je(`(
`,Na(pe(r,`
`)),`
)`):je("(",pe(r,", "),")"))+": "+n+je(" ",pe(i," "))}),InputValueDefinition:dr(function(e){var t=e.name,r=e.type,n=e.defaultValue,i=e.directives;return pe([t+": "+r,je("= ",n),pe(i," ")]," ")}),InterfaceTypeDefinition:dr(function(e){var t=e.name,r=e.interfaces,n=e.directives,i=e.fields;return pe(["interface",t,je("implements ",pe(r," & ")),pe(n," "),pr(i)]," ")}),UnionTypeDefinition:dr(function(e){var t=e.name,r=e.directives,n=e.types;return pe(["union",t,pe(r," "),n&&n.length!==0?"= "+pe(n," | "):""]," ")}),EnumTypeDefinition:dr(function(e){var t=e.name,r=e.directives,n=e.values;return pe(["enum",t,pe(r," "),pr(n)]," ")}),EnumValueDefinition:dr(function(e){var t=e.name,r=e.directives;return pe([t,pe(r," ")]," ")}),InputObjectTypeDefinition:dr(function(e){var t=e.name,r=e.directives,n=e.fields;return pe(["input",t,pe(r," "),pr(n)]," ")}),DirectiveDefinition:dr(function(e){var t=e.name,r=e.arguments,n=e.repeatable,i=e.locations;return"directive @"+t+(bg(r)?je(`(
`,Na(pe(r,`
`)),`
)`):je("(",pe(r,", "),")"))+(n?" repeatable":"")+" on "+pe(i," | ")}),SchemaExtension:function(t){var r=t.directives,n=t.operationTypes;return pe(["extend schema",pe(r," "),pr(n)]," ")},ScalarTypeExtension:function(t){var r=t.name,n=t.directives;return pe(["extend scalar",r,pe(n," ")]," ")},ObjectTypeExtension:function(t){var r=t.name,n=t.interfaces,i=t.directives,o=t.fields;return pe(["extend type",r,je("implements ",pe(n," & ")),pe(i," "),pr(o)]," ")},InterfaceTypeExtension:function(t){var r=t.name,n=t.interfaces,i=t.directives,o=t.fields;return pe(["extend interface",r,je("implements ",pe(n," & ")),pe(i," "),pr(o)]," ")},UnionTypeExtension:function(t){var r=t.name,n=t.directives,i=t.types;return pe(["extend union",r,pe(n," "),i&&i.length!==0?"= "+pe(i," | "):""]," ")},EnumTypeExtension:function(t){var r=t.name,n=t.directives,i=t.values;return pe(["extend enum",r,pe(n," "),pr(i)]," ")},InputObjectTypeExtension:function(t){var r=t.name,n=t.directives,i=t.fields;return pe(["extend input",r,pe(n," "),pr(i)]," ")}};function dr(e){return function(t){return pe([t.description,e(t)],`
`)}}function pe(e){var t,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return(t=e==null?void 0:e.filter(function(n){return n}).join(r))!==null&&t!==void 0?t:""}function pr(e){return je(`{
`,Na(pe(e,`
`)),`
}`)}function je(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"";return t!=null&&t!==""?e+t+r:""}function Na(e){return je("  ",e.replace(/\n/g,`
  `))}function ZP(e){return e.indexOf(`
`)!==-1}function bg(e){return e!=null&&e.some(ZP)}var ts=globalThis&&globalThis.__assign||function(){return ts=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},ts.apply(this,arguments)},eN=new Ae("AbstractPubSubProvider"),Tb=function(){function e(t){t===void 0&&(t={}),this._config=t}return e.prototype.configure=function(t){return t===void 0&&(t={}),this._config=ts(ts({},t),this._config),eN.debug("configure "+this.getProviderName(),this._config),this.options},e.prototype.getCategory=function(){return"PubSub"},Object.defineProperty(e.prototype,"options",{get:function(){return ts({},this._config)},enumerable:!0,configurable:!0}),e}(),Ib={exports:{}};(function(e,t){(function(n,i){e.exports=i()})(Ge,function(){var n=function(i){var o="@VERSION@-@BUILDLEVEL@",s=i.localStorage||function(){var I={};return{setItem:function(P,M){I[P]=M},getItem:function(P){return I[P]},removeItem:function(P){delete I[P]}}}(),a={CONNECT:1,CONNACK:2,PUBLISH:3,PUBACK:4,PUBREC:5,PUBREL:6,PUBCOMP:7,SUBSCRIBE:8,SUBACK:9,UNSUBSCRIBE:10,UNSUBACK:11,PINGREQ:12,PINGRESP:13,DISCONNECT:14},c=function(I,P){for(var M in I)if(I.hasOwnProperty(M))if(P.hasOwnProperty(M)){if(typeof I[M]!==P[M])throw new Error(h(l.INVALID_TYPE,[typeof I[M],M]))}else{var j="Unknown property, "+M+". Valid properties are:";for(var K in P)P.hasOwnProperty(K)&&(j=j+" "+K);throw new Error(j)}},u=function(I,P){return function(){return I.apply(P,arguments)}},l={OK:{code:0,text:"AMQJSC0000I OK."},CONNECT_TIMEOUT:{code:1,text:"AMQJSC0001E Connect timed out."},SUBSCRIBE_TIMEOUT:{code:2,text:"AMQJS0002E Subscribe timed out."},UNSUBSCRIBE_TIMEOUT:{code:3,text:"AMQJS0003E Unsubscribe timed out."},PING_TIMEOUT:{code:4,text:"AMQJS0004E Ping timed out."},INTERNAL_ERROR:{code:5,text:"AMQJS0005E Internal error. Error Message: {0}, Stack trace: {1}"},CONNACK_RETURNCODE:{code:6,text:"AMQJS0006E Bad Connack return code:{0} {1}."},SOCKET_ERROR:{code:7,text:"AMQJS0007E Socket error:{0}."},SOCKET_CLOSE:{code:8,text:"AMQJS0008I Socket closed."},MALFORMED_UTF:{code:9,text:"AMQJS0009E Malformed UTF data:{0} {1} {2}."},UNSUPPORTED:{code:10,text:"AMQJS0010E {0} is not supported by this browser."},INVALID_STATE:{code:11,text:"AMQJS0011E Invalid state {0}."},INVALID_TYPE:{code:12,text:"AMQJS0012E Invalid type {0} for {1}."},INVALID_ARGUMENT:{code:13,text:"AMQJS0013E Invalid argument {0} for {1}."},UNSUPPORTED_OPERATION:{code:14,text:"AMQJS0014E Unsupported operation."},INVALID_STORED_DATA:{code:15,text:"AMQJS0015E Invalid data in local storage key={0} value={1}."},INVALID_MQTT_MESSAGE_TYPE:{code:16,text:"AMQJS0016E Invalid MQTT message type {0}."},MALFORMED_UNICODE:{code:17,text:"AMQJS0017E Malformed Unicode string:{0} {1}."},BUFFER_FULL:{code:18,text:"AMQJS0018E Message buffer is full, maximum buffer size: {0}."}},f={0:"Connection Accepted",1:"Connection Refused: unacceptable protocol version",2:"Connection Refused: identifier rejected",3:"Connection Refused: server unavailable",4:"Connection Refused: bad user name or password",5:"Connection Refused: not authorized"},h=function(I,P){var M=I.text;if(P){for(var j,K,G=0;G<P.length;G++)if(j="{"+G+"}",K=M.indexOf(j),K>0){var q=M.substring(0,K),z=M.substring(K+j.length);M=q+P[G]+z}}return M},v=[0,6,77,81,73,115,100,112,3],g=[0,4,77,81,84,84,4],w=function(I,P){this.type=I;for(var M in P)P.hasOwnProperty(M)&&(this[M]=P[M])};w.prototype.encode=function(){var I=(this.type&15)<<4,P=0,M=[],j=0,K;switch(this.messageIdentifier!==void 0&&(P+=2),this.type){case a.CONNECT:switch(this.mqttVersion){case 3:P+=v.length+3;break;case 4:P+=g.length+3;break}P+=x(this.clientId)+2,this.willMessage!==void 0&&(P+=x(this.willMessage.destinationName)+2,K=this.willMessage.payloadBytes,K instanceof Uint8Array||(K=new Uint8Array(q)),P+=K.byteLength+2),this.userName!==void 0&&(P+=x(this.userName)+2),this.password!==void 0&&(P+=x(this.password)+2);break;case a.SUBSCRIBE:I|=2;for(var G=0;G<this.topics.length;G++)M[G]=x(this.topics[G]),P+=M[G]+2;P+=this.requestedQos.length;break;case a.UNSUBSCRIBE:I|=2;for(var G=0;G<this.topics.length;G++)M[G]=x(this.topics[G]),P+=M[G]+2;break;case a.PUBREL:I|=2;break;case a.PUBLISH:this.payloadMessage.duplicate&&(I|=8),I=I|=this.payloadMessage.qos<<1,this.payloadMessage.retained&&(I|=1),j=x(this.payloadMessage.destinationName),P+=j+2;var q=this.payloadMessage.payloadBytes;P+=q.byteLength,q instanceof ArrayBuffer?q=new Uint8Array(q):q instanceof Uint8Array||(q=new Uint8Array(q.buffer));break}var z=A(P),Y=z.length+1,X=new ArrayBuffer(P+Y),te=new Uint8Array(X);if(te[0]=I,te.set(z,1),this.type==a.PUBLISH)Y=_(this.payloadMessage.destinationName,j,te,Y);else if(this.type==a.CONNECT){switch(this.mqttVersion){case 3:te.set(v,Y),Y+=v.length;break;case 4:te.set(g,Y),Y+=g.length;break}var W=0;this.cleanSession&&(W=2),this.willMessage!==void 0&&(W|=4,W|=this.willMessage.qos<<3,this.willMessage.retained&&(W|=32)),this.userName!==void 0&&(W|=128),this.password!==void 0&&(W|=64),te[Y++]=W,Y=b(this.keepAliveInterval,te,Y)}switch(this.messageIdentifier!==void 0&&(Y=b(this.messageIdentifier,te,Y)),this.type){case a.CONNECT:Y=_(this.clientId,x(this.clientId),te,Y),this.willMessage!==void 0&&(Y=_(this.willMessage.destinationName,x(this.willMessage.destinationName),te,Y),Y=b(K.byteLength,te,Y),te.set(K,Y),Y+=K.byteLength),this.userName!==void 0&&(Y=_(this.userName,x(this.userName),te,Y)),this.password!==void 0&&(Y=_(this.password,x(this.password),te,Y));break;case a.PUBLISH:te.set(q,Y);break;case a.SUBSCRIBE:for(var G=0;G<this.topics.length;G++)Y=_(this.topics[G],M[G],te,Y),te[Y++]=this.requestedQos[G];break;case a.UNSUBSCRIBE:for(var G=0;G<this.topics.length;G++)Y=_(this.topics[G],M[G],te,Y);break}return X};function y(I,P){var M=P,j=I[P],K=j>>4,G=j&=15;P+=1;var q,z=0,Y=1;do{if(P==I.length)return[null,M];q=I[P++],z+=(q&127)*Y,Y*=128}while((q&128)!==0);var X=P+z;if(X>I.length)return[null,M];var te=new w(K);switch(K){case a.CONNACK:var W=I[P++];W&1&&(te.sessionPresent=!0),te.returnCode=I[P++];break;case a.PUBLISH:var J=G>>1&3,ee=T(I,P);P+=2;var re=k(I,P,ee);P+=ee,J>0&&(te.messageIdentifier=T(I,P),P+=2);var se=new L(I.subarray(P,X));(G&1)==1&&(se.retained=!0),(G&8)==8&&(se.duplicate=!0),se.qos=J,se.destinationName=re,te.payloadMessage=se;break;case a.PUBACK:case a.PUBREC:case a.PUBREL:case a.PUBCOMP:case a.UNSUBACK:te.messageIdentifier=T(I,P);break;case a.SUBACK:te.messageIdentifier=T(I,P),P+=2,te.returnCode=I.subarray(P,X);break}return[te,X]}function b(I,P,M){return P[M++]=I>>8,P[M++]=I%256,M}function _(I,P,M,j){return j=b(P,M,j),R(I,M,j),j+P}function T(I,P){return 256*I[P]+I[P+1]}function A(I){var P=new Array(1),M=0;do{var j=I%128;I=I>>7,I>0&&(j|=128),P[M++]=j}while(I>0&&M<4);return P}function x(I){for(var P=0,M=0;M<I.length;M++){var j=I.charCodeAt(M);j>2047?(55296<=j&&j<=56319&&(M++,P++),P+=3):j>127?P+=2:P++}return P}function R(I,P,M){for(var j=M,K=0;K<I.length;K++){var G=I.charCodeAt(K);if(55296<=G&&G<=56319){var q=I.charCodeAt(++K);if(isNaN(q))throw new Error(h(l.MALFORMED_UNICODE,[G,q]));G=(G-55296<<10)+(q-56320)+65536}G<=127?P[j++]=G:G<=2047?(P[j++]=G>>6&31|192,P[j++]=G&63|128):G<=65535?(P[j++]=G>>12&15|224,P[j++]=G>>6&63|128,P[j++]=G&63|128):(P[j++]=G>>18&7|240,P[j++]=G>>12&63|128,P[j++]=G>>6&63|128,P[j++]=G&63|128)}return P}function k(I,P,M){for(var j="",K,G=P;G<P+M;){var q=I[G++];if(q<128)K=q;else{var z=I[G++]-128;if(z<0)throw new Error(h(l.MALFORMED_UTF,[q.toString(16),z.toString(16),""]));if(q<224)K=64*(q-192)+z;else{var Y=I[G++]-128;if(Y<0)throw new Error(h(l.MALFORMED_UTF,[q.toString(16),z.toString(16),Y.toString(16)]));if(q<240)K=4096*(q-224)+64*z+Y;else{var X=I[G++]-128;if(X<0)throw new Error(h(l.MALFORMED_UTF,[q.toString(16),z.toString(16),Y.toString(16),X.toString(16)]));if(q<248)K=262144*(q-240)+4096*z+64*Y+X;else throw new Error(h(l.MALFORMED_UTF,[q.toString(16),z.toString(16),Y.toString(16),X.toString(16)]))}}}K>65535&&(K-=65536,j+=String.fromCharCode(55296+(K>>10)),K=56320+(K&1023)),j+=String.fromCharCode(K)}return j}var U=function(I,P){this._client=I,this._keepAliveInterval=P*1e3,this.isReset=!1;var M=new w(a.PINGREQ).encode(),j=function(G){return function(){return K.apply(G)}},K=function(){this.isReset?(this.isReset=!1,this._client._trace("Pinger.doPing","send PINGREQ"),this._client.socket.send(M),this.timeout=setTimeout(j(this),this._keepAliveInterval)):(this._client._trace("Pinger.doPing","Timed out"),this._client._disconnected(l.PING_TIMEOUT.code,h(l.PING_TIMEOUT)))};this.reset=function(){this.isReset=!0,clearTimeout(this.timeout),this._keepAliveInterval>0&&(this.timeout=setTimeout(j(this),this._keepAliveInterval))},this.cancel=function(){clearTimeout(this.timeout)}},B=function(I,P,M,j){P||(P=30);var K=function(G,q,z){return function(){return G.apply(q,z)}};this.timeout=setTimeout(K(M,I,j),P*1e3),this.cancel=function(){clearTimeout(this.timeout)}},N=function(I,P,M,j,K){if(!("WebSocket"in i&&i.WebSocket!==null))throw new Error(h(l.UNSUPPORTED,["WebSocket"]));if(!("ArrayBuffer"in i&&i.ArrayBuffer!==null))throw new Error(h(l.UNSUPPORTED,["ArrayBuffer"]));this._trace("Paho.Client",I,P,M,j,K),this.host=P,this.port=M,this.path=j,this.uri=I,this.clientId=K,this._wsuri=null,this._localKey=P+":"+M+(j!="/mqtt"?":"+j:"")+":"+K+":",this._msg_queue=[],this._buffered_msg_queue=[],this._sentMessages={},this._receivedMessages={},this._notify_msg_sent={},this._message_identifier=1,this._sequence=0;for(var G in s)(G.indexOf("Sent:"+this._localKey)===0||G.indexOf("Received:"+this._localKey)===0)&&this.restore(G)};N.prototype.host=null,N.prototype.port=null,N.prototype.path=null,N.prototype.uri=null,N.prototype.clientId=null,N.prototype.socket=null,N.prototype.connected=!1,N.prototype.maxMessageIdentifier=65536,N.prototype.connectOptions=null,N.prototype.hostIndex=null,N.prototype.onConnected=null,N.prototype.onConnectionLost=null,N.prototype.onMessageDelivered=null,N.prototype.onMessageArrived=null,N.prototype.traceFunction=null,N.prototype._msg_queue=null,N.prototype._buffered_msg_queue=null,N.prototype._connectTimeout=null,N.prototype.sendPinger=null,N.prototype.receivePinger=null,N.prototype._reconnectInterval=1,N.prototype._reconnecting=!1,N.prototype._reconnectTimeout=null,N.prototype.disconnectedPublishing=!1,N.prototype.disconnectedBufferSize=5e3,N.prototype.receiveBuffer=null,N.prototype._traceBuffer=null,N.prototype._MAX_TRACE_ENTRIES=100,N.prototype.connect=function(I){var P=this._traceMask(I,"password");if(this._trace("Client.connect",P,this.socket,this.connected),this.connected)throw new Error(h(l.INVALID_STATE,["already connected"]));if(this.socket)throw new Error(h(l.INVALID_STATE,["already connected"]));this._reconnecting&&(this._reconnectTimeout.cancel(),this._reconnectTimeout=null,this._reconnecting=!1),this.connectOptions=I,this._reconnectInterval=1,this._reconnecting=!1,I.uris?(this.hostIndex=0,this._doConnect(I.uris[0])):this._doConnect(this.uri)},N.prototype.subscribe=function(I,P){if(this._trace("Client.subscribe",I,P),!this.connected)throw new Error(h(l.INVALID_STATE,["not connected"]));var M=new w(a.SUBSCRIBE);M.topics=I.constructor===Array?I:[I],P.qos===void 0&&(P.qos=0),M.requestedQos=[];for(var j=0;j<M.topics.length;j++)M.requestedQos[j]=P.qos;P.onSuccess&&(M.onSuccess=function(K){P.onSuccess({invocationContext:P.invocationContext,grantedQos:K})}),P.onFailure&&(M.onFailure=function(K){P.onFailure({invocationContext:P.invocationContext,errorCode:K,errorMessage:h(K)})}),P.timeout&&(M.timeOut=new B(this,P.timeout,P.onFailure,[{invocationContext:P.invocationContext,errorCode:l.SUBSCRIBE_TIMEOUT.code,errorMessage:h(l.SUBSCRIBE_TIMEOUT)}])),this._requires_ack(M),this._schedule_message(M)},N.prototype.unsubscribe=function(I,P){if(this._trace("Client.unsubscribe",I,P),!this.connected)throw new Error(h(l.INVALID_STATE,["not connected"]));var M=new w(a.UNSUBSCRIBE);M.topics=I.constructor===Array?I:[I],P.onSuccess&&(M.callback=function(){P.onSuccess({invocationContext:P.invocationContext})}),P.timeout&&(M.timeOut=new B(this,P.timeout,P.onFailure,[{invocationContext:P.invocationContext,errorCode:l.UNSUBSCRIBE_TIMEOUT.code,errorMessage:h(l.UNSUBSCRIBE_TIMEOUT)}])),this._requires_ack(M),this._schedule_message(M)},N.prototype.send=function(I){this._trace("Client.send",I);var P=new w(a.PUBLISH);if(P.payloadMessage=I,this.connected)I.qos>0?this._requires_ack(P):this.onMessageDelivered&&(this._notify_msg_sent[P]=this.onMessageDelivered(P.payloadMessage)),this._schedule_message(P);else if(this._reconnecting&&this.disconnectedPublishing){var M=Object.keys(this._sentMessages).length+this._buffered_msg_queue.length;if(M>this.disconnectedBufferSize)throw new Error(h(l.BUFFER_FULL,[this.disconnectedBufferSize]));I.qos>0?this._requires_ack(P):(P.sequence=++this._sequence,this._buffered_msg_queue.unshift(P))}else throw new Error(h(l.INVALID_STATE,["not connected"]))},N.prototype.disconnect=function(){if(this._trace("Client.disconnect"),this._reconnecting&&(this._reconnectTimeout.cancel(),this._reconnectTimeout=null,this._reconnecting=!1),!this.socket)throw new Error(h(l.INVALID_STATE,["not connecting or connected"]));var I=new w(a.DISCONNECT);this._notify_msg_sent[I]=u(this._disconnected,this),this._schedule_message(I)},N.prototype.getTraceLog=function(){if(this._traceBuffer!==null){this._trace("Client.getTraceLog",new Date),this._trace("Client.getTraceLog in flight messages",this._sentMessages.length);for(var I in this._sentMessages)this._trace("_sentMessages ",I,this._sentMessages[I]);for(var I in this._receivedMessages)this._trace("_receivedMessages ",I,this._receivedMessages[I]);return this._traceBuffer}},N.prototype.startTrace=function(){this._traceBuffer===null&&(this._traceBuffer=[]),this._trace("Client.startTrace",new Date,o)},N.prototype.stopTrace=function(){delete this._traceBuffer},N.prototype._doConnect=function(I){if(this.connectOptions.useSSL){var P=I.split(":");P[0]="wss",I=P.join(":")}this._wsuri=I,this.connected=!1,this.connectOptions.mqttVersion<4?this.socket=new WebSocket(I,["mqttv3.1"]):this.socket=new WebSocket(I,["mqtt"]),this.socket.binaryType="arraybuffer",this.socket.onopen=u(this._on_socket_open,this),this.socket.onmessage=u(this._on_socket_message,this),this.socket.onerror=u(this._on_socket_error,this),this.socket.onclose=u(this._on_socket_close,this),this.sendPinger=new U(this,this.connectOptions.keepAliveInterval),this.receivePinger=new U(this,this.connectOptions.keepAliveInterval),this._connectTimeout&&(this._connectTimeout.cancel(),this._connectTimeout=null),this._connectTimeout=new B(this,this.connectOptions.timeout,this._disconnected,[l.CONNECT_TIMEOUT.code,h(l.CONNECT_TIMEOUT)])},N.prototype._schedule_message=function(I){this._msg_queue.unshift(I),this.connected&&this._process_queue()},N.prototype.store=function(I,P){var M={type:P.type,messageIdentifier:P.messageIdentifier,version:1};switch(P.type){case a.PUBLISH:P.pubRecReceived&&(M.pubRecReceived=!0),M.payloadMessage={};for(var j="",K=P.payloadMessage.payloadBytes,G=0;G<K.length;G++)K[G]<=15?j=j+"0"+K[G].toString(16):j=j+K[G].toString(16);M.payloadMessage.payloadHex=j,M.payloadMessage.qos=P.payloadMessage.qos,M.payloadMessage.destinationName=P.payloadMessage.destinationName,P.payloadMessage.duplicate&&(M.payloadMessage.duplicate=!0),P.payloadMessage.retained&&(M.payloadMessage.retained=!0),I.indexOf("Sent:")===0&&(P.sequence===void 0&&(P.sequence=++this._sequence),M.sequence=P.sequence);break;default:throw Error(h(l.INVALID_STORED_DATA,[I+this._localKey+P.messageIdentifier,M]))}s.setItem(I+this._localKey+P.messageIdentifier,JSON.stringify(M))},N.prototype.restore=function(I){var P=s.getItem(I),M=JSON.parse(P),j=new w(M.type,M);switch(M.type){case a.PUBLISH:for(var K=M.payloadMessage.payloadHex,G=new ArrayBuffer(K.length/2),q=new Uint8Array(G),z=0;K.length>=2;){var Y=parseInt(K.substring(0,2),16);K=K.substring(2,K.length),q[z++]=Y}var X=new L(q);X.qos=M.payloadMessage.qos,X.destinationName=M.payloadMessage.destinationName,M.payloadMessage.duplicate&&(X.duplicate=!0),M.payloadMessage.retained&&(X.retained=!0),j.payloadMessage=X;break;default:throw Error(h(l.INVALID_STORED_DATA,[I,P]))}I.indexOf("Sent:"+this._localKey)===0?(j.payloadMessage.duplicate=!0,this._sentMessages[j.messageIdentifier]=j):I.indexOf("Received:"+this._localKey)===0&&(this._receivedMessages[j.messageIdentifier]=j)},N.prototype._process_queue=function(){for(var I=null;I=this._msg_queue.pop();)this._socket_send(I),this._notify_msg_sent[I]&&(this._notify_msg_sent[I](),delete this._notify_msg_sent[I])},N.prototype._requires_ack=function(I){var P=Object.keys(this._sentMessages).length;if(P>this.maxMessageIdentifier)throw Error("Too many messages:"+P);for(;this._sentMessages[this._message_identifier]!==void 0;)this._message_identifier++;I.messageIdentifier=this._message_identifier,this._sentMessages[I.messageIdentifier]=I,I.type===a.PUBLISH&&this.store("Sent:",I),this._message_identifier===this.maxMessageIdentifier&&(this._message_identifier=1)},N.prototype._on_socket_open=function(){var I=new w(a.CONNECT,this.connectOptions);I.clientId=this.clientId,this._socket_send(I)},N.prototype._on_socket_message=function(I){this._trace("Client._on_socket_message",I.data);for(var P=this._deframeMessages(I.data),M=0;M<P.length;M+=1)this._handleMessage(P[M])},N.prototype._deframeMessages=function(I){var P=new Uint8Array(I),M=[];if(this.receiveBuffer){var j=new Uint8Array(this.receiveBuffer.length+P.length);j.set(this.receiveBuffer),j.set(P,this.receiveBuffer.length),P=j,delete this.receiveBuffer}try{for(var K=0;K<P.length;){var G=y(P,K),q=G[0];if(K=G[1],q!==null)M.push(q);else break}K<P.length&&(this.receiveBuffer=P.subarray(K))}catch(Y){var z=Y.hasOwnProperty("stack")=="undefined"?Y.stack.toString():"No Error Stack Available";this._disconnected(l.INTERNAL_ERROR.code,h(l.INTERNAL_ERROR,[Y.message,z]));return}return M},N.prototype._handleMessage=function(I){this._trace("Client._handleMessage",I);try{switch(I.type){case a.CONNACK:if(this._connectTimeout.cancel(),this._reconnectTimeout&&this._reconnectTimeout.cancel(),this.connectOptions.cleanSession){for(var P in this._sentMessages){var W=this._sentMessages[P];s.removeItem("Sent:"+this._localKey+W.messageIdentifier)}this._sentMessages={};for(var P in this._receivedMessages){var X=this._receivedMessages[P];s.removeItem("Received:"+this._localKey+X.messageIdentifier)}this._receivedMessages={}}if(I.returnCode===0)this.connected=!0,this.connectOptions.uris&&(this.hostIndex=this.connectOptions.uris.length);else{this._disconnected(l.CONNACK_RETURNCODE.code,h(l.CONNACK_RETURNCODE,[I.returnCode,f[I.returnCode]]));break}var K=[];for(var M in this._sentMessages)this._sentMessages.hasOwnProperty(M)&&K.push(this._sentMessages[M]);if(this._buffered_msg_queue.length>0)for(var j=null;j=this._buffered_msg_queue.pop();)K.push(j),this.onMessageDelivered&&(this._notify_msg_sent[j]=this.onMessageDelivered(j.payloadMessage));for(var K=K.sort(function(ee,re){return ee.sequence-re.sequence}),G=0,q=K.length;G<q;G++){var W=K[G];if(W.type==a.PUBLISH&&W.pubRecReceived){var z=new w(a.PUBREL,{messageIdentifier:W.messageIdentifier});this._schedule_message(z)}else this._schedule_message(W)}this.connectOptions.onSuccess&&this.connectOptions.onSuccess({invocationContext:this.connectOptions.invocationContext});var Y=!1;this._reconnecting&&(Y=!0,this._reconnectInterval=1,this._reconnecting=!1),this._connected(Y,this._wsuri),this._process_queue();break;case a.PUBLISH:this._receivePublish(I);break;case a.PUBACK:var W=this._sentMessages[I.messageIdentifier];W&&(delete this._sentMessages[I.messageIdentifier],s.removeItem("Sent:"+this._localKey+I.messageIdentifier),this.onMessageDelivered&&this.onMessageDelivered(W.payloadMessage));break;case a.PUBREC:var W=this._sentMessages[I.messageIdentifier];if(W){W.pubRecReceived=!0;var z=new w(a.PUBREL,{messageIdentifier:I.messageIdentifier});this.store("Sent:",W),this._schedule_message(z)}break;case a.PUBREL:var X=this._receivedMessages[I.messageIdentifier];s.removeItem("Received:"+this._localKey+I.messageIdentifier),X&&(this._receiveMessage(X),delete this._receivedMessages[I.messageIdentifier]);var te=new w(a.PUBCOMP,{messageIdentifier:I.messageIdentifier});this._schedule_message(te);break;case a.PUBCOMP:var W=this._sentMessages[I.messageIdentifier];delete this._sentMessages[I.messageIdentifier],s.removeItem("Sent:"+this._localKey+I.messageIdentifier),this.onMessageDelivered&&this.onMessageDelivered(W.payloadMessage);break;case a.SUBACK:var W=this._sentMessages[I.messageIdentifier];W&&(W.timeOut&&W.timeOut.cancel(),I.returnCode[0]===128?W.onFailure&&W.onFailure(I.returnCode):W.onSuccess&&W.onSuccess(I.returnCode),delete this._sentMessages[I.messageIdentifier]);break;case a.UNSUBACK:var W=this._sentMessages[I.messageIdentifier];W&&(W.timeOut&&W.timeOut.cancel(),W.callback&&W.callback(),delete this._sentMessages[I.messageIdentifier]);break;case a.PINGRESP:this.sendPinger.reset();break;case a.DISCONNECT:this._disconnected(l.INVALID_MQTT_MESSAGE_TYPE.code,h(l.INVALID_MQTT_MESSAGE_TYPE,[I.type]));break;default:this._disconnected(l.INVALID_MQTT_MESSAGE_TYPE.code,h(l.INVALID_MQTT_MESSAGE_TYPE,[I.type]))}}catch(ee){var J=ee.hasOwnProperty("stack")=="undefined"?ee.stack.toString():"No Error Stack Available";this._disconnected(l.INTERNAL_ERROR.code,h(l.INTERNAL_ERROR,[ee.message,J]));return}},N.prototype._on_socket_error=function(I){this._reconnecting||this._disconnected(l.SOCKET_ERROR.code,h(l.SOCKET_ERROR,[I.data]))},N.prototype._on_socket_close=function(){this._reconnecting||this._disconnected(l.SOCKET_CLOSE.code,h(l.SOCKET_CLOSE))},N.prototype._socket_send=function(I){if(I.type==1){var P=this._traceMask(I,"password");this._trace("Client._socket_send",P)}else this._trace("Client._socket_send",I);this.socket.send(I.encode()),this.sendPinger.reset()},N.prototype._receivePublish=function(I){switch(I.payloadMessage.qos){case"undefined":case 0:this._receiveMessage(I);break;case 1:var P=new w(a.PUBACK,{messageIdentifier:I.messageIdentifier});this._schedule_message(P),this._receiveMessage(I);break;case 2:this._receivedMessages[I.messageIdentifier]=I,this.store("Received:",I);var M=new w(a.PUBREC,{messageIdentifier:I.messageIdentifier});this._schedule_message(M);break;default:throw Error("Invaild qos="+I.payloadMessage.qos)}},N.prototype._receiveMessage=function(I){this.onMessageArrived&&this.onMessageArrived(I.payloadMessage)},N.prototype._connected=function(I,P){this.onConnected&&this.onConnected(I,P)},N.prototype._reconnect=function(){this._trace("Client._reconnect"),this.connected||(this._reconnecting=!0,this.sendPinger.cancel(),this.receivePinger.cancel(),this._reconnectInterval<128&&(this._reconnectInterval=this._reconnectInterval*2),this.connectOptions.uris?(this.hostIndex=0,this._doConnect(this.connectOptions.uris[0])):this._doConnect(this.uri))},N.prototype._disconnected=function(I,P){if(this._trace("Client._disconnected",I,P),I!==void 0&&this._reconnecting){this._reconnectTimeout=new B(this,this._reconnectInterval,this._reconnect);return}if(this.sendPinger.cancel(),this.receivePinger.cancel(),this._connectTimeout&&(this._connectTimeout.cancel(),this._connectTimeout=null),this._msg_queue=[],this._buffered_msg_queue=[],this._notify_msg_sent={},this.socket&&(this.socket.onopen=null,this.socket.onmessage=null,this.socket.onerror=null,this.socket.onclose=null,this.socket.readyState===1&&this.socket.close(),delete this.socket),this.connectOptions.uris&&this.hostIndex<this.connectOptions.uris.length-1)this.hostIndex++,this._doConnect(this.connectOptions.uris[this.hostIndex]);else if(I===void 0&&(I=l.OK.code,P=h(l.OK)),this.connected){if(this.connected=!1,this.onConnectionLost&&this.onConnectionLost({errorCode:I,errorMessage:P,reconnect:this.connectOptions.reconnect,uri:this._wsuri}),I!==l.OK.code&&this.connectOptions.reconnect){this._reconnectInterval=1,this._reconnect();return}}else this.connectOptions.mqttVersion===4&&this.connectOptions.mqttVersionExplicit===!1?(this._trace("Failed to connect V4, dropping back to V3"),this.connectOptions.mqttVersion=3,this.connectOptions.uris?(this.hostIndex=0,this._doConnect(this.connectOptions.uris[0])):this._doConnect(this.uri)):this.connectOptions.onFailure&&this.connectOptions.onFailure({invocationContext:this.connectOptions.invocationContext,errorCode:I,errorMessage:P})},N.prototype._trace=function(){if(this.traceFunction){var I=Array.prototype.slice.call(arguments);for(var P in I)typeof I[P]!="undefined"&&I.splice(P,1,JSON.stringify(I[P]));var M=I.join("");this.traceFunction({severity:"Debug",message:M})}if(this._traceBuffer!==null)for(var P=0,j=arguments.length;P<j;P++)this._traceBuffer.length==this._MAX_TRACE_ENTRIES&&this._traceBuffer.shift(),P===0?this._traceBuffer.push(arguments[P]):typeof arguments[P]=="undefined"?this._traceBuffer.push(arguments[P]):this._traceBuffer.push("  "+JSON.stringify(arguments[P]))},N.prototype._traceMask=function(I,P){var M={};for(var j in I)I.hasOwnProperty(j)&&(j==P?M[j]="******":M[j]=I[j]);return M};var F=function(I,P,M,j){var K;if(typeof I!="string")throw new Error(h(l.INVALID_TYPE,[typeof I,"host"]));if(arguments.length==2){j=P,K=I;var G=K.match(/^(wss?):\/\/((\[(.+)\])|([^\/]+?))(:(\d+))?(\/.*)$/);if(G)I=G[4]||G[2],P=parseInt(G[7]),M=G[8];else throw new Error(h(l.INVALID_ARGUMENT,[I,"host"]))}else{if(arguments.length==3&&(j=M,M="/mqtt"),typeof P!="number"||P<0)throw new Error(h(l.INVALID_TYPE,[typeof P,"port"]));if(typeof M!="string")throw new Error(h(l.INVALID_TYPE,[typeof M,"path"]));var q=I.indexOf(":")!==-1&&I.slice(0,1)!=="["&&I.slice(-1)!=="]";K="ws://"+(q?"["+I+"]":I)+":"+P+M}for(var z=0,Y=0;Y<j.length;Y++){var X=j.charCodeAt(Y);55296<=X&&X<=56319&&Y++,z++}if(typeof j!="string"||z>65535)throw new Error(h(l.INVALID_ARGUMENT,[j,"clientId"]));var te=new N(K,I,P,M,j);Object.defineProperties(this,{host:{get:function(){return I},set:function(){throw new Error(h(l.UNSUPPORTED_OPERATION))}},port:{get:function(){return P},set:function(){throw new Error(h(l.UNSUPPORTED_OPERATION))}},path:{get:function(){return M},set:function(){throw new Error(h(l.UNSUPPORTED_OPERATION))}},uri:{get:function(){return K},set:function(){throw new Error(h(l.UNSUPPORTED_OPERATION))}},clientId:{get:function(){return te.clientId},set:function(){throw new Error(h(l.UNSUPPORTED_OPERATION))}},onConnected:{get:function(){return te.onConnected},set:function(W){if(typeof W=="function")te.onConnected=W;else throw new Error(h(l.INVALID_TYPE,[typeof W,"onConnected"]))}},disconnectedPublishing:{get:function(){return te.disconnectedPublishing},set:function(W){te.disconnectedPublishing=W}},disconnectedBufferSize:{get:function(){return te.disconnectedBufferSize},set:function(W){te.disconnectedBufferSize=W}},onConnectionLost:{get:function(){return te.onConnectionLost},set:function(W){if(typeof W=="function")te.onConnectionLost=W;else throw new Error(h(l.INVALID_TYPE,[typeof W,"onConnectionLost"]))}},onMessageDelivered:{get:function(){return te.onMessageDelivered},set:function(W){if(typeof W=="function")te.onMessageDelivered=W;else throw new Error(h(l.INVALID_TYPE,[typeof W,"onMessageDelivered"]))}},onMessageArrived:{get:function(){return te.onMessageArrived},set:function(W){if(typeof W=="function")te.onMessageArrived=W;else throw new Error(h(l.INVALID_TYPE,[typeof W,"onMessageArrived"]))}},trace:{get:function(){return te.traceFunction},set:function(W){if(typeof W=="function")te.traceFunction=W;else throw new Error(h(l.INVALID_TYPE,[typeof W,"onTrace"]))}}}),this.connect=function(W){if(W=W||{},c(W,{timeout:"number",userName:"string",password:"string",willMessage:"object",keepAliveInterval:"number",cleanSession:"boolean",useSSL:"boolean",invocationContext:"object",onSuccess:"function",onFailure:"function",hosts:"object",ports:"object",reconnect:"boolean",mqttVersion:"number",mqttVersionExplicit:"boolean",uris:"object"}),W.keepAliveInterval===void 0&&(W.keepAliveInterval=60),W.mqttVersion>4||W.mqttVersion<3)throw new Error(h(l.INVALID_ARGUMENT,[W.mqttVersion,"connectOptions.mqttVersion"]));if(W.mqttVersion===void 0?(W.mqttVersionExplicit=!1,W.mqttVersion=4):W.mqttVersionExplicit=!0,W.password!==void 0&&W.userName===void 0)throw new Error(h(l.INVALID_ARGUMENT,[W.password,"connectOptions.password"]));if(W.willMessage){if(!(W.willMessage instanceof L))throw new Error(h(l.INVALID_TYPE,[W.willMessage,"connectOptions.willMessage"]));if(W.willMessage.stringPayload=null,typeof W.willMessage.destinationName=="undefined")throw new Error(h(l.INVALID_TYPE,[typeof W.willMessage.destinationName,"connectOptions.willMessage.destinationName"]))}if(typeof W.cleanSession=="undefined"&&(W.cleanSession=!0),W.hosts){if(!(W.hosts instanceof Array))throw new Error(h(l.INVALID_ARGUMENT,[W.hosts,"connectOptions.hosts"]));if(W.hosts.length<1)throw new Error(h(l.INVALID_ARGUMENT,[W.hosts,"connectOptions.hosts"]));for(var J=!1,ee=0;ee<W.hosts.length;ee++){if(typeof W.hosts[ee]!="string")throw new Error(h(l.INVALID_TYPE,[typeof W.hosts[ee],"connectOptions.hosts["+ee+"]"]));if(/^(wss?):\/\/((\[(.+)\])|([^\/]+?))(:(\d+))?(\/.*)$/.test(W.hosts[ee])){if(ee===0)J=!0;else if(!J)throw new Error(h(l.INVALID_ARGUMENT,[W.hosts[ee],"connectOptions.hosts["+ee+"]"]))}else if(J)throw new Error(h(l.INVALID_ARGUMENT,[W.hosts[ee],"connectOptions.hosts["+ee+"]"]))}if(J)W.uris=W.hosts;else{if(!W.ports)throw new Error(h(l.INVALID_ARGUMENT,[W.ports,"connectOptions.ports"]));if(!(W.ports instanceof Array))throw new Error(h(l.INVALID_ARGUMENT,[W.ports,"connectOptions.ports"]));if(W.hosts.length!==W.ports.length)throw new Error(h(l.INVALID_ARGUMENT,[W.ports,"connectOptions.ports"]));W.uris=[];for(var ee=0;ee<W.hosts.length;ee++){if(typeof W.ports[ee]!="number"||W.ports[ee]<0)throw new Error(h(l.INVALID_TYPE,[typeof W.ports[ee],"connectOptions.ports["+ee+"]"]));var re=W.hosts[ee],se=W.ports[ee],ve=re.indexOf(":")!==-1;K="ws://"+(ve?"["+re+"]":re)+":"+se+M,W.uris.push(K)}}}te.connect(W)},this.subscribe=function(W,J){if(typeof W!="string"&&W.constructor!==Array)throw new Error("Invalid argument:"+W);if(J=J||{},c(J,{qos:"number",invocationContext:"object",onSuccess:"function",onFailure:"function",timeout:"number"}),J.timeout&&!J.onFailure)throw new Error("subscribeOptions.timeout specified with no onFailure callback.");if(typeof J.qos!="undefined"&&!(J.qos===0||J.qos===1||J.qos===2))throw new Error(h(l.INVALID_ARGUMENT,[J.qos,"subscribeOptions.qos"]));te.subscribe(W,J)},this.unsubscribe=function(W,J){if(typeof W!="string"&&W.constructor!==Array)throw new Error("Invalid argument:"+W);if(J=J||{},c(J,{invocationContext:"object",onSuccess:"function",onFailure:"function",timeout:"number"}),J.timeout&&!J.onFailure)throw new Error("unsubscribeOptions.timeout specified with no onFailure callback.");te.unsubscribe(W,J)},this.send=function(W,J,ee,re){var se;if(arguments.length===0)throw new Error("Invalid argument.length");if(arguments.length==1){if(!(W instanceof L)&&typeof W!="string")throw new Error("Invalid argument:"+typeof W);if(se=W,typeof se.destinationName=="undefined")throw new Error(h(l.INVALID_ARGUMENT,[se.destinationName,"Message.destinationName"]));te.send(se)}else se=new L(J),se.destinationName=W,arguments.length>=3&&(se.qos=ee),arguments.length>=4&&(se.retained=re),te.send(se)},this.publish=function(W,J,ee,re){var se;if(arguments.length===0)throw new Error("Invalid argument.length");if(arguments.length==1){if(!(W instanceof L)&&typeof W!="string")throw new Error("Invalid argument:"+typeof W);if(se=W,typeof se.destinationName=="undefined")throw new Error(h(l.INVALID_ARGUMENT,[se.destinationName,"Message.destinationName"]));te.send(se)}else se=new L(J),se.destinationName=W,arguments.length>=3&&(se.qos=ee),arguments.length>=4&&(se.retained=re),te.send(se)},this.disconnect=function(){te.disconnect()},this.getTraceLog=function(){return te.getTraceLog()},this.startTrace=function(){te.startTrace()},this.stopTrace=function(){te.stopTrace()},this.isConnected=function(){return te.connected}},L=function(I){var P;if(typeof I=="string"||I instanceof ArrayBuffer||ArrayBuffer.isView(I)&&!(I instanceof DataView))P=I;else throw h(l.INVALID_ARGUMENT,[I,"newPayload"]);var M,j=0,K=!1,G=!1;Object.defineProperties(this,{payloadString:{enumerable:!0,get:function(){return typeof P=="string"?P:k(P,0,P.length)}},payloadBytes:{enumerable:!0,get:function(){if(typeof P=="string"){var q=new ArrayBuffer(x(P)),z=new Uint8Array(q);return R(P,z,0),z}else return P}},destinationName:{enumerable:!0,get:function(){return M},set:function(q){if(typeof q=="string")M=q;else throw new Error(h(l.INVALID_ARGUMENT,[q,"newDestinationName"]))}},qos:{enumerable:!0,get:function(){return j},set:function(q){if(q===0||q===1||q===2)j=q;else throw new Error("Invalid argument:"+q)}},retained:{enumerable:!0,get:function(){return K},set:function(q){if(typeof q=="boolean")K=q;else throw new Error(h(l.INVALID_ARGUMENT,[q,"newRetained"]))}},topic:{enumerable:!0,get:function(){return M},set:function(q){M=q}},duplicate:{enumerable:!0,get:function(){return G},set:function(q){G=q}}})};return{Client:F,Message:L}}(typeof Ge!="undefined"?Ge:typeof self!="undefined"?self:typeof window!="undefined"?window:{});return n})})(Ib);var tN=globalThis&&globalThis.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Tn=globalThis&&globalThis.__assign||function(){return Tn=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Tn.apply(this,arguments)},Gi=globalThis&&globalThis.__awaiter||function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(f){s(f)}}function c(l){try{u(n.throw(l))}catch(f){s(f)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(e,t||[])).next())})},Yi=globalThis&&globalThis.__generator||function(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(l){return c([u,l])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){r.label=u[1];break}if(u[0]===6&&r.label<o[1]){r.label=o[1],o=u;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(u);break}o[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(l){u=[6,l],i=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},wg=globalThis&&globalThis.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r},Ri=new Ae("MqttOverWSProvider");function rN(e,t){for(var r=e.split("/"),n=r.length,i=t.split("/"),o=0;o<n;++o){var s=r[o],a=i[o];if(s==="#")return i.length>=n;if(s!=="+"&&s!==a)return!1}return n===i.length}var nN=function(){function e(){this.promises=new Map}return e.prototype.get=function(t,r){return Gi(this,void 0,void 0,function(){var n;return Yi(this,function(i){return n=this.promises.get(t),n?[2,n]:(n=r(t),this.promises.set(t,n),[2,n])})})},Object.defineProperty(e.prototype,"allClients",{get:function(){return Array.from(this.promises.keys())},enumerable:!0,configurable:!0}),e.prototype.remove=function(t){this.promises.delete(t)},e}(),_g=typeof Symbol!="undefined"?Symbol("topic"):"@@topic",iN=function(e){tN(t,e);function t(r){r===void 0&&(r={});var n=e.call(this,Tn(Tn({},r),{clientId:r.clientId||Rs.v4()}))||this;return n._clientsQueue=new nN,n._topicObservers=new Map,n._clientIdObservers=new Map,n}return Object.defineProperty(t.prototype,"clientId",{get:function(){return this.options.clientId},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endpoint",{get:function(){return this.options.aws_pubsub_endpoint},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"clientsQueue",{get:function(){return this._clientsQueue},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isSSLEnabled",{get:function(){return!this.options.aws_appsync_dangerously_connect_to_http_endpoint_for_testing},enumerable:!0,configurable:!0}),t.prototype.getTopicForValue=function(r){return typeof r=="object"&&r[_g]},t.prototype.getProviderName=function(){return"MqttOverWSProvider"},t.prototype.onDisconnect=function(r){var n=this,i=r.clientId,o=r.errorCode,s=wg(r,["clientId","errorCode"]);if(o!==0){Ri.warn(i,JSON.stringify(Tn({errorCode:o},s),null,2));var a=[],c=this._clientIdObservers.get(i);if(!c)return;c.forEach(function(u){u.error("Disconnected, error code: "+o),n._topicObservers.forEach(function(l,f){l.delete(u),l.size===0&&a.push(f)})}),this._clientIdObservers.delete(i),a.forEach(function(u){n._topicObservers.delete(u)})}},t.prototype.newClient=function(r){var n=r.url,i=r.clientId;return Gi(this,void 0,void 0,function(){var o,s=this;return Yi(this,function(a){switch(a.label){case 0:return Ri.debug("Creating new MQTT client",i),o=new Ib.exports.Client(n,i),o.onMessageArrived=function(c){var u=c.destinationName,l=c.payloadString;s._onMessage(u,l)},o.onConnectionLost=function(c){var u=c.errorCode,l=wg(c,["errorCode"]);s.onDisconnect(Tn({clientId:i,errorCode:u},l))},[4,new Promise(function(c,u){o.connect({useSSL:s.isSSLEnabled,mqttVersion:3,onSuccess:function(){return c(o)},onFailure:u})})];case 1:return a.sent(),[2,o]}})})},t.prototype.connect=function(r,n){return n===void 0&&(n={}),Gi(this,void 0,void 0,function(){var i=this;return Yi(this,function(o){switch(o.label){case 0:return[4,this.clientsQueue.get(r,function(s){return i.newClient(Tn(Tn({},n),{clientId:s}))})];case 1:return[2,o.sent()]}})})},t.prototype.disconnect=function(r){return Gi(this,void 0,void 0,function(){var n;return Yi(this,function(i){switch(i.label){case 0:return[4,this.clientsQueue.get(r,function(){return null})];case 1:return n=i.sent(),n&&n.isConnected()&&n.disconnect(),this.clientsQueue.remove(r),[2]}})})},t.prototype.publish=function(r,n){return Gi(this,void 0,void 0,function(){var i,o,s,a;return Yi(this,function(c){switch(c.label){case 0:return i=[].concat(r),o=JSON.stringify(n),[4,this.endpoint];case 1:return s=c.sent(),[4,this.connect(this.clientId,{url:s})];case 2:return a=c.sent(),Ri.debug("Publishing to topic(s)",i.join(","),o),i.forEach(function(u){return a.send(u,o)}),[2]}})})},t.prototype._onMessage=function(r,n){try{var i=[];this._topicObservers.forEach(function(s,a){rN(a,r)&&i.push(s)});var o=JSON.parse(n);typeof o=="object"&&(o[_g]=r),i.forEach(function(s){s.forEach(function(a){return a.next(o)})})}catch(s){Ri.warn("Error handling message",s,n)}},t.prototype.subscribe=function(r,n){var i=this;n===void 0&&(n={});var o=[].concat(r);return Ri.debug("Subscribing to topic(s)",o.join(",")),new st(function(s){o.forEach(function(f){var h=i._topicObservers.get(f);h||(h=new Set,i._topicObservers.set(f,h)),h.add(s)});var a,c=n.clientId,u=c===void 0?i.clientId:c,l=i._clientIdObservers.get(u);return l||(l=new Set),l.add(s),i._clientIdObservers.set(u,l),function(){return Gi(i,void 0,void 0,function(){var f,h,v,g;return Yi(this,function(w){switch(w.label){case 0:return f=n.url,f!==void 0?[3,2]:[4,this.endpoint];case 1:return v=w.sent(),[3,3];case 2:v=f,w.label=3;case 3:h=v,w.label=4;case 4:return w.trys.push([4,6,,7]),[4,this.connect(u,{url:h})];case 5:return a=w.sent(),o.forEach(function(y){a.subscribe(y)}),[3,7];case 6:return g=w.sent(),s.error(g),[3,7];case 7:return[2]}})})}(),function(){return Ri.debug("Unsubscribing from topic(s)",o.join(",")),a&&(i._clientIdObservers.get(u).delete(s),i._clientIdObservers.get(u).size===0&&(i.disconnect(u),i._clientIdObservers.delete(u)),o.forEach(function(f){var h=i._topicObservers.get(f)||new Set;h.delete(s),h.size===0&&(i._topicObservers.delete(f),a.isConnected()&&a.unsubscribe(f))})),null}})},t}(Tb),oN=globalThis&&globalThis.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),ra=globalThis&&globalThis.__awaiter||function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(f){s(f)}}function c(l){try{u(n.throw(l))}catch(f){s(f)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(e,t||[])).next())})},na=globalThis&&globalThis.__generator||function(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(l){return c([u,l])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){r.label=u[1];break}if(u[0]===6&&r.label<o[1]){r.label=o[1],o=u;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(u);break}o[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(l){u=[6,l],i=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},sN=globalThis&&globalThis.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r},Sn=globalThis&&globalThis.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return o},aN=globalThis&&globalThis.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Sn(arguments[t]));return e},Sg=new Ae("AWSAppSyncProvider"),uN=function(e){oN(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r._topicClient=new Map,r._topicAlias=new Map,r}return Object.defineProperty(t.prototype,"endpoint",{get:function(){throw new Error("Not supported")},enumerable:!0,configurable:!0}),t.prototype.getProviderName=function(){return"AWSAppSyncProvider"},t.prototype.publish=function(r,n,i){return ra(this,void 0,void 0,function(){return na(this,function(o){throw new Error("Operation not supported")})})},t.prototype._cleanUp=function(r){var n=this,i=Array.from(this._topicClient.entries()).filter(function(o){var s=Sn(o,2),a=s[1];return a.clientId===r}).map(function(o){var s=Sn(o,1),a=s[0];return a});i.forEach(function(o){return n._cleanUpForTopic(o)})},t.prototype._cleanUpForTopic=function(r){this._topicClient.delete(r),this._topicAlias.delete(r)},t.prototype.onDisconnect=function(r){var n=this,i=r.clientId,o=r.errorCode,s=sN(r,["clientId","errorCode"]);if(o!==0){var a=Array.from(this._topicClient.entries()).filter(function(c){var u=Sn(c,2),l=u[1];return l.clientId===i}).map(function(c){var u=Sn(c,1),l=u[0];return l});a.forEach(function(c){n._topicObservers.has(c)&&(n._topicObservers.get(c).forEach(function(u){u.closed||u.error(s)}),n._topicObservers.delete(c))}),this._cleanUp(i)}},t.prototype.disconnect=function(r){return ra(this,void 0,void 0,function(){return na(this,function(n){switch(n.label){case 0:return[4,this.clientsQueue.get(r,function(){return null})];case 1:return n.sent(),[4,e.prototype.disconnect.call(this,r)];case 2:return n.sent(),this._cleanUp(r),[2]}})})},t.prototype.subscribe=function(r,n){var i=this;n===void 0&&(n={});var o=new st(function(s){var a=[].concat(r);return Sg.debug("Subscribing to topic(s)",a.join(",")),function(){return ra(i,void 0,void 0,function(){var c,u,l,f,h,v=this;return na(this,function(g){switch(g.label){case 0:return a.forEach(function(w){v._topicObservers.has(w)||v._topicObservers.set(w,new Set),v._topicObservers.get(w).add(s)}),c=n.mqttConnections,u=c===void 0?[]:c,l=n.newSubscriptions,f=Object.entries(l).map(function(w){var y=Sn(w,2),b=y[0],_=y[1];return[_.topic,b]}),this._topicAlias=new Map(aN(Array.from(this._topicAlias.entries()),f)),h=Object.entries(a.reduce(function(w,y){var b=u.find(function(A){return A.topics.indexOf(y)>-1});if(b){var _=b.client,T=b.url;w[_]||(w[_]={url:T,topics:new Set}),w[_].topics.add(y)}return w},{})),[4,Promise.all(h.map(function(w){var y=Sn(w,2),b=y[0],_=y[1],T=_.url,A=_.topics;return ra(v,void 0,void 0,function(){var x,R,k=this;return na(this,function(U){switch(U.label){case 0:x=null,U.label=1;case 1:return U.trys.push([1,3,,4]),[4,this.connect(b,{clientId:b,url:T})];case 2:return x=U.sent(),[3,4];case 3:return R=U.sent(),s.error({message:"Failed to connect",error:R}),s.complete(),[2,void 0];case 4:return A.forEach(function(B){x.isConnected()&&(x.subscribe(B),k._topicClient.set(B,x))}),[2,x]}})})}))];case 1:return g.sent(),[2]}})})}(),function(){Sg.debug("Unsubscribing from topic(s)",a.join(",")),a.forEach(function(c){var u=i._topicClient.get(c);u&&u.isConnected()&&(u.unsubscribe(c),i._topicClient.delete(c),Array.from(i._topicClient.values()).some(function(l){return l===u})||i.disconnect(u.clientId)),i._topicObservers.delete(c)})}});return st.from(o).map(function(s){var a=i.getTopicForValue(s),c=i._topicAlias.get(a);return s.data=Object.entries(s.data).reduce(function(u,l){var f=Sn(l,2),h=f[0],v=f[1];return u[c||h]=v,u},{}),s})},t}(iN),lu={};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(e){var t=Ms,r=ec,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=a,e.SlowBuffer=_,e.INSPECT_MAX_BYTES=50;var i=2147483647;e.kMaxLength=i,a.TYPED_ARRAY_SUPPORT=o(),!a.TYPED_ARRAY_SUPPORT&&typeof console!="undefined"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function o(){try{var O=new Uint8Array(1),S={foo:function(){return 42}};return Object.setPrototypeOf(S,Uint8Array.prototype),Object.setPrototypeOf(O,S),O.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(!!a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(!!a.isBuffer(this))return this.byteOffset}});function s(O){if(O>i)throw new RangeError('The value "'+O+'" is invalid for option "size"');var S=new Uint8Array(O);return Object.setPrototypeOf(S,a.prototype),S}function a(O,S,d){if(typeof O=="number"){if(typeof S=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return f(O)}return c(O,S,d)}a.poolSize=8192;function c(O,S,d){if(typeof O=="string")return h(O,S);if(ArrayBuffer.isView(O))return g(O);if(O==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof O);if(D(O,ArrayBuffer)||O&&D(O.buffer,ArrayBuffer)||typeof SharedArrayBuffer!="undefined"&&(D(O,SharedArrayBuffer)||O&&D(O.buffer,SharedArrayBuffer)))return w(O,S,d);if(typeof O=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var p=O.valueOf&&O.valueOf();if(p!=null&&p!==O)return a.from(p,S,d);var m=y(O);if(m)return m;if(typeof Symbol!="undefined"&&Symbol.toPrimitive!=null&&typeof O[Symbol.toPrimitive]=="function")return a.from(O[Symbol.toPrimitive]("string"),S,d);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof O)}a.from=function(O,S,d){return c(O,S,d)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function u(O){if(typeof O!="number")throw new TypeError('"size" argument must be of type number');if(O<0)throw new RangeError('The value "'+O+'" is invalid for option "size"')}function l(O,S,d){return u(O),O<=0?s(O):S!==void 0?typeof d=="string"?s(O).fill(S,d):s(O).fill(S):s(O)}a.alloc=function(O,S,d){return l(O,S,d)};function f(O){return u(O),s(O<0?0:b(O)|0)}a.allocUnsafe=function(O){return f(O)},a.allocUnsafeSlow=function(O){return f(O)};function h(O,S){if((typeof S!="string"||S==="")&&(S="utf8"),!a.isEncoding(S))throw new TypeError("Unknown encoding: "+S);var d=T(O,S)|0,p=s(d),m=p.write(O,S);return m!==d&&(p=p.slice(0,m)),p}function v(O){for(var S=O.length<0?0:b(O.length)|0,d=s(S),p=0;p<S;p+=1)d[p]=O[p]&255;return d}function g(O){if(D(O,Uint8Array)){var S=new Uint8Array(O);return w(S.buffer,S.byteOffset,S.byteLength)}return v(O)}function w(O,S,d){if(S<0||O.byteLength<S)throw new RangeError('"offset" is outside of buffer bounds');if(O.byteLength<S+(d||0))throw new RangeError('"length" is outside of buffer bounds');var p;return S===void 0&&d===void 0?p=new Uint8Array(O):d===void 0?p=new Uint8Array(O,S):p=new Uint8Array(O,S,d),Object.setPrototypeOf(p,a.prototype),p}function y(O){if(a.isBuffer(O)){var S=b(O.length)|0,d=s(S);return d.length===0||O.copy(d,0,0,S),d}if(O.length!==void 0)return typeof O.length!="number"||$(O.length)?s(0):v(O);if(O.type==="Buffer"&&Array.isArray(O.data))return v(O.data)}function b(O){if(O>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return O|0}function _(O){return+O!=O&&(O=0),a.alloc(+O)}a.isBuffer=function(S){return S!=null&&S._isBuffer===!0&&S!==a.prototype},a.compare=function(S,d){if(D(S,Uint8Array)&&(S=a.from(S,S.offset,S.byteLength)),D(d,Uint8Array)&&(d=a.from(d,d.offset,d.byteLength)),!a.isBuffer(S)||!a.isBuffer(d))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(S===d)return 0;for(var p=S.length,m=d.length,E=0,C=Math.min(p,m);E<C;++E)if(S[E]!==d[E]){p=S[E],m=d[E];break}return p<m?-1:m<p?1:0},a.isEncoding=function(S){switch(String(S).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(S,d){if(!Array.isArray(S))throw new TypeError('"list" argument must be an Array of Buffers');if(S.length===0)return a.alloc(0);var p;if(d===void 0)for(d=0,p=0;p<S.length;++p)d+=S[p].length;var m=a.allocUnsafe(d),E=0;for(p=0;p<S.length;++p){var C=S[p];if(D(C,Uint8Array))E+C.length>m.length?a.from(C).copy(m,E):Uint8Array.prototype.set.call(m,C,E);else if(a.isBuffer(C))C.copy(m,E);else throw new TypeError('"list" argument must be an Array of Buffers');E+=C.length}return m};function T(O,S){if(a.isBuffer(O))return O.length;if(ArrayBuffer.isView(O)||D(O,ArrayBuffer))return O.byteLength;if(typeof O!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof O);var d=O.length,p=arguments.length>2&&arguments[2]===!0;if(!p&&d===0)return 0;for(var m=!1;;)switch(S){case"ascii":case"latin1":case"binary":return d;case"utf8":case"utf-8":return se(O).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return d*2;case"hex":return d>>>1;case"base64":return he(O).length;default:if(m)return p?-1:se(O).length;S=(""+S).toLowerCase(),m=!0}}a.byteLength=T;function A(O,S,d){var p=!1;if((S===void 0||S<0)&&(S=0),S>this.length||((d===void 0||d>this.length)&&(d=this.length),d<=0)||(d>>>=0,S>>>=0,d<=S))return"";for(O||(O="utf8");;)switch(O){case"hex":return q(this,S,d);case"utf8":case"utf-8":return P(this,S,d);case"ascii":return K(this,S,d);case"latin1":case"binary":return G(this,S,d);case"base64":return I(this,S,d);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return z(this,S,d);default:if(p)throw new TypeError("Unknown encoding: "+O);O=(O+"").toLowerCase(),p=!0}}a.prototype._isBuffer=!0;function x(O,S,d){var p=O[S];O[S]=O[d],O[d]=p}a.prototype.swap16=function(){var S=this.length;if(S%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var d=0;d<S;d+=2)x(this,d,d+1);return this},a.prototype.swap32=function(){var S=this.length;if(S%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var d=0;d<S;d+=4)x(this,d,d+3),x(this,d+1,d+2);return this},a.prototype.swap64=function(){var S=this.length;if(S%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var d=0;d<S;d+=8)x(this,d,d+7),x(this,d+1,d+6),x(this,d+2,d+5),x(this,d+3,d+4);return this},a.prototype.toString=function(){var S=this.length;return S===0?"":arguments.length===0?P(this,0,S):A.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(S){if(!a.isBuffer(S))throw new TypeError("Argument must be a Buffer");return this===S?!0:a.compare(this,S)===0},a.prototype.inspect=function(){var S="",d=e.INSPECT_MAX_BYTES;return S=this.toString("hex",0,d).replace(/(.{2})/g,"$1 ").trim(),this.length>d&&(S+=" ... "),"<Buffer "+S+">"},n&&(a.prototype[n]=a.prototype.inspect),a.prototype.compare=function(S,d,p,m,E){if(D(S,Uint8Array)&&(S=a.from(S,S.offset,S.byteLength)),!a.isBuffer(S))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof S);if(d===void 0&&(d=0),p===void 0&&(p=S?S.length:0),m===void 0&&(m=0),E===void 0&&(E=this.length),d<0||p>S.length||m<0||E>this.length)throw new RangeError("out of range index");if(m>=E&&d>=p)return 0;if(m>=E)return-1;if(d>=p)return 1;if(d>>>=0,p>>>=0,m>>>=0,E>>>=0,this===S)return 0;for(var C=E-m,H=p-d,V=Math.min(C,H),ie=this.slice(m,E),ce=S.slice(d,p),fe=0;fe<V;++fe)if(ie[fe]!==ce[fe]){C=ie[fe],H=ce[fe];break}return C<H?-1:H<C?1:0};function R(O,S,d,p,m){if(O.length===0)return-1;if(typeof d=="string"?(p=d,d=0):d>2147483647?d=2147483647:d<-2147483648&&(d=-2147483648),d=+d,$(d)&&(d=m?0:O.length-1),d<0&&(d=O.length+d),d>=O.length){if(m)return-1;d=O.length-1}else if(d<0)if(m)d=0;else return-1;if(typeof S=="string"&&(S=a.from(S,p)),a.isBuffer(S))return S.length===0?-1:k(O,S,d,p,m);if(typeof S=="number")return S=S&255,typeof Uint8Array.prototype.indexOf=="function"?m?Uint8Array.prototype.indexOf.call(O,S,d):Uint8Array.prototype.lastIndexOf.call(O,S,d):k(O,[S],d,p,m);throw new TypeError("val must be string, number or Buffer")}function k(O,S,d,p,m){var E=1,C=O.length,H=S.length;if(p!==void 0&&(p=String(p).toLowerCase(),p==="ucs2"||p==="ucs-2"||p==="utf16le"||p==="utf-16le")){if(O.length<2||S.length<2)return-1;E=2,C/=2,H/=2,d/=2}function V(me,Ie){return E===1?me[Ie]:me.readUInt16BE(Ie*E)}var ie;if(m){var ce=-1;for(ie=d;ie<C;ie++)if(V(O,ie)===V(S,ce===-1?0:ie-ce)){if(ce===-1&&(ce=ie),ie-ce+1===H)return ce*E}else ce!==-1&&(ie-=ie-ce),ce=-1}else for(d+H>C&&(d=C-H),ie=d;ie>=0;ie--){for(var fe=!0,we=0;we<H;we++)if(V(O,ie+we)!==V(S,we)){fe=!1;break}if(fe)return ie}return-1}a.prototype.includes=function(S,d,p){return this.indexOf(S,d,p)!==-1},a.prototype.indexOf=function(S,d,p){return R(this,S,d,p,!0)},a.prototype.lastIndexOf=function(S,d,p){return R(this,S,d,p,!1)};function U(O,S,d,p){d=Number(d)||0;var m=O.length-d;p?(p=Number(p),p>m&&(p=m)):p=m;var E=S.length;p>E/2&&(p=E/2);for(var C=0;C<p;++C){var H=parseInt(S.substr(C*2,2),16);if($(H))return C;O[d+C]=H}return C}function B(O,S,d,p){return le(se(S,O.length-d),O,d,p)}function N(O,S,d,p){return le(ve(S),O,d,p)}function F(O,S,d,p){return le(he(S),O,d,p)}function L(O,S,d,p){return le(ye(S,O.length-d),O,d,p)}a.prototype.write=function(S,d,p,m){if(d===void 0)m="utf8",p=this.length,d=0;else if(p===void 0&&typeof d=="string")m=d,p=this.length,d=0;else if(isFinite(d))d=d>>>0,isFinite(p)?(p=p>>>0,m===void 0&&(m="utf8")):(m=p,p=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var E=this.length-d;if((p===void 0||p>E)&&(p=E),S.length>0&&(p<0||d<0)||d>this.length)throw new RangeError("Attempt to write outside buffer bounds");m||(m="utf8");for(var C=!1;;)switch(m){case"hex":return U(this,S,d,p);case"utf8":case"utf-8":return B(this,S,d,p);case"ascii":case"latin1":case"binary":return N(this,S,d,p);case"base64":return F(this,S,d,p);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return L(this,S,d,p);default:if(C)throw new TypeError("Unknown encoding: "+m);m=(""+m).toLowerCase(),C=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function I(O,S,d){return S===0&&d===O.length?t.fromByteArray(O):t.fromByteArray(O.slice(S,d))}function P(O,S,d){d=Math.min(O.length,d);for(var p=[],m=S;m<d;){var E=O[m],C=null,H=E>239?4:E>223?3:E>191?2:1;if(m+H<=d){var V,ie,ce,fe;switch(H){case 1:E<128&&(C=E);break;case 2:V=O[m+1],(V&192)===128&&(fe=(E&31)<<6|V&63,fe>127&&(C=fe));break;case 3:V=O[m+1],ie=O[m+2],(V&192)===128&&(ie&192)===128&&(fe=(E&15)<<12|(V&63)<<6|ie&63,fe>2047&&(fe<55296||fe>57343)&&(C=fe));break;case 4:V=O[m+1],ie=O[m+2],ce=O[m+3],(V&192)===128&&(ie&192)===128&&(ce&192)===128&&(fe=(E&15)<<18|(V&63)<<12|(ie&63)<<6|ce&63,fe>65535&&fe<1114112&&(C=fe))}}C===null?(C=65533,H=1):C>65535&&(C-=65536,p.push(C>>>10&1023|55296),C=56320|C&1023),p.push(C),m+=H}return j(p)}var M=4096;function j(O){var S=O.length;if(S<=M)return String.fromCharCode.apply(String,O);for(var d="",p=0;p<S;)d+=String.fromCharCode.apply(String,O.slice(p,p+=M));return d}function K(O,S,d){var p="";d=Math.min(O.length,d);for(var m=S;m<d;++m)p+=String.fromCharCode(O[m]&127);return p}function G(O,S,d){var p="";d=Math.min(O.length,d);for(var m=S;m<d;++m)p+=String.fromCharCode(O[m]);return p}function q(O,S,d){var p=O.length;(!S||S<0)&&(S=0),(!d||d<0||d>p)&&(d=p);for(var m="",E=S;E<d;++E)m+=Q[O[E]];return m}function z(O,S,d){for(var p=O.slice(S,d),m="",E=0;E<p.length-1;E+=2)m+=String.fromCharCode(p[E]+p[E+1]*256);return m}a.prototype.slice=function(S,d){var p=this.length;S=~~S,d=d===void 0?p:~~d,S<0?(S+=p,S<0&&(S=0)):S>p&&(S=p),d<0?(d+=p,d<0&&(d=0)):d>p&&(d=p),d<S&&(d=S);var m=this.subarray(S,d);return Object.setPrototypeOf(m,a.prototype),m};function Y(O,S,d){if(O%1!==0||O<0)throw new RangeError("offset is not uint");if(O+S>d)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(S,d,p){S=S>>>0,d=d>>>0,p||Y(S,d,this.length);for(var m=this[S],E=1,C=0;++C<d&&(E*=256);)m+=this[S+C]*E;return m},a.prototype.readUintBE=a.prototype.readUIntBE=function(S,d,p){S=S>>>0,d=d>>>0,p||Y(S,d,this.length);for(var m=this[S+--d],E=1;d>0&&(E*=256);)m+=this[S+--d]*E;return m},a.prototype.readUint8=a.prototype.readUInt8=function(S,d){return S=S>>>0,d||Y(S,1,this.length),this[S]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(S,d){return S=S>>>0,d||Y(S,2,this.length),this[S]|this[S+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(S,d){return S=S>>>0,d||Y(S,2,this.length),this[S]<<8|this[S+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(S,d){return S=S>>>0,d||Y(S,4,this.length),(this[S]|this[S+1]<<8|this[S+2]<<16)+this[S+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(S,d){return S=S>>>0,d||Y(S,4,this.length),this[S]*16777216+(this[S+1]<<16|this[S+2]<<8|this[S+3])},a.prototype.readIntLE=function(S,d,p){S=S>>>0,d=d>>>0,p||Y(S,d,this.length);for(var m=this[S],E=1,C=0;++C<d&&(E*=256);)m+=this[S+C]*E;return E*=128,m>=E&&(m-=Math.pow(2,8*d)),m},a.prototype.readIntBE=function(S,d,p){S=S>>>0,d=d>>>0,p||Y(S,d,this.length);for(var m=d,E=1,C=this[S+--m];m>0&&(E*=256);)C+=this[S+--m]*E;return E*=128,C>=E&&(C-=Math.pow(2,8*d)),C},a.prototype.readInt8=function(S,d){return S=S>>>0,d||Y(S,1,this.length),this[S]&128?(255-this[S]+1)*-1:this[S]},a.prototype.readInt16LE=function(S,d){S=S>>>0,d||Y(S,2,this.length);var p=this[S]|this[S+1]<<8;return p&32768?p|4294901760:p},a.prototype.readInt16BE=function(S,d){S=S>>>0,d||Y(S,2,this.length);var p=this[S+1]|this[S]<<8;return p&32768?p|4294901760:p},a.prototype.readInt32LE=function(S,d){return S=S>>>0,d||Y(S,4,this.length),this[S]|this[S+1]<<8|this[S+2]<<16|this[S+3]<<24},a.prototype.readInt32BE=function(S,d){return S=S>>>0,d||Y(S,4,this.length),this[S]<<24|this[S+1]<<16|this[S+2]<<8|this[S+3]},a.prototype.readFloatLE=function(S,d){return S=S>>>0,d||Y(S,4,this.length),r.read(this,S,!0,23,4)},a.prototype.readFloatBE=function(S,d){return S=S>>>0,d||Y(S,4,this.length),r.read(this,S,!1,23,4)},a.prototype.readDoubleLE=function(S,d){return S=S>>>0,d||Y(S,8,this.length),r.read(this,S,!0,52,8)},a.prototype.readDoubleBE=function(S,d){return S=S>>>0,d||Y(S,8,this.length),r.read(this,S,!1,52,8)};function X(O,S,d,p,m,E){if(!a.isBuffer(O))throw new TypeError('"buffer" argument must be a Buffer instance');if(S>m||S<E)throw new RangeError('"value" argument is out of bounds');if(d+p>O.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(S,d,p,m){if(S=+S,d=d>>>0,p=p>>>0,!m){var E=Math.pow(2,8*p)-1;X(this,S,d,p,E,0)}var C=1,H=0;for(this[d]=S&255;++H<p&&(C*=256);)this[d+H]=S/C&255;return d+p},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(S,d,p,m){if(S=+S,d=d>>>0,p=p>>>0,!m){var E=Math.pow(2,8*p)-1;X(this,S,d,p,E,0)}var C=p-1,H=1;for(this[d+C]=S&255;--C>=0&&(H*=256);)this[d+C]=S/H&255;return d+p},a.prototype.writeUint8=a.prototype.writeUInt8=function(S,d,p){return S=+S,d=d>>>0,p||X(this,S,d,1,255,0),this[d]=S&255,d+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(S,d,p){return S=+S,d=d>>>0,p||X(this,S,d,2,65535,0),this[d]=S&255,this[d+1]=S>>>8,d+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(S,d,p){return S=+S,d=d>>>0,p||X(this,S,d,2,65535,0),this[d]=S>>>8,this[d+1]=S&255,d+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(S,d,p){return S=+S,d=d>>>0,p||X(this,S,d,4,4294967295,0),this[d+3]=S>>>24,this[d+2]=S>>>16,this[d+1]=S>>>8,this[d]=S&255,d+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(S,d,p){return S=+S,d=d>>>0,p||X(this,S,d,4,4294967295,0),this[d]=S>>>24,this[d+1]=S>>>16,this[d+2]=S>>>8,this[d+3]=S&255,d+4},a.prototype.writeIntLE=function(S,d,p,m){if(S=+S,d=d>>>0,!m){var E=Math.pow(2,8*p-1);X(this,S,d,p,E-1,-E)}var C=0,H=1,V=0;for(this[d]=S&255;++C<p&&(H*=256);)S<0&&V===0&&this[d+C-1]!==0&&(V=1),this[d+C]=(S/H>>0)-V&255;return d+p},a.prototype.writeIntBE=function(S,d,p,m){if(S=+S,d=d>>>0,!m){var E=Math.pow(2,8*p-1);X(this,S,d,p,E-1,-E)}var C=p-1,H=1,V=0;for(this[d+C]=S&255;--C>=0&&(H*=256);)S<0&&V===0&&this[d+C+1]!==0&&(V=1),this[d+C]=(S/H>>0)-V&255;return d+p},a.prototype.writeInt8=function(S,d,p){return S=+S,d=d>>>0,p||X(this,S,d,1,127,-128),S<0&&(S=255+S+1),this[d]=S&255,d+1},a.prototype.writeInt16LE=function(S,d,p){return S=+S,d=d>>>0,p||X(this,S,d,2,32767,-32768),this[d]=S&255,this[d+1]=S>>>8,d+2},a.prototype.writeInt16BE=function(S,d,p){return S=+S,d=d>>>0,p||X(this,S,d,2,32767,-32768),this[d]=S>>>8,this[d+1]=S&255,d+2},a.prototype.writeInt32LE=function(S,d,p){return S=+S,d=d>>>0,p||X(this,S,d,4,2147483647,-2147483648),this[d]=S&255,this[d+1]=S>>>8,this[d+2]=S>>>16,this[d+3]=S>>>24,d+4},a.prototype.writeInt32BE=function(S,d,p){return S=+S,d=d>>>0,p||X(this,S,d,4,2147483647,-2147483648),S<0&&(S=4294967295+S+1),this[d]=S>>>24,this[d+1]=S>>>16,this[d+2]=S>>>8,this[d+3]=S&255,d+4};function te(O,S,d,p,m,E){if(d+p>O.length)throw new RangeError("Index out of range");if(d<0)throw new RangeError("Index out of range")}function W(O,S,d,p,m){return S=+S,d=d>>>0,m||te(O,S,d,4),r.write(O,S,d,p,23,4),d+4}a.prototype.writeFloatLE=function(S,d,p){return W(this,S,d,!0,p)},a.prototype.writeFloatBE=function(S,d,p){return W(this,S,d,!1,p)};function J(O,S,d,p,m){return S=+S,d=d>>>0,m||te(O,S,d,8),r.write(O,S,d,p,52,8),d+8}a.prototype.writeDoubleLE=function(S,d,p){return J(this,S,d,!0,p)},a.prototype.writeDoubleBE=function(S,d,p){return J(this,S,d,!1,p)},a.prototype.copy=function(S,d,p,m){if(!a.isBuffer(S))throw new TypeError("argument should be a Buffer");if(p||(p=0),!m&&m!==0&&(m=this.length),d>=S.length&&(d=S.length),d||(d=0),m>0&&m<p&&(m=p),m===p||S.length===0||this.length===0)return 0;if(d<0)throw new RangeError("targetStart out of bounds");if(p<0||p>=this.length)throw new RangeError("Index out of range");if(m<0)throw new RangeError("sourceEnd out of bounds");m>this.length&&(m=this.length),S.length-d<m-p&&(m=S.length-d+p);var E=m-p;return this===S&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(d,p,m):Uint8Array.prototype.set.call(S,this.subarray(p,m),d),E},a.prototype.fill=function(S,d,p,m){if(typeof S=="string"){if(typeof d=="string"?(m=d,d=0,p=this.length):typeof p=="string"&&(m=p,p=this.length),m!==void 0&&typeof m!="string")throw new TypeError("encoding must be a string");if(typeof m=="string"&&!a.isEncoding(m))throw new TypeError("Unknown encoding: "+m);if(S.length===1){var E=S.charCodeAt(0);(m==="utf8"&&E<128||m==="latin1")&&(S=E)}}else typeof S=="number"?S=S&255:typeof S=="boolean"&&(S=Number(S));if(d<0||this.length<d||this.length<p)throw new RangeError("Out of range index");if(p<=d)return this;d=d>>>0,p=p===void 0?this.length:p>>>0,S||(S=0);var C;if(typeof S=="number")for(C=d;C<p;++C)this[C]=S;else{var H=a.isBuffer(S)?S:a.from(S,m),V=H.length;if(V===0)throw new TypeError('The value "'+S+'" is invalid for argument "value"');for(C=0;C<p-d;++C)this[C+d]=H[C%V]}return this};var ee=/[^+/0-9A-Za-z-_]/g;function re(O){if(O=O.split("=")[0],O=O.trim().replace(ee,""),O.length<2)return"";for(;O.length%4!==0;)O=O+"=";return O}function se(O,S){S=S||1/0;for(var d,p=O.length,m=null,E=[],C=0;C<p;++C){if(d=O.charCodeAt(C),d>55295&&d<57344){if(!m){if(d>56319){(S-=3)>-1&&E.push(239,191,189);continue}else if(C+1===p){(S-=3)>-1&&E.push(239,191,189);continue}m=d;continue}if(d<56320){(S-=3)>-1&&E.push(239,191,189),m=d;continue}d=(m-55296<<10|d-56320)+65536}else m&&(S-=3)>-1&&E.push(239,191,189);if(m=null,d<128){if((S-=1)<0)break;E.push(d)}else if(d<2048){if((S-=2)<0)break;E.push(d>>6|192,d&63|128)}else if(d<65536){if((S-=3)<0)break;E.push(d>>12|224,d>>6&63|128,d&63|128)}else if(d<1114112){if((S-=4)<0)break;E.push(d>>18|240,d>>12&63|128,d>>6&63|128,d&63|128)}else throw new Error("Invalid code point")}return E}function ve(O){for(var S=[],d=0;d<O.length;++d)S.push(O.charCodeAt(d)&255);return S}function ye(O,S){for(var d,p,m,E=[],C=0;C<O.length&&!((S-=2)<0);++C)d=O.charCodeAt(C),p=d>>8,m=d%256,E.push(m),E.push(p);return E}function he(O){return t.toByteArray(re(O))}function le(O,S,d,p){for(var m=0;m<p&&!(m+d>=S.length||m>=O.length);++m)S[m+d]=O[m];return m}function D(O,S){return O instanceof S||O!=null&&O.constructor!=null&&O.constructor.name!=null&&O.constructor.name===S.name}function $(O){return O!==O}var Q=function(){for(var O="0123456789abcdef",S=new Array(256),d=0;d<16;++d)for(var p=d*16,m=0;m<16;++m)S[p+m]=O[d]+O[m];return S}()})(lu);var br={keyPrefix:"aws-amplify-cache",capacityInBytes:1048576,itemMaxSize:21e4,defaultTTL:2592e5,defaultPriority:5,warningThreshold:.8,storage:new Uh().getStorage()};function Eg(e){var t=0;t=e.length;for(var r=e.length;r>=0;r-=1){var n=e.charCodeAt(r);n>127&&n<=2047?t+=1:n>2047&&n<=65535&&(t+=2),n>=56320&&n<=57343&&(r-=1)}return t}function Xi(){var e=new Date;return e.getTime()}function ia(e){return Number.isInteger?Number.isInteger(e):cN(e)}function cN(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e}var qr=new Ae("StorageCache"),lN=function(){function e(t){this.config=Object.assign({},t),this.cacheCurSizeKey=this.config.keyPrefix+"CurSize",this.checkConfig()}return e.prototype.getModuleName=function(){return"Cache"},e.prototype.checkConfig=function(){ia(this.config.capacityInBytes)||(qr.error("Invalid parameter: capacityInBytes. It should be an Integer. Setting back to default."),this.config.capacityInBytes=br.capacityInBytes),ia(this.config.itemMaxSize)||(qr.error("Invalid parameter: itemMaxSize. It should be an Integer. Setting back to default."),this.config.itemMaxSize=br.itemMaxSize),ia(this.config.defaultTTL)||(qr.error("Invalid parameter: defaultTTL. It should be an Integer. Setting back to default."),this.config.defaultTTL=br.defaultTTL),ia(this.config.defaultPriority)||(qr.error("Invalid parameter: defaultPriority. It should be an Integer. Setting back to default."),this.config.defaultPriority=br.defaultPriority),this.config.itemMaxSize>this.config.capacityInBytes&&(qr.error("Invalid parameter: itemMaxSize. It should be smaller than capacityInBytes. Setting back to default."),this.config.itemMaxSize=br.itemMaxSize),(this.config.defaultPriority>5||this.config.defaultPriority<1)&&(qr.error("Invalid parameter: defaultPriority. It should be between 1 and 5. Setting back to default."),this.config.defaultPriority=br.defaultPriority),(Number(this.config.warningThreshold)>1||Number(this.config.warningThreshold)<0)&&(qr.error("Invalid parameter: warningThreshold. It should be between 0 and 1. Setting back to default."),this.config.warningThreshold=br.warningThreshold);var t=5*1024*1024;this.config.capacityInBytes>t&&(qr.error("Cache Capacity should be less than 5MB. Setting back to default. Setting back to default."),this.config.capacityInBytes=br.capacityInBytes)},e.prototype.fillCacheItem=function(t,r,n){var i={key:t,data:r,timestamp:Xi(),visitedTime:Xi(),priority:n.priority,expires:n.expires,type:typeof r,byteSize:0};return i.byteSize=Eg(JSON.stringify(i)),i.byteSize=Eg(JSON.stringify(i)),i},e.prototype.configure=function(t){return t?(t.keyPrefix&&qr.warn("Don't try to configure keyPrefix!"),this.config=Object.assign({},this.config,t,t.Cache),this.checkConfig(),this.config):this.config},e}(),fN=globalThis&&globalThis.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),vt=new Ae("Cache"),hN=function(e){fN(t,e);function t(r){var n=this,i=r?Object.assign({},br,r):br;return n=e.call(this,i)||this,n.config.storage=i.storage,n.getItem=n.getItem.bind(n),n.setItem=n.setItem.bind(n),n.removeItem=n.removeItem.bind(n),n}return t.prototype._decreaseCurSizeInBytes=function(r){var n=this.getCacheCurSize();this.config.storage.setItem(this.cacheCurSizeKey,(n-r).toString())},t.prototype._increaseCurSizeInBytes=function(r){var n=this.getCacheCurSize();this.config.storage.setItem(this.cacheCurSizeKey,(n+r).toString())},t.prototype._refreshItem=function(r,n){return r.visitedTime=Xi(),this.config.storage.setItem(n,JSON.stringify(r)),r},t.prototype._isExpired=function(r){var n=this.config.storage.getItem(r),i=JSON.parse(n);return Xi()>=i.expires},t.prototype._removeItem=function(r,n){var i=n||JSON.parse(this.config.storage.getItem(r)).byteSize;this._decreaseCurSizeInBytes(i),this.config.storage.removeItem(r)},t.prototype._setItem=function(r,n){this._increaseCurSizeInBytes(n.byteSize);try{this.config.storage.setItem(r,JSON.stringify(n))}catch(i){this._decreaseCurSizeInBytes(n.byteSize),vt.error("Failed to set item "+i)}},t.prototype._sizeToPop=function(r){var n=this.getCacheCurSize()+r-this.config.capacityInBytes,i=(1-this.config.warningThreshold)*this.config.capacityInBytes;return n>i?n:i},t.prototype._isCacheFull=function(r){return r+this.getCacheCurSize()>this.config.capacityInBytes},t.prototype._findValidKeys=function(){for(var r=[],n=[],i=0;i<this.config.storage.length;i+=1)n.push(this.config.storage.key(i));for(var i=0;i<n.length;i+=1){var o=n[i];o.indexOf(this.config.keyPrefix)===0&&o!==this.cacheCurSizeKey&&(this._isExpired(o)?this._removeItem(o):r.push(o))}return r},t.prototype._popOutItems=function(r,n){for(var i=[],o=n,s=0;s<r.length;s+=1){var a=this.config.storage.getItem(r[s]);if(a!=null){var c=JSON.parse(a);i.push(c)}}i.sort(function(u,l){return u.priority>l.priority?-1:u.priority<l.priority?1:u.visitedTime<l.visitedTime?-1:1});for(var s=0;s<i.length;s+=1)if(this._removeItem(i[s].key,i[s].byteSize),o-=i[s].byteSize,o<=0)return},t.prototype.setItem=function(r,n,i){vt.log("Set item: key is "+r+", value is "+n+" with options: "+i);var o=this.config.keyPrefix+r;if(o===this.config.keyPrefix||o===this.cacheCurSizeKey){vt.warn("Invalid key: should not be empty or 'CurSize'");return}if(typeof n=="undefined"){vt.warn("The value of item should not be undefined!");return}var s={priority:i&&i.priority!==void 0?i.priority:this.config.defaultPriority,expires:i&&i.expires!==void 0?i.expires:this.config.defaultTTL+Xi()};if(s.priority<1||s.priority>5){vt.warn("Invalid parameter: priority due to out or range. It should be within 1 and 5.");return}var a=this.fillCacheItem(o,n,s);if(a.byteSize>this.config.itemMaxSize){vt.warn("Item with key: "+r+" you are trying to put into is too big!");return}try{var c=this.config.storage.getItem(o);if(c&&this._removeItem(o,JSON.parse(c).byteSize),this._isCacheFull(a.byteSize)){var u=this._findValidKeys();if(this._isCacheFull(a.byteSize)){var l=this._sizeToPop(a.byteSize);this._popOutItems(u,l)}}this._setItem(o,a)}catch(f){vt.warn("setItem failed! "+f)}},t.prototype.getItem=function(r,n){vt.log("Get item: key is "+r+" with options "+n);var i=null,o=this.config.keyPrefix+r;if(o===this.config.keyPrefix||o===this.cacheCurSizeKey)return vt.warn("Invalid key: should not be empty or 'CurSize'"),null;try{if(i=this.config.storage.getItem(o),i!=null)if(this._isExpired(o))this._removeItem(o,JSON.parse(i).byteSize),i=null;else{var s=JSON.parse(i);return s=this._refreshItem(s,o),s.data}if(n&&n.callback!==void 0){var a=n.callback();return a!==null&&this.setItem(r,a,n),a}return null}catch(c){return vt.warn("getItem failed! "+c),null}},t.prototype.removeItem=function(r){vt.log("Remove item: key is "+r);var n=this.config.keyPrefix+r;if(!(n===this.config.keyPrefix||n===this.cacheCurSizeKey))try{var i=this.config.storage.getItem(n);i&&this._removeItem(n,JSON.parse(i).byteSize)}catch(o){vt.warn("removeItem failed! "+o)}},t.prototype.clear=function(){vt.log("Clear Cache");for(var r=[],n=0;n<this.config.storage.length;n+=1){var i=this.config.storage.key(n);i.indexOf(this.config.keyPrefix)===0&&r.push(i)}try{for(var n=0;n<r.length;n+=1)this.config.storage.removeItem(r[n])}catch(o){vt.warn("clear failed! "+o)}},t.prototype.getAllKeys=function(){for(var r=[],n=0;n<this.config.storage.length;n+=1){var i=this.config.storage.key(n);i.indexOf(this.config.keyPrefix)===0&&i!==this.cacheCurSizeKey&&r.push(i.substring(this.config.keyPrefix.length))}return r},t.prototype.getCacheCurSize=function(){var r=this.config.storage.getItem(this.cacheCurSizeKey);return r||(this.config.storage.setItem(this.cacheCurSizeKey,"0"),r="0"),Number(r)},t.prototype.createInstance=function(r){return(!r.keyPrefix||r.keyPrefix===br.keyPrefix)&&(vt.error("invalid keyPrefix, setting keyPrefix with timeStamp"),r.keyPrefix=Xi.toString()),new t(r)},t}(lN),xb=new hN,As=xb;Fr.register(xb);var dN=globalThis&&globalThis.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Rt=globalThis&&globalThis.__assign||function(){return Rt=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Rt.apply(this,arguments)},rr=globalThis&&globalThis.__awaiter||function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(f){s(f)}}function c(l){try{u(n.throw(l))}catch(f){s(f)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(e,t||[])).next())})},nr=globalThis&&globalThis.__generator||function(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(l){return c([u,l])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){r.label=u[1];break}if(u[0]===6&&r.label<o[1]){r.label=o[1],o=u;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(u);break}o[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(l){u=[6,l],i=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},pN=globalThis&&globalThis.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return o},$e=new Ae("AWSAppSyncRealTimeProvider"),vN=typeof Symbol!="undefined"&&typeof Symbol.for=="function"?Symbol.for("amplify_default"):"@@amplify_default",gN=function(e,t,r){zt.dispatch("api",{event:e,data:t,message:r},"PubSub",vN)},mN=5e3,yN=[400,401,403],yr;(function(e){e.GQL_CONNECTION_INIT="connection_init",e.GQL_CONNECTION_ERROR="connection_error",e.GQL_CONNECTION_ACK="connection_ack",e.GQL_START="start",e.GQL_START_ACK="start_ack",e.GQL_DATA="data",e.GQL_CONNECTION_KEEP_ALIVE="ka",e.GQL_STOP="stop",e.GQL_COMPLETE="complete",e.GQL_ERROR="error"})(yr||(yr={}));var In;(function(e){e[e.PENDING=0]="PENDING",e[e.CONNECTED=1]="CONNECTED",e[e.FAILED=2]="FAILED"})(In||(In={}));var sr;(function(e){e[e.CLOSED=0]="CLOSED",e[e.READY=1]="READY",e[e.CONNECTING=2]="CONNECTING"})(sr||(sr={}));var bN={accept:"application/json, text/javascript","content-encoding":"amz-1.0","content-type":"application/json; charset=UTF-8"},Ag=15e3,wN=15e3,Tg=5*60*1e3,_N=/^https:\/\/\w{26}\.appsync\-api\.\w{2}(?:(?:\-\w{2,})+)\-\d\.amazonaws.com\/graphql$/i,SN="/realtime",EN=function(e){dN(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.socketStatus=sr.CLOSED,r.keepAliveTimeout=Tg,r.subscriptionObserverMap=new Map,r.promiseArray=[],r}return t.prototype.getProviderName=function(){return"AWSAppSyncRealTimeProvider"},t.prototype.newClient=function(){throw new Error("Not used here")},t.prototype.publish=function(r,n,i){return rr(this,void 0,void 0,function(){return nr(this,function(o){throw new Error("Operation not supported")})})},t.prototype.isCustomDomain=function(r){return r.match(_N)===null},t.prototype.subscribe=function(r,n){var i=this,o=n.appSyncGraphqlEndpoint;return new st(function(s){if(!o)s.error({errors:[Rt({},new Jr("Subscribe only available for AWS AppSync endpoint"))]}),s.complete();else{var a=Rs.v4();return i._startSubscriptionWithAWSAppSyncRealTime({options:n,observer:s,subscriptionId:a}).catch(function(c){s.error({errors:[Rt({},new Jr(Ut.REALTIME_SUBSCRIPTION_INIT_ERROR+": "+c))]}),s.complete()}),function(){return rr(i,void 0,void 0,function(){var c,u;return nr(this,function(l){switch(l.label){case 0:return l.trys.push([0,2,3,4]),[4,this._waitForSubscriptionToBeConnected(a)];case 1:if(l.sent(),c=(this.subscriptionObserverMap.get(a)||{}).subscriptionState,!c)return[2];if(c===In.CONNECTED)this._sendUnsubscriptionMessage(a);else throw new Error("Subscription never connected");return[3,4];case 2:return u=l.sent(),$e.debug("Error while unsubscribing "+u),[3,4];case 3:return this._removeSubscriptionObserver(a),[7];case 4:return[2]}})})}}})},Object.defineProperty(t.prototype,"isSSLEnabled",{get:function(){return!this.options.aws_appsync_dangerously_connect_to_http_endpoint_for_testing},enumerable:!0,configurable:!0}),t.prototype._startSubscriptionWithAWSAppSyncRealTime=function(r){var n=r.options,i=r.observer,o=r.subscriptionId;return rr(this,void 0,void 0,function(){var s,a,c,u,l,f,h,v,g,w,y,b,_,T,A,x,R,k,U,B,N,F,L,I,P,M,j=this;return nr(this,function(K){switch(K.label){case 0:return s=n.appSyncGraphqlEndpoint,a=n.authenticationType,c=n.query,u=n.variables,l=n.apiKey,f=n.region,h=n.graphql_headers,v=h===void 0?function(){return{}}:h,g=n.additionalHeaders,w=g===void 0?{}:g,y=In.PENDING,b={query:c,variables:u},this.subscriptionObserverMap.set(o,{observer:i,query:c,variables:u,subscriptionState:y,startAckTimeoutId:null}),_=JSON.stringify(b),A=[{}],[4,this._awsRealTimeHeaderBasedAuth({apiKey:l,appSyncGraphqlEndpoint:s,authenticationType:a,payload:_,canonicalUri:"",region:f,additionalHeaders:w})];case 1:return x=[Rt.apply(void 0,A.concat([K.sent()]))],[4,v()];case 2:T=Rt.apply(void 0,[Rt.apply(void 0,[Rt.apply(void 0,x.concat([K.sent()])),w]),(M={},M[fO]=rb.userAgent,M)]),R={id:o,payload:{data:_,extensions:{authorization:Rt({},T)}},type:yr.GQL_START},k=JSON.stringify(R),K.label=3;case 3:return K.trys.push([3,5,,6]),[4,this._initializeWebSocketConnection({apiKey:l,appSyncGraphqlEndpoint:s,authenticationType:a,region:f,additionalHeaders:w})];case 4:return K.sent(),[3,6];case 5:return U=K.sent(),$e.debug({err:U}),B=U.message,N=B===void 0?"":B,i.error({errors:[Rt({},new Jr(Ut.CONNECTION_FAILED+": "+N))]}),i.complete(),F=(this.subscriptionObserverMap.get(o)||{}).subscriptionFailedCallback,typeof F=="function"&&F(),[2];case 6:return L=this.subscriptionObserverMap.get(o),I=L.subscriptionFailedCallback,P=L.subscriptionReadyCallback,this.subscriptionObserverMap.set(o,{observer:i,subscriptionState:y,variables:u,query:c,subscriptionReadyCallback:P,subscriptionFailedCallback:I,startAckTimeoutId:setTimeout(function(){j._timeoutStartSubscriptionAck.call(j,o)},wN)}),this.awsRealTimeSocket&&this.awsRealTimeSocket.send(k),[2]}})})},t.prototype._waitForSubscriptionToBeConnected=function(r){return rr(this,void 0,void 0,function(){var n,i=this;return nr(this,function(o){return n=this.subscriptionObserverMap.get(r).subscriptionState,n===In.PENDING?[2,new Promise(function(s,a){var c=i.subscriptionObserverMap.get(r),u=c.observer,l=c.subscriptionState,f=c.variables,h=c.query;i.subscriptionObserverMap.set(r,{observer:u,subscriptionState:l,variables:f,query:h,subscriptionReadyCallback:s,subscriptionFailedCallback:a})})]:[2]})})},t.prototype._sendUnsubscriptionMessage=function(r){try{if(this.awsRealTimeSocket&&this.awsRealTimeSocket.readyState===WebSocket.OPEN&&this.socketStatus===sr.READY){var n={id:r,type:yr.GQL_STOP},i=JSON.stringify(n);this.awsRealTimeSocket.send(i)}}catch(o){$e.debug({err:o})}},t.prototype._removeSubscriptionObserver=function(r){this.subscriptionObserverMap.delete(r),setTimeout(this._closeSocketIfRequired.bind(this),1e3)},t.prototype._closeSocketIfRequired=function(){if(!(this.subscriptionObserverMap.size>0)){if(!this.awsRealTimeSocket){this.socketStatus=sr.CLOSED;return}if(this.awsRealTimeSocket.bufferedAmount>0)setTimeout(this._closeSocketIfRequired.bind(this),1e3);else{$e.debug("closing WebSocket..."),clearTimeout(this.keepAliveTimeoutId);var r=this.awsRealTimeSocket;r.onclose=void 0,r.onerror=void 0,r.close(1e3),this.awsRealTimeSocket=null,this.socketStatus=sr.CLOSED}}},t.prototype._handleIncomingSubscriptionMessage=function(r){$e.debug("subscription message from AWS AppSync RealTime: "+r.data);var n=JSON.parse(r.data),i=n.id,o=i===void 0?"":i,s=n.payload,a=n.type,c=this.subscriptionObserverMap.get(o)||{},u=c.observer,l=u===void 0?null:u,f=c.query,h=f===void 0?"":f,v=c.variables,g=v===void 0?{}:v,w=c.startAckTimeoutId,y=c.subscriptionReadyCallback,b=c.subscriptionFailedCallback;if($e.debug({id:o,observer:l,query:h,variables:g}),a===yr.GQL_DATA&&s&&s.data){l?l.next(s):$e.debug("observer not found for id: "+o);return}if(a===yr.GQL_START_ACK){$e.debug("subscription ready for "+JSON.stringify({query:h,variables:g})),typeof y=="function"&&y(),clearTimeout(w),gN(Ut.SUBSCRIPTION_ACK,{query:h,variables:g},"Connection established for subscription");var _=In.CONNECTED;this.subscriptionObserverMap.set(o,{observer:l,query:h,variables:g,startAckTimeoutId:null,subscriptionState:_,subscriptionReadyCallback:y,subscriptionFailedCallback:b});return}if(a===yr.GQL_CONNECTION_KEEP_ALIVE){clearTimeout(this.keepAliveTimeoutId),this.keepAliveTimeoutId=setTimeout(this._errorDisconnect.bind(this,Ut.TIMEOUT_DISCONNECT),this.keepAliveTimeout);return}if(a===yr.GQL_ERROR){var _=In.FAILED;this.subscriptionObserverMap.set(o,{observer:l,query:h,variables:g,startAckTimeoutId:w,subscriptionReadyCallback:y,subscriptionFailedCallback:b,subscriptionState:_}),l.error({errors:[Rt({},new Jr(Ut.CONNECTION_FAILED+": "+JSON.stringify(s)))]}),clearTimeout(w),l.complete(),typeof b=="function"&&b()}},t.prototype._errorDisconnect=function(r){$e.debug("Disconnect error: "+r),this.subscriptionObserverMap.forEach(function(n){var i=n.observer;i&&!i.closed&&i.error({errors:[Rt({},new Jr(r))]})}),this.subscriptionObserverMap.clear(),this.awsRealTimeSocket&&this.awsRealTimeSocket.close(),this.socketStatus=sr.CLOSED},t.prototype._timeoutStartSubscriptionAck=function(r){var n=this.subscriptionObserverMap.get(r)||{},i=n.observer,o=n.query,s=n.variables;!i||(this.subscriptionObserverMap.set(r,{observer:i,query:o,variables:s,subscriptionState:In.FAILED}),i&&!i.closed&&(i.error({errors:[Rt({},new Jr("Subscription timeout "+JSON.stringify({query:o,variables:s})))]}),i.complete()),$e.debug("timeoutStartSubscription",JSON.stringify({query:o,variables:s})))},t.prototype._initializeWebSocketConnection=function(r){var n=this,i=r.appSyncGraphqlEndpoint,o=r.authenticationType,s=r.apiKey,a=r.region,c=r.additionalHeaders;if(this.socketStatus!==sr.READY)return new Promise(function(u,l){return rr(n,void 0,void 0,function(){var f,h,v,g,w,y,b,_,T,A;return nr(this,function(x){switch(x.label){case 0:if(this.promiseArray.push({res:u,rej:l}),this.socketStatus!==sr.CLOSED)return[3,5];x.label=1;case 1:return x.trys.push([1,4,,5]),this.socketStatus=sr.CONNECTING,f="{}",g=(v=JSON).stringify,[4,this._awsRealTimeHeaderBasedAuth({authenticationType:o,payload:f,canonicalUri:"/connect",apiKey:s,appSyncGraphqlEndpoint:i,region:a,additionalHeaders:c})];case 2:return h=g.apply(v,[x.sent()]),w=lu.Buffer.from(h).toString("base64"),y=lu.Buffer.from(f).toString("base64"),b=i,this.isCustomDomain(b)?b=b.concat(SN):b=b.replace("appsync-api","appsync-realtime-api").replace("gogi-beta","grt-beta"),_=this.isSSLEnabled?"wss://":"ws://",b=b.replace("https://",_).replace("http://",_),T=b+"?header="+w+"&payload="+y,[4,this._initializeRetryableHandshake({awsRealTimeUrl:T})];case 3:return x.sent(),this.promiseArray.forEach(function(R){var k=R.res;$e.debug("Notifying connection successful"),k()}),this.socketStatus=sr.READY,this.promiseArray=[],[3,5];case 4:return A=x.sent(),this.promiseArray.forEach(function(R){var k=R.rej;return k(A)}),this.promiseArray=[],this.awsRealTimeSocket&&this.awsRealTimeSocket.readyState===WebSocket.OPEN&&this.awsRealTimeSocket.close(3001),this.awsRealTimeSocket=null,this.socketStatus=sr.CLOSED,[3,5];case 5:return[2]}})})})},t.prototype._initializeRetryableHandshake=function(r){var n=r.awsRealTimeUrl;return rr(this,void 0,void 0,function(){return nr(this,function(i){switch(i.label){case 0:return $e.debug("Initializaling retryable Handshake"),[4,ju(this._initializeHandshake.bind(this),[{awsRealTimeUrl:n}],mN)];case 1:return i.sent(),[2]}})})},t.prototype._initializeHandshake=function(r){var n=r.awsRealTimeUrl;return rr(this,void 0,void 0,function(){var i,o,s,a=this;return nr(this,function(c){switch(c.label){case 0:$e.debug("Initializing handshake "+n),c.label=1;case 1:return c.trys.push([1,4,,5]),[4,function(){return new Promise(function(u,l){var f=new WebSocket(n,"graphql-ws");f.onerror=function(){$e.debug("WebSocket connection error")},f.onclose=function(){l(new Error("Connection handshake error"))},f.onopen=function(){return a.awsRealTimeSocket=f,u()}})}()];case 2:return c.sent(),[4,function(){return new Promise(function(u,l){var f=!1;a.awsRealTimeSocket.onerror=function(g){$e.debug("WebSocket error "+JSON.stringify(g))},a.awsRealTimeSocket.onclose=function(g){$e.debug("WebSocket closed "+g.reason),l(new Error(JSON.stringify(g)))},a.awsRealTimeSocket.onmessage=function(g){$e.debug("subscription message from AWS AppSyncRealTime: "+g.data+" ");var w=JSON.parse(g.data),y=w.type,b=w.payload,_=(b===void 0?{}:b).connectionTimeoutMs,T=_===void 0?Tg:_;if(y===yr.GQL_CONNECTION_ACK){f=!0,a.keepAliveTimeout=T,a.awsRealTimeSocket.onmessage=a._handleIncomingSubscriptionMessage.bind(a),a.awsRealTimeSocket.onerror=function(I){$e.debug(I),a._errorDisconnect(Ut.CONNECTION_CLOSED)},a.awsRealTimeSocket.onclose=function(I){$e.debug("WebSocket closed "+I.reason),a._errorDisconnect(Ut.CONNECTION_CLOSED)},u("Cool, connected to AWS AppSyncRealTime");return}if(y===yr.GQL_CONNECTION_ERROR){var A=w.payload,x=(A===void 0?{}:A).errors,R=pN(x===void 0?[]:x,1),k=R[0],U=k===void 0?{}:k,B=U.errorType,N=B===void 0?"":B,F=U.errorCode,L=F===void 0?0:F;l({errorType:N,errorCode:L})}};var h={type:yr.GQL_CONNECTION_INIT};a.awsRealTimeSocket.send(JSON.stringify(h));function v(){f||l(new Error("Connection timeout: ack from AWSRealTime was not received on "+Ag+" ms"))}setTimeout(v.bind(a),Ag)})}()];case 3:return c.sent(),[3,5];case 4:throw i=c.sent(),o=i.errorType,s=i.errorCode,yN.includes(s)?new Wt(o):o?new Error(o):i;case 5:return[2]}})})},t.prototype._awsRealTimeHeaderBasedAuth=function(r){var n=r.authenticationType,i=r.payload,o=r.canonicalUri,s=r.appSyncGraphqlEndpoint,a=r.apiKey,c=r.region,u=r.additionalHeaders;return rr(this,void 0,void 0,function(){var l,f,h,v;return nr(this,function(g){switch(g.label){case 0:return l={API_KEY:this._awsRealTimeApiKeyHeader.bind(this),AWS_IAM:this._awsRealTimeIAMHeader.bind(this),OPENID_CONNECT:this._awsRealTimeOPENIDHeader.bind(this),AMAZON_COGNITO_USER_POOLS:this._awsRealTimeCUPHeader.bind(this),AWS_LAMBDA:this._customAuthHeader},f=l[n],typeof f!="function"?($e.debug("Authentication type "+n+" not supported"),[2,""]):(h=Ft(s).host,[4,f({payload:i,canonicalUri:o,appSyncGraphqlEndpoint:s,apiKey:a,region:c,host:h,additionalHeaders:u})]);case 1:return v=g.sent(),[2,v]}})})},t.prototype._awsRealTimeCUPHeader=function(r){var n=r.host;return rr(this,void 0,void 0,function(){var i;return nr(this,function(o){switch(o.label){case 0:return[4,Fn.currentSession()];case 1:return i=o.sent(),[2,{Authorization:i.getAccessToken().getJwtToken(),host:n}]}})})},t.prototype._awsRealTimeOPENIDHeader=function(r){var n=r.host;return rr(this,void 0,void 0,function(){var i,o,s;return nr(this,function(a){switch(a.label){case 0:return[4,As.getItem("federatedInfo")];case 1:return o=a.sent(),o?(i=o.token,[3,4]):[3,2];case 2:return[4,Fn.currentAuthenticatedUser()];case 3:s=a.sent(),s&&(i=s.token),a.label=4;case 4:if(!i)throw new Error("No federated jwt");return[2,{Authorization:i,host:n}]}})})},t.prototype._awsRealTimeApiKeyHeader=function(r){var n=r.apiKey,i=r.host;return rr(this,void 0,void 0,function(){var o,s;return nr(this,function(a){return o=new Date,s=o.toISOString().replace(/[:\-]|\.\d{3}/g,""),[2,{host:i,"x-amz-date":s,"x-api-key":n}]})})},t.prototype._awsRealTimeIAMHeader=function(r){var n=r.payload,i=r.canonicalUri,o=r.appSyncGraphqlEndpoint,s=r.region;return rr(this,void 0,void 0,function(){var a,c,u,l,f;return nr(this,function(h){switch(h.label){case 0:return a={region:s,service:"appsync"},[4,this._ensureCredentials()];case 1:if(c=h.sent(),!c)throw new Error("No credentials");return[4,tn.get().then(function(v){return{secret_key:v.secretAccessKey,access_key:v.accessKeyId,session_token:v.sessionToken}})];case 2:return u=h.sent(),l={url:""+o+i,data:n,method:"POST",headers:Rt({},bN)},f=d0.sign(l,u,a),[2,f.headers]}})})},t.prototype._customAuthHeader=function(r){var n=r.host,i=r.additionalHeaders;if(!i.Authorization)throw new Error("No auth token specified");return{Authorization:i.Authorization,host:n}},t.prototype._ensureCredentials=function(){return tn.get().then(function(r){if(!r)return!1;var n=tn.shear(r);return $e.debug("set credentials for AWSAppSyncRealTimeProvider",n),!0}).catch(function(r){return $e.warn("ensure credentials error",r),!1})},t}(Tb),Ig=globalThis&&globalThis.__awaiter||function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(f){s(f)}}function c(l){try{u(n.throw(l))}catch(f){s(f)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(e,t||[])).next())})},xg=globalThis&&globalThis.__generator||function(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(l){return c([u,l])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){r.label=u[1];break}if(u[0]===6&&r.label<o[1]){r.label=o[1],o=u;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(u);break}o[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(l){u=[6,l],i=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},AN=Lr().isNode,Wc=new Ae("PubSub"),TN=function(){function e(t){this._options=t,Wc.debug("PubSub Options",this._options),this._pluggables=[],this.subscribe=this.subscribe.bind(this)}return Object.defineProperty(e.prototype,"awsAppSyncProvider",{get:function(){return this._awsAppSyncProvider||(this._awsAppSyncProvider=new uN(this._options)),this._awsAppSyncProvider},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"awsAppSyncRealTimeProvider",{get:function(){return this._awsAppSyncRealTimeProvider||(this._awsAppSyncRealTimeProvider=new EN(this._options)),this._awsAppSyncRealTimeProvider},enumerable:!0,configurable:!0}),e.prototype.getModuleName=function(){return"PubSub"},e.prototype.configure=function(t){var r=this,n=t?t.PubSub||t:{};return Wc.debug("configure PubSub",{opt:n}),this._options=Object.assign({},this._options,n),this._pluggables.map(function(i){return i.configure(r._options)}),this._options},e.prototype.addPluggable=function(t){return Ig(this,void 0,void 0,function(){var r;return xg(this,function(n){return t&&t.getCategory()==="PubSub"?(this._pluggables.push(t),r=t.configure(this._options),[2,r]):[2]})})},e.prototype.removePluggable=function(t){this._pluggables=this._pluggables.filter(function(r){return r.getProviderName()!==t})},e.prototype.getProviderByName=function(t){return t===lO?this.awsAppSyncProvider:t===tb?this.awsAppSyncRealTimeProvider:this._pluggables.find(function(r){return r.getProviderName()===t})},e.prototype.getProviders=function(t){t===void 0&&(t={});var r=t.provider;if(!r)return this._pluggables;var n=this.getProviderByName(r);if(!n)throw new Error("Could not find provider named "+r);return[n]},e.prototype.publish=function(t,r,n){return Ig(this,void 0,void 0,function(){return xg(this,function(i){return[2,Promise.all(this.getProviders(n).map(function(o){return o.publish(t,r,n)}))]})})},e.prototype.subscribe=function(t,r){if(AN&&this._options&&this._options.ssr)throw new Error("Subscriptions are not supported for Server-Side Rendering (SSR)");Wc.debug("subscribe options",r);var n=this.getProviders(r);return new st(function(i){var o=n.map(function(a){return{provider:a,observable:a.subscribe(t,r)}}),s=o.map(function(a){var c=a.provider,u=a.observable;return u.subscribe({start:console.error,next:function(l){return i.next({provider:c,value:l})},error:function(l){return i.error({provider:c,error:l})}})});return function(){return s.forEach(function(a){return a.unsubscribe()})}})},e}(),Ra=new TN(null);Fr.register(Ra);var Ut;(function(e){e.CONNECTION_CLOSED="Connection closed",e.CONNECTION_FAILED="Connection failed",e.REALTIME_SUBSCRIPTION_INIT_ERROR="AppSync Realtime subscription init error",e.SUBSCRIPTION_ACK="Subscription ack",e.TIMEOUT_DISCONNECT="Timeout disconnect"})(Ut||(Ut={}));var et;(function(e){e.API_KEY="API_KEY",e.AWS_IAM="AWS_IAM",e.OPENID_CONNECT="OPENID_CONNECT",e.AMAZON_COGNITO_USER_POOLS="AMAZON_COGNITO_USER_POOLS",e.AWS_LAMBDA="AWS_LAMBDA"})(et||(et={}));var Qr;(function(e){e.NO_API_KEY="No api-key configured",e.NO_CURRENT_USER="No current user",e.NO_CREDENTIALS="No credentials",e.NO_FEDERATED_JWT="No federated jwt",e.NO_AUTH_TOKEN="No auth token specified"})(Qr||(Qr={}));var Gh={exports:{}},Cb=function(t,r){return function(){for(var i=new Array(arguments.length),o=0;o<i.length;o++)i[o]=arguments[o];return t.apply(r,i)}},IN=Cb,Ti=Object.prototype.toString;function Yh(e){return Ti.call(e)==="[object Array]"}function wf(e){return typeof e=="undefined"}function xN(e){return e!==null&&!wf(e)&&e.constructor!==null&&!wf(e.constructor)&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}function CN(e){return Ti.call(e)==="[object ArrayBuffer]"}function ON(e){return typeof FormData!="undefined"&&e instanceof FormData}function PN(e){var t;return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&e.buffer instanceof ArrayBuffer,t}function NN(e){return typeof e=="string"}function RN(e){return typeof e=="number"}function Ob(e){return e!==null&&typeof e=="object"}function Ma(e){if(Ti.call(e)!=="[object Object]")return!1;var t=Object.getPrototypeOf(e);return t===null||t===Object.prototype}function MN(e){return Ti.call(e)==="[object Date]"}function kN(e){return Ti.call(e)==="[object File]"}function DN(e){return Ti.call(e)==="[object Blob]"}function Pb(e){return Ti.call(e)==="[object Function]"}function UN(e){return Ob(e)&&Pb(e.pipe)}function FN(e){return typeof URLSearchParams!="undefined"&&e instanceof URLSearchParams}function LN(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function BN(){return typeof navigator!="undefined"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window!="undefined"&&typeof document!="undefined"}function Jh(e,t){if(!(e===null||typeof e=="undefined"))if(typeof e!="object"&&(e=[e]),Yh(e))for(var r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}function _f(){var e={};function t(i,o){Ma(e[o])&&Ma(i)?e[o]=_f(e[o],i):Ma(i)?e[o]=_f({},i):Yh(i)?e[o]=i.slice():e[o]=i}for(var r=0,n=arguments.length;r<n;r++)Jh(arguments[r],t);return e}function jN(e,t,r){return Jh(t,function(i,o){r&&typeof i=="function"?e[o]=IN(i,r):e[o]=i}),e}function qN(e){return e.charCodeAt(0)===65279&&(e=e.slice(1)),e}var Zt={isArray:Yh,isArrayBuffer:CN,isBuffer:xN,isFormData:ON,isArrayBufferView:PN,isString:NN,isNumber:RN,isObject:Ob,isPlainObject:Ma,isUndefined:wf,isDate:MN,isFile:kN,isBlob:DN,isFunction:Pb,isStream:UN,isURLSearchParams:FN,isStandardBrowserEnv:BN,forEach:Jh,merge:_f,extend:jN,trim:LN,stripBOM:qN},Mi=Zt;function Cg(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var Nb=function(t,r,n){if(!r)return t;var i;if(n)i=n(r);else if(Mi.isURLSearchParams(r))i=r.toString();else{var o=[];Mi.forEach(r,function(c,u){c===null||typeof c=="undefined"||(Mi.isArray(c)?u=u+"[]":c=[c],Mi.forEach(c,function(f){Mi.isDate(f)?f=f.toISOString():Mi.isObject(f)&&(f=JSON.stringify(f)),o.push(Cg(u)+"="+Cg(f))}))}),i=o.join("&")}if(i){var s=t.indexOf("#");s!==-1&&(t=t.slice(0,s)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t},$N=Zt;function oc(){this.handlers=[]}oc.prototype.use=function(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1};oc.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)};oc.prototype.forEach=function(t){$N.forEach(this.handlers,function(n){n!==null&&t(n)})};var KN=oc,HN=Zt,VN=function(t,r){HN.forEach(t,function(i,o){o!==r&&o.toUpperCase()===r.toUpperCase()&&(t[r]=i,delete t[o])})},Rb=function(t,r,n,i,o){return t.config=r,n&&(t.code=n),t.request=i,t.response=o,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},t},zN=Rb,Mb=function(t,r,n,i,o){var s=new Error(t);return zN(s,r,n,i,o)},WN=Mb,GN=function(t,r,n){var i=n.config.validateStatus;!n.status||!i||i(n.status)?t(n):r(WN("Request failed with status code "+n.status,n.config,null,n.request,n))},oa=Zt,YN=oa.isStandardBrowserEnv()?function(){return{write:function(r,n,i,o,s,a){var c=[];c.push(r+"="+encodeURIComponent(n)),oa.isNumber(i)&&c.push("expires="+new Date(i).toGMTString()),oa.isString(o)&&c.push("path="+o),oa.isString(s)&&c.push("domain="+s),a===!0&&c.push("secure"),document.cookie=c.join("; ")},read:function(r){var n=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove:function(r){this.write(r,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),JN=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)},QN=function(t,r){return r?t.replace(/\/+$/,"")+"/"+r.replace(/^\/+/,""):t},XN=JN,ZN=QN,eR=function(t,r){return t&&!XN(r)?ZN(t,r):r},Gc=Zt,tR=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],rR=function(t){var r={},n,i,o;return t&&Gc.forEach(t.split(`
`),function(a){if(o=a.indexOf(":"),n=Gc.trim(a.substr(0,o)).toLowerCase(),i=Gc.trim(a.substr(o+1)),n){if(r[n]&&tR.indexOf(n)>=0)return;n==="set-cookie"?r[n]=(r[n]?r[n]:[]).concat([i]):r[n]=r[n]?r[n]+", "+i:i}}),r},Og=Zt,nR=Og.isStandardBrowserEnv()?function(){var t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a"),n;function i(o){var s=o;return t&&(r.setAttribute("href",s),s=r.href),r.setAttribute("href",s),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return n=i(window.location.href),function(s){var a=Og.isString(s)?i(s):s;return a.protocol===n.protocol&&a.host===n.host}}():function(){return function(){return!0}}(),sa=Zt,iR=GN,oR=YN,sR=Nb,aR=eR,uR=rR,cR=nR,Yc=Mb,Pg=function(t){return new Promise(function(n,i){var o=t.data,s=t.headers,a=t.responseType;sa.isFormData(o)&&delete s["Content-Type"];var c=new XMLHttpRequest;if(t.auth){var u=t.auth.username||"",l=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";s.Authorization="Basic "+btoa(u+":"+l)}var f=aR(t.baseURL,t.url);c.open(t.method.toUpperCase(),sR(f,t.params,t.paramsSerializer),!0),c.timeout=t.timeout;function h(){if(!!c){var g="getAllResponseHeaders"in c?uR(c.getAllResponseHeaders()):null,w=!a||a==="text"||a==="json"?c.responseText:c.response,y={data:w,status:c.status,statusText:c.statusText,headers:g,config:t,request:c};iR(n,i,y),c=null}}if("onloadend"in c?c.onloadend=h:c.onreadystatechange=function(){!c||c.readyState!==4||c.status===0&&!(c.responseURL&&c.responseURL.indexOf("file:")===0)||setTimeout(h)},c.onabort=function(){!c||(i(Yc("Request aborted",t,"ECONNABORTED",c)),c=null)},c.onerror=function(){i(Yc("Network Error",t,null,c)),c=null},c.ontimeout=function(){var w="timeout of "+t.timeout+"ms exceeded";t.timeoutErrorMessage&&(w=t.timeoutErrorMessage),i(Yc(w,t,t.transitional&&t.transitional.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",c)),c=null},sa.isStandardBrowserEnv()){var v=(t.withCredentials||cR(f))&&t.xsrfCookieName?oR.read(t.xsrfCookieName):void 0;v&&(s[t.xsrfHeaderName]=v)}"setRequestHeader"in c&&sa.forEach(s,function(w,y){typeof o=="undefined"&&y.toLowerCase()==="content-type"?delete s[y]:c.setRequestHeader(y,w)}),sa.isUndefined(t.withCredentials)||(c.withCredentials=!!t.withCredentials),a&&a!=="json"&&(c.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&c.addEventListener("progress",t.onDownloadProgress),typeof t.onUploadProgress=="function"&&c.upload&&c.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then(function(w){!c||(c.abort(),i(w),c=null)}),o||(o=null),c.send(o)})},nt=Zt,Ng=VN,lR=Rb,fR={"Content-Type":"application/x-www-form-urlencoded"};function Rg(e,t){!nt.isUndefined(e)&&nt.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}function hR(){var e;return(typeof XMLHttpRequest!="undefined"||typeof process!="undefined"&&Object.prototype.toString.call(process)==="[object process]")&&(e=Pg),e}function dR(e,t,r){if(nt.isString(e))try{return(t||JSON.parse)(e),nt.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}var sc={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:hR(),transformRequest:[function(t,r){return Ng(r,"Accept"),Ng(r,"Content-Type"),nt.isFormData(t)||nt.isArrayBuffer(t)||nt.isBuffer(t)||nt.isStream(t)||nt.isFile(t)||nt.isBlob(t)?t:nt.isArrayBufferView(t)?t.buffer:nt.isURLSearchParams(t)?(Rg(r,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):nt.isObject(t)||r&&r["Content-Type"]==="application/json"?(Rg(r,"application/json"),dR(t)):t}],transformResponse:[function(t){var r=this.transitional,n=r&&r.silentJSONParsing,i=r&&r.forcedJSONParsing,o=!n&&this.responseType==="json";if(o||i&&nt.isString(t)&&t.length)try{return JSON.parse(t)}catch(s){if(o)throw s.name==="SyntaxError"?lR(s,this,"E_JSON_PARSE"):s}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(t){return t>=200&&t<300}};sc.headers={common:{Accept:"application/json, text/plain, */*"}};nt.forEach(["delete","get","head"],function(t){sc.headers[t]={}});nt.forEach(["post","put","patch"],function(t){sc.headers[t]=nt.merge(fR)});var Qh=sc,pR=Zt,vR=Qh,gR=function(t,r,n){var i=this||vR;return pR.forEach(n,function(s){t=s.call(i,t,r)}),t},kb=function(t){return!!(t&&t.__CANCEL__)},Mg=Zt,Jc=gR,mR=kb,yR=Qh;function Qc(e){e.cancelToken&&e.cancelToken.throwIfRequested()}var bR=function(t){Qc(t),t.headers=t.headers||{},t.data=Jc.call(t,t.data,t.headers,t.transformRequest),t.headers=Mg.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),Mg.forEach(["delete","get","head","post","put","patch","common"],function(i){delete t.headers[i]});var r=t.adapter||yR.adapter;return r(t).then(function(i){return Qc(t),i.data=Jc.call(t,i.data,i.headers,t.transformResponse),i},function(i){return mR(i)||(Qc(t),i&&i.response&&(i.response.data=Jc.call(t,i.response.data,i.response.headers,t.transformResponse))),Promise.reject(i)})},at=Zt,Db=function(t,r){r=r||{};var n={},i=["url","method","data"],o=["headers","auth","proxy","params"],s=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],a=["validateStatus"];function c(h,v){return at.isPlainObject(h)&&at.isPlainObject(v)?at.merge(h,v):at.isPlainObject(v)?at.merge({},v):at.isArray(v)?v.slice():v}function u(h){at.isUndefined(r[h])?at.isUndefined(t[h])||(n[h]=c(void 0,t[h])):n[h]=c(t[h],r[h])}at.forEach(i,function(v){at.isUndefined(r[v])||(n[v]=c(void 0,r[v]))}),at.forEach(o,u),at.forEach(s,function(v){at.isUndefined(r[v])?at.isUndefined(t[v])||(n[v]=c(void 0,t[v])):n[v]=c(void 0,r[v])}),at.forEach(a,function(v){v in r?n[v]=c(t[v],r[v]):v in t&&(n[v]=c(void 0,t[v]))});var l=i.concat(o).concat(s).concat(a),f=Object.keys(t).concat(Object.keys(r)).filter(function(v){return l.indexOf(v)===-1});return at.forEach(f,u),n};const wR="axios",_R="0.21.4",SR="Promise based HTTP client for the browser and node.js",ER="index.js",AR={test:"grunt test",start:"node ./sandbox/server.js",build:"NODE_ENV=production grunt build",preversion:"npm test",version:"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json",postversion:"git push && git push --tags",examples:"node ./examples/server.js",coveralls:"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js",fix:"eslint --fix lib/**/*.js"},TR={type:"git",url:"https://github.com/axios/axios.git"},IR=["xhr","http","ajax","promise","node"],xR="Matt Zabriskie",CR="MIT",OR={url:"https://github.com/axios/axios/issues"},PR="https://axios-http.com",NR={coveralls:"^3.0.0","es6-promise":"^4.2.4",grunt:"^1.3.0","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^23.0.0","grunt-karma":"^4.0.0","grunt-mocha-test":"^0.13.3","grunt-ts":"^6.0.0-beta.19","grunt-webpack":"^4.0.2","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1",karma:"^6.3.2","karma-chrome-launcher":"^3.1.0","karma-firefox-launcher":"^2.1.0","karma-jasmine":"^1.1.1","karma-jasmine-ajax":"^0.1.13","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^4.3.6","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.8","karma-webpack":"^4.0.2","load-grunt-tasks":"^3.5.2",minimist:"^1.2.0",mocha:"^8.2.1",sinon:"^4.5.0","terser-webpack-plugin":"^4.2.3",typescript:"^4.0.5","url-search-params":"^0.10.0",webpack:"^4.44.2","webpack-dev-server":"^3.11.0"},RR={"./lib/adapters/http.js":"./lib/adapters/xhr.js"},MR="dist/axios.min.js",kR="dist/axios.min.js",DR="./index.d.ts",UR={"follow-redirects":"^1.14.0"},FR=[{path:"./dist/axios.min.js",threshold:"5kB"}];var LR={name:wR,version:_R,description:SR,main:ER,scripts:AR,repository:TR,keywords:IR,author:xR,license:CR,bugs:OR,homepage:PR,devDependencies:NR,browser:RR,jsdelivr:MR,unpkg:kR,typings:DR,dependencies:UR,bundlesize:FR},Ub=LR,Xh={};["object","boolean","number","function","string","symbol"].forEach(function(e,t){Xh[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});var kg={},BR=Ub.version.split(".");function Fb(e,t){for(var r=t?t.split("."):BR,n=e.split("."),i=0;i<3;i++){if(r[i]>n[i])return!0;if(r[i]<n[i])return!1}return!1}Xh.transitional=function(t,r,n){var i=r&&Fb(r);function o(s,a){return"[Axios v"+Ub.version+"] Transitional option '"+s+"'"+a+(n?". "+n:"")}return function(s,a,c){if(t===!1)throw new Error(o(a," has been removed in "+r));return i&&!kg[a]&&(kg[a]=!0,console.warn(o(a," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(s,a,c):!0}};function jR(e,t,r){if(typeof e!="object")throw new TypeError("options must be an object");for(var n=Object.keys(e),i=n.length;i-- >0;){var o=n[i],s=t[o];if(s){var a=e[o],c=a===void 0||s(a,o,e);if(c!==!0)throw new TypeError("option "+o+" must be "+c);continue}if(r!==!0)throw Error("Unknown option "+o)}}var qR={isOlderVersion:Fb,assertOptions:jR,validators:Xh},Lb=Zt,$R=Nb,Dg=KN,Ug=bR,ac=Db,Bb=qR,ki=Bb.validators;function ks(e){this.defaults=e,this.interceptors={request:new Dg,response:new Dg}}ks.prototype.request=function(t){typeof t=="string"?(t=arguments[1]||{},t.url=arguments[0]):t=t||{},t=ac(this.defaults,t),t.method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var r=t.transitional;r!==void 0&&Bb.assertOptions(r,{silentJSONParsing:ki.transitional(ki.boolean,"1.0.0"),forcedJSONParsing:ki.transitional(ki.boolean,"1.0.0"),clarifyTimeoutError:ki.transitional(ki.boolean,"1.0.0")},!1);var n=[],i=!0;this.interceptors.request.forEach(function(h){typeof h.runWhen=="function"&&h.runWhen(t)===!1||(i=i&&h.synchronous,n.unshift(h.fulfilled,h.rejected))});var o=[];this.interceptors.response.forEach(function(h){o.push(h.fulfilled,h.rejected)});var s;if(!i){var a=[Ug,void 0];for(Array.prototype.unshift.apply(a,n),a=a.concat(o),s=Promise.resolve(t);a.length;)s=s.then(a.shift(),a.shift());return s}for(var c=t;n.length;){var u=n.shift(),l=n.shift();try{c=u(c)}catch(f){l(f);break}}try{s=Ug(c)}catch(f){return Promise.reject(f)}for(;o.length;)s=s.then(o.shift(),o.shift());return s};ks.prototype.getUri=function(t){return t=ac(this.defaults,t),$R(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")};Lb.forEach(["delete","get","head","options"],function(t){ks.prototype[t]=function(r,n){return this.request(ac(n||{},{method:t,url:r,data:(n||{}).data}))}});Lb.forEach(["post","put","patch"],function(t){ks.prototype[t]=function(r,n,i){return this.request(ac(i||{},{method:t,url:r,data:n}))}});var KR=ks;function Zh(e){this.message=e}Zh.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")};Zh.prototype.__CANCEL__=!0;var jb=Zh,HR=jb;function fu(e){if(typeof e!="function")throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function(i){t=i});var r=this;e(function(i){r.reason||(r.reason=new HR(i),t(r.reason))})}fu.prototype.throwIfRequested=function(){if(this.reason)throw this.reason};fu.source=function(){var t,r=new fu(function(i){t=i});return{token:r,cancel:t}};var VR=fu,zR=function(t){return function(n){return t.apply(null,n)}},WR=function(t){return typeof t=="object"&&t.isAxiosError===!0},Fg=Zt,GR=Cb,ka=KR,YR=Db,JR=Qh;function qb(e){var t=new ka(e),r=GR(ka.prototype.request,t);return Fg.extend(r,ka.prototype,t),Fg.extend(r,t),r}var Ar=qb(JR);Ar.Axios=ka;Ar.create=function(t){return qb(YR(Ar.defaults,t))};Ar.Cancel=jb;Ar.CancelToken=VR;Ar.isCancel=kb;Ar.all=function(t){return Promise.all(t)};Ar.spread=zR;Ar.isAxiosError=WR;Gh.exports=Ar;Gh.exports.default=Ar;var aa=Gh.exports,xr=globalThis&&globalThis.__assign||function(){return xr=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},xr.apply(this,arguments)},QR=globalThis&&globalThis.__awaiter||function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(f){s(f)}}function c(l){try{u(n.throw(l))}catch(f){s(f)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(e,t||[])).next())})},XR=globalThis&&globalThis.__generator||function(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(l){return c([u,l])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){r.label=u[1];break}if(u[0]===6&&r.label<o[1]){r.label=o[1],o=u;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(u);break}o[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(l){u=[6,l],i=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},Lg=globalThis&&globalThis.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r},Di=new Ae("RestClient"),$b=function(){function e(t){this._region="us-east-1",this._service="execute-api",this._custom_header=void 0,this._cancelTokenMap=null,this.Credentials=tn,this._options=t,Di.debug("API Options",this._options),this._cancelTokenMap==null&&(this._cancelTokenMap=new WeakMap)}return e.prototype.ajax=function(t,r,n){return QR(this,void 0,void 0,function(){var i,o,s,a,c,u,l,f,h,v,g,w,y,b,_=this;return XR(this,function(T){switch(T.label){case 0:return Di.debug(r,t),s="us-east-1",a="execute-api",c=void 0,typeof t=="string"?(i=this._parseUrl(t),o=t):(o=t.endpoint,c=t.custom_header,s=t.region,a=t.service,i=this._parseUrl(t.endpoint)),u={method:r,url:o,host:i.host,path:i.path,headers:{},data:null,responseType:"json",timeout:0,cancelToken:null},l={},Pr.isReactNative&&(f=Pr.userAgent||"aws-amplify/0.1.x",l={"User-Agent":f}),h=Object.assign({},n),v=h.response,h.body&&(typeof FormData=="function"&&h.body instanceof FormData?(l["Content-Type"]="multipart/form-data",u.data=h.body):(l["Content-Type"]="application/json; charset=UTF-8",u.data=JSON.stringify(h.body))),h.responseType&&(u.responseType=h.responseType),h.withCredentials&&(u.withCredentials=h.withCredentials),h.timeout&&(u.timeout=h.timeout),h.cancellableToken&&(u.cancelToken=h.cancellableToken.token),u.signerServiceInfo=h.signerServiceInfo,typeof c!="function"?[3,2]:[4,c()];case 1:return w=T.sent(),[3,3];case 2:w=void 0,T.label=3;case 3:return g=w,u.headers=xr(xr(xr({},l),g),h.headers),y=Ft(o,!0,!0),b=Lg(y,["search"]),u.url=wa(xr(xr({},b),{query:xr(xr({},b.query),h.queryStringParameters||{})})),typeof u.headers.Authorization!="undefined"?(u.headers=Object.keys(u.headers).reduce(function(A,x){return u.headers[x]&&(A[x]=u.headers[x]),A},{}),[2,this._request(u,v)]):[2,this.Credentials.get().then(function(A){return _._signed(xr({},u),A,v,{region:s,service:a}).catch(function(x){if(ur.isClockSkewError(x)){var R=x.response.headers,k=R&&(R.date||R.Date),U=new Date(k),B=ur.getDateFromHeaderString(u.headers["x-amz-date"]);if(ur.isClockSkewed(U))return ur.setClockOffset(U.getTime()-B.getTime()),_.ajax(t,r,n)}throw x})},function(A){return Di.debug("No credentials available, the request will be unsigned"),_._request(u,v)})]}})})},e.prototype.get=function(t,r){return this.ajax(t,"GET",r)},e.prototype.put=function(t,r){return this.ajax(t,"PUT",r)},e.prototype.patch=function(t,r){return this.ajax(t,"PATCH",r)},e.prototype.post=function(t,r){return this.ajax(t,"POST",r)},e.prototype.del=function(t,r){return this.ajax(t,"DELETE",r)},e.prototype.head=function(t,r){return this.ajax(t,"HEAD",r)},e.prototype.cancel=function(t,r){var n=this._cancelTokenMap.get(t);return n&&n.cancel(r),!0},e.prototype.isCancel=function(t){return aa.isCancel(t)},e.prototype.getCancellableToken=function(){return aa.CancelToken.source()},e.prototype.updateRequestToBeCancellable=function(t,r){this._cancelTokenMap.set(t,r)},e.prototype.endpoint=function(t){var r=this,n=this._options.endpoints,i="";return Array.isArray(n)&&n.forEach(function(o){o.name===t&&(i=o.endpoint,typeof o.region=="string"?r._region=o.region:typeof r._options.region=="string"&&(r._region=r._options.region),typeof o.service=="string"?r._service=o.service||"execute-api":r._service="execute-api",typeof o.custom_header=="function"?r._custom_header=o.custom_header:r._custom_header=void 0)}),i},e.prototype._signed=function(t,r,n,i){var o=i.service,s=i.region,a=t.signerServiceInfo,c=Lg(t,["signerServiceInfo"]),u=s||this._region||this._options.region,l=o||this._service||this._options.service,f={secret_key:r.secretAccessKey,access_key:r.accessKeyId,session_token:r.sessionToken},h={region:u,service:l},v=Object.assign(h,a),g=d0.sign(c,f,v);return g.data&&(g.body=g.data),Di.debug("Signed Request: ",g),delete g.headers.host,aa(g).then(function(w){return n?w:w.data}).catch(function(w){throw Di.debug(w),w})},e.prototype._request=function(t,r){return r===void 0&&(r=!1),aa(t).then(function(n){return r?n:n.data}).catch(function(n){throw Di.debug(n),n})},e.prototype._parseUrl=function(t){var r=t.split("/");return{host:r[2],path:"/"+r.slice(3).join("/")}},e}(),hu=globalThis&&globalThis.__assign||function(){return hu=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},hu.apply(this,arguments)},ZR=globalThis&&globalThis.__awaiter||function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(f){s(f)}}function c(l){try{u(n.throw(l))}catch(f){s(f)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(e,t||[])).next())})},eM=globalThis&&globalThis.__generator||function(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(l){return c([u,l])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){r.label=u[1];break}if(u[0]===6&&r.label<o[1]){r.label=o[1],o=u;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(u);break}o[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(l){u=[6,l],i=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},tM=globalThis&&globalThis.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r},ua=new Ae("RestAPI"),Kb=function(){function e(t){this._api=null,this.Credentials=tn,this._options=t,ua.debug("API Options",this._options)}return e.prototype.getModuleName=function(){return"RestAPI"},e.prototype.configure=function(t){var r=t||{},n=r.API,i=n===void 0?{}:n,o=tM(r,["API"]),s=hu(hu({},o),i);if(ua.debug("configure Rest API",{opt:s}),s.aws_project_region){if(s.aws_cloud_logic_custom){var a=s.aws_cloud_logic_custom;s.endpoints=typeof a=="string"?JSON.parse(a):a}s=Object.assign({},s,{region:s.aws_project_region,header:{}})}return Array.isArray(s.endpoints)?s.endpoints.forEach(function(c){typeof c.custom_header!="undefined"&&typeof c.custom_header!="function"&&(ua.warn("Rest API "+c.name+", custom_header should be a function"),c.custom_header=void 0)}):this._options&&Array.isArray(this._options.endpoints)?s.endpoints=this._options.endpoints:s.endpoints=[],this._options=Object.assign({},this._options,s),this.createInstance(),this._options},e.prototype.createInstance=function(){return ua.debug("create Rest API instance"),this._api=new $b(this._options),this._api.Credentials=this.Credentials,!0},e.prototype.get=function(t,r,n){try{var i=this.getEndpointInfo(t,r),o=this._api.getCancellableToken(),s=Object.assign({},n);s.cancellableToken=o;var a=this._api.get(i,s);return this._api.updateRequestToBeCancellable(a,o),a}catch(c){return Promise.reject(c.message)}},e.prototype.post=function(t,r,n){try{var i=this.getEndpointInfo(t,r),o=this._api.getCancellableToken(),s=Object.assign({},n);s.cancellableToken=o;var a=this._api.post(i,s);return this._api.updateRequestToBeCancellable(a,o),a}catch(c){return Promise.reject(c.message)}},e.prototype.put=function(t,r,n){try{var i=this.getEndpointInfo(t,r),o=this._api.getCancellableToken(),s=Object.assign({},n);s.cancellableToken=o;var a=this._api.put(i,s);return this._api.updateRequestToBeCancellable(a,o),a}catch(c){return Promise.reject(c.message)}},e.prototype.patch=function(t,r,n){try{var i=this.getEndpointInfo(t,r),o=this._api.getCancellableToken(),s=Object.assign({},n);s.cancellableToken=o;var a=this._api.patch(i,s);return this._api.updateRequestToBeCancellable(a,o),a}catch(c){return Promise.reject(c.message)}},e.prototype.del=function(t,r,n){try{var i=this.getEndpointInfo(t,r),o=this._api.getCancellableToken(),s=Object.assign({},n);s.cancellableToken=o;var a=this._api.del(i,s);return this._api.updateRequestToBeCancellable(a,o),a}catch(c){return Promise.reject(c.message)}},e.prototype.head=function(t,r,n){try{var i=this.getEndpointInfo(t,r),o=this._api.getCancellableToken(),s=Object.assign({},n);s.cancellableToken=o;var a=this._api.head(i,s);return this._api.updateRequestToBeCancellable(a,o),a}catch(c){return Promise.reject(c.message)}},e.prototype.isCancel=function(t){return this._api.isCancel(t)},e.prototype.cancel=function(t,r){return this._api.cancel(t,r)},e.prototype.endpoint=function(t){return ZR(this,void 0,void 0,function(){return eM(this,function(r){return[2,this._api.endpoint(t)]})})},e.prototype.getEndpointInfo=function(t,r){var n=this._options.endpoints;if(!Array.isArray(n))throw new Error("API category not configured");var i=n.find(function(s){return s.name===t});if(!i)throw new Error("API "+t+" does not exist");var o={endpoint:i.endpoint+r};return typeof i.region=="string"?o.region=i.region:typeof this._options.region=="string"&&(o.region=this._options.region),typeof i.service=="string"?o.service=i.service||"execute-api":o.service="execute-api",typeof i.custom_header=="function"?o.custom_header=i.custom_header:o.custom_header=void 0,o},e}(),rM=new Kb(null);Fr.register(rM);var Gr=globalThis&&globalThis.__assign||function(){return Gr=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Gr.apply(this,arguments)},Bg=globalThis&&globalThis.__awaiter||function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(f){s(f)}}function c(l){try{u(n.throw(l))}catch(f){s(f)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(e,t||[])).next())})},jg=globalThis&&globalThis.__generator||function(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(l){return c([u,l])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){r.label=u[1];break}if(u[0]===6&&r.label<o[1]){r.label=o[1],o=u;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(u);break}o[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(l){u=[6,l],i=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},nM=globalThis&&globalThis.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r},qg=globalThis&&globalThis.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return o},iM="x-amz-user-agent",Gn=new Ae("GraphQLAPI"),Hb=function(){function e(t){this._api=null,this.Auth=Fn,this.Cache=As,this.Credentials=tn,this._options=t,Gn.debug("API Options",this._options)}return e.prototype.getModuleName=function(){return"GraphQLAPI"},e.prototype.configure=function(t){var r=t||{},n=r.API,i=n===void 0?{}:n,o=nM(r,["API"]),s=Gr(Gr({},o),i);return Gn.debug("configure GraphQL API",{opt:s}),s.aws_project_region&&(s=Object.assign({},s,{region:s.aws_project_region,header:{}})),typeof s.graphql_headers!="undefined"&&typeof s.graphql_headers!="function"&&(Gn.warn("graphql_headers should be a function"),s.graphql_headers=void 0),this._options=Object.assign({},this._options,s),this.createInstance(),this._options},e.prototype.createInstance=function(){return Gn.debug("create Rest instance"),this._options?(this._api=new $b(this._options),this._api.Credentials=this.Credentials,!0):Promise.reject("API not configured")},e.prototype._headerBasedAuth=function(t,r){return r===void 0&&(r={}),Bg(this,void 0,void 0,function(){var n,i,o,s,a,c,u,l,f,h,v;return jg(this,function(g){switch(g.label){case 0:switch(n=this._options,i=n.aws_appsync_authenticationType,o=n.aws_appsync_apiKey,s=t||i||"AWS_IAM",a={},c=s,c){case"API_KEY":return[3,1];case"AWS_IAM":return[3,2];case"OPENID_CONNECT":return[3,4];case"AMAZON_COGNITO_USER_POOLS":return[3,11];case"AWS_LAMBDA":return[3,15]}return[3,16];case 1:if(!o)throw new Error(Qr.NO_API_KEY);return a={Authorization:null,"X-Api-Key":o},[3,17];case 2:return[4,this._ensureCredentials()];case 3:if(u=g.sent(),!u)throw new Error(Qr.NO_CREDENTIALS);return[3,17];case 4:return g.trys.push([4,9,,10]),l=void 0,[4,As.getItem("federatedInfo")];case 5:return f=g.sent(),f?(l=f.token,[3,8]):[3,6];case 6:return[4,Fn.currentAuthenticatedUser()];case 7:h=g.sent(),h&&(l=h.token),g.label=8;case 8:if(!l)throw new Error(Qr.NO_FEDERATED_JWT);return a={Authorization:l},[3,10];case 9:throw g.sent(),new Error(Qr.NO_CURRENT_USER);case 10:return[3,17];case 11:return g.trys.push([11,13,,14]),[4,this.Auth.currentSession()];case 12:return v=g.sent(),a={Authorization:v.getAccessToken().getJwtToken()},[3,14];case 13:throw g.sent(),new Error(Qr.NO_CURRENT_USER);case 14:return[3,17];case 15:if(!r.Authorization)throw new Error(Qr.NO_AUTH_TOKEN);return a={Authorization:r.Authorization},[3,17];case 16:return a={Authorization:null},[3,17];case 17:return[2,a]}})})},e.prototype.getGraphqlOperationType=function(t){var r=Hc(t),n=r.definitions,i=qg(n,1),o=i[0].operation;return o},e.prototype.graphql=function(t,r){var n=t.query,i=t.variables,o=i===void 0?{}:i,s=t.authMode,a=t.authToken,c=Hc(typeof n=="string"?n:zc(n)),u=qg(c.definitions.filter(function(b){return b.kind==="OperationDefinition"}),1),l=u[0],f=l===void 0?{}:l,h=f.operation,v=r||{};switch(a&&(v.Authorization=a),h){case"query":case"mutation":var g=this._api.getCancellableToken(),w={cancellableToken:g},y=this._graphql({query:c,variables:o,authMode:s},v,w);return this._api.updateRequestToBeCancellable(y,g),y;case"subscription":return this._graphqlSubscribe({query:c,variables:o,authMode:s},v)}throw new Error("invalid operation type: "+h)},e.prototype._graphql=function(t,r,n){var i=t.query,o=t.variables,s=t.authMode;return r===void 0&&(r={}),n===void 0&&(n={}),Bg(this,void 0,void 0,function(){var a,c,u,l,f,h,v,g,w,y,b,_,T,A,x,R,k,U,B,N,F,L;return jg(this,function(I){switch(I.label){case 0:return this._api?[3,2]:[4,this.createInstance()];case 1:I.sent(),I.label=2;case 2:return a=this._options,c=a.aws_appsync_region,u=a.aws_appsync_graphqlEndpoint,l=a.graphql_headers,f=l===void 0?function(){return{}}:l,h=a.graphql_endpoint,v=a.graphql_endpoint_iam_region,w=[{}],y=!h,y?[4,this._headerBasedAuth(s,r)]:[3,4];case 3:y=I.sent(),I.label=4;case 4:return b=[Gr.apply(void 0,w.concat([y]))],_=h,_?v?[4,this._headerBasedAuth(s,r)]:[3,6]:[3,8];case 5:return T=I.sent(),[3,7];case 6:T={Authorization:null},I.label=7;case 7:_=T,I.label=8;case 8:return A=[Gr.apply(void 0,b.concat([_]))],[4,f({query:i,variables:o})];case 9:if(g=Gr.apply(void 0,[Gr.apply(void 0,[Gr.apply(void 0,A.concat([I.sent()])),r]),!h&&(L={},L[iM]=rb.userAgent,L)]),x={query:zc(i),variables:o},R=Object.assign({headers:g,body:x,signerServiceInfo:{service:h?"execute-api":"appsync",region:h?v:c}},n),k=h||u,!k)throw U=new Jr("No graphql endpoint provided."),{data:{},errors:[U]};I.label=10;case 10:return I.trys.push([10,12,,13]),[4,this._api.post(k,R)];case 11:return B=I.sent(),[3,13];case 12:if(N=I.sent(),this._api.isCancel(N))throw N;return B={data:{},errors:[new Jr(N.message,null,null,null,null,N)]},[3,13];case 13:if(F=B.errors,F&&F.length)throw B;return[2,B]}})})},e.prototype.isCancel=function(t){return this._api.isCancel(t)},e.prototype.cancel=function(t,r){return this._api.cancel(t,r)},e.prototype._graphqlSubscribe=function(t,r){var n=t.query,i=t.variables,o=t.authMode,s=t.authToken;r===void 0&&(r={});var a=this._options,c=a.aws_appsync_region,u=a.aws_appsync_graphqlEndpoint,l=a.aws_appsync_authenticationType,f=a.aws_appsync_apiKey,h=a.graphql_headers,v=h===void 0?function(){return{}}:h,g=o||l||"AWS_IAM";if(Ra&&typeof Ra.subscribe=="function")return Ra.subscribe("",{provider:tb,appSyncGraphqlEndpoint:u,authenticationType:g,apiKey:f,query:zc(n),region:c,variables:i,graphql_headers:v,additionalHeaders:r,authToken:s});throw Gn.debug("No pubsub module applied for subscription"),new Error("No pubsub module applied for subscription")},e.prototype._ensureCredentials=function(){var t=this;return this.Credentials.get().then(function(r){if(!r)return!1;var n=t.Credentials.shear(r);return Gn.debug("set credentials for api",n),!0}).catch(function(r){return Gn.warn("ensure credentials error",r),!1})},e}(),oM=new Hb(null);Fr.register(oM);function oo(e){var t=new Error(e);return t.source="ulid",t}var so="0123456789ABCDEFGHJKMNPQRSTVWXYZ",ao=so.length,$g=Math.pow(2,48)-1,Sf=10,Vb=16;function Kg(e,t,r){return t>e.length-1?e:e.substr(0,t)+r+e.substr(t+1)}function sM(e){for(var t=void 0,r=e.length,n=void 0,i=void 0,o=ao-1;!t&&r-->=0;){if(n=e[r],i=so.indexOf(n),i===-1)throw oo("incorrectly encoded string");if(i===o){e=Kg(e,r,so[0]);continue}t=Kg(e,r,so[i+1])}if(typeof t=="string")return t;throw oo("cannot increment this string")}function aM(e){var t=Math.floor(e()*ao);return t===ao&&(t=ao-1),so.charAt(t)}function Ef(e,t){if(isNaN(e))throw new Error(e+" must be a number");if(e>$g)throw oo("cannot encode time greater than "+$g);if(e<0)throw oo("time must be positive");if(Number.isInteger(e)===!1)throw oo("time must be an integer");for(var r=void 0,n="";t>0;t--)r=e%ao,n=so.charAt(r)+n,e=(e-r)/ao;return n}function zb(e,t){for(var r="";e>0;e--)r=aM(t)+r;return r}function Wb(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,t=arguments[1];t||(t=typeof window!="undefined"?window:null);var r=t&&(t.crypto||t.msCrypto);if(r)return function(){var i=new Uint8Array(1);return r.getRandomValues(i),i[0]/255};try{var n=require("crypto");return function(){return n.randomBytes(1).readUInt8()/255}}catch{}if(e){try{console.error("secure crypto unusable, falling back to insecure Math.random()!")}catch{}return function(){return Math.random()}}throw oo("secure crypto unusable, insecure Math.random not allowed")}function uM(e){return e||(e=Wb()),function(r){return isNaN(r)&&(r=Date.now()),Ef(r,Sf)+zb(Vb,e)}}function cM(e){e||(e=Wb());var t=0,r=void 0;return function(i){if(isNaN(i)&&(i=Date.now()),i<=t){var o=r=sM(r);return Ef(t,Sf)+o}t=i;var s=r=zb(Vb,e);return Ef(i,Sf)+s}}uM();var Gb=globalThis&&globalThis.__awaiter||function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(f){s(f)}}function c(l){try{u(n.throw(l))}catch(f){s(f)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(e,t||[])).next())})},Yb=globalThis&&globalThis.__generator||function(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(l){return c([u,l])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){r.label=u[1];break}if(u[0]===6&&r.label<o[1]){r.label=o[1],o=u;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(u);break}o[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(l){u=[6,l],i=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},ed=globalThis&&globalThis.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return o},du=globalThis&&globalThis.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(ed(arguments[t]));return e},pu=globalThis&&globalThis.__values||function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},It=function(e,t){if(t===void 0&&(t=!0),t)throw new Error("Invalid "+e)},Xr=function(e){return typeof e=="undefined"||e===void 0||e===null},nn=function(e,t,r){var n,i=!1;if(r.length===0)return!0;switch(t){case"not":n="every",i=!0;break;case"and":n="every";break;case"or":n="some";break;default:It(t)}var o=r[n](function(s){if(Ds(s)){var a=s.field,c=s.operator,u=s.operand,l=e[a];return lM(l,c,u)}if(NM(s)){var f=s.type,h=s.predicates;return nn(e,f,h)}throw new Error("Not a predicate or group")});return i?!o:o},lM=function(e,t,r){switch(t){case"ne":return e!==r;case"eq":return e===r;case"le":return e<=r;case"lt":return e<r;case"ge":return e>=r;case"gt":return e>r;case"between":var n=ed(r,2),i=n[0],o=n[1];return e>=i&&e<=o;case"beginsWith":return!Xr(e)&&e.startsWith(r);case"contains":return!Xr(e)&&e.indexOf(r)>-1;case"notContains":return Xr(e)||e.indexOf(r)===-1;default:return It(t,!1),!1}},vo=function(e){return e&&typeof e.copyOf=="function"},fM=new WeakSet;function hM(e){fM.add(e)}var dM=function(e){var t=function(s){var a=ed(s.properties.fields),c=a.slice(1);return c},r=e.filter(OM).map(t),n=function(s){return s.reduce(function(a,c){var u=new Set(c);if(a.length===0)return a.push(u),a;var l=a.findIndex(function(h){return du(h).some(function(v){return u.has(v)})});if(l>-1){var f=new Set(du(a[l],u));a[l]=f}else a.push(u);return a},[])},i=n(r),o=n(i);return o},pM=function(e){var t={},r={};return Object.keys(e.models).forEach(function(n){var i,o,s,a;t[n]={indexes:[],relationTypes:[]},r[n]={};var c=e.models[n];if(Object.keys(c.fields).forEach(function(b){var _=c.fields[b];if(typeof _.type=="object"&&"model"in _.type){var T=_.association.connectionType;t[n].relationTypes.push({fieldName:_.name,modelName:_.type.model,relationType:T,targetName:_.association.targetName,associatedWith:_.association.associatedWith}),T==="BELONGS_TO"&&t[n].indexes.push(_.association.targetName)}}),c.attributes){r[n].compositeKeys=dM(c.attributes);try{for(var u=pu(c.attributes),l=u.next();!l.done;l=u.next()){var f=l.value;if(!!id(f)){CM(f)&&(r[n].primaryKey=f.properties.fields);var h=f.properties.fields;try{for(var v=(s=void 0,pu(h)),g=v.next();!g.done;g=v.next()){var w=g.value,y=t[n].indexes.includes(w);y||t[n].indexes.push(w)}}catch(b){s={error:b}}finally{try{g&&!g.done&&(a=v.return)&&a.call(v)}finally{if(s)throw s.error}}}}}catch(b){i={error:b}}finally{try{l&&!l.done&&(o=u.return)&&o.call(u)}finally{if(i)throw i.error}}}}),[t,r]},Xc=new WeakMap,vu=function(e,t,r,n,i){var o=r.relationships,s=i(r.name,e),a=o[e],c=[],u=s.copyOf(t,function(f){a.relationTypes.forEach(function(h){var v=i(r.name,h.modelName);switch(h.relationType){case"HAS_ONE":if(t[h.fieldName]){var g=void 0;try{g=n(v,t[h.fieldName])}catch(y){console.log(y)}c.push({modelName:h.modelName,item:t[h.fieldName],instance:g}),h.targetName?(f[h.targetName]=f[h.fieldName].id,delete f[h.fieldName]):f[h.fieldName]=f[h.fieldName].id}break;case"BELONGS_TO":if(t[h.fieldName]){var g=void 0;try{g=n(v,t[h.fieldName])}catch{}var w=f[h.fieldName]._deleted;w||c.push({modelName:h.modelName,item:t[h.fieldName],instance:g})}f[h.fieldName]&&(f[h.targetName]=f[h.fieldName].id,delete f[h.fieldName]);break;case"HAS_MANY":break;default:It(h.relationType);break}})});c.unshift({modelName:e,item:u,instance:u}),Xc.has(r)||Xc.set(r,Array.from(r.modelTopologicalOrdering.keys()));var l=Xc.get(r);return c.sort(function(f,h){return l.indexOf(f.modelName)-l.indexOf(h.modelName)}),c},Jb=function(e,t){var r="";return e.some(function(n){n.modelName===t&&(r=n.targetName)}),r},Qb=function(e,t){var r=e.find(function(n){return n===t});return r},go;(function(e){e.DATASTORE="datastore",e.USER="user",e.SYNC="sync",e.STORAGE="storage"})(go||(go={}));var td=go.DATASTORE,xo=go.USER,uo=go.SYNC,Xb=go.STORAGE,ca,vM=function(){return new Promise(function(e){var t=Rs.v4(),r,n=function(){ca=!1,e(!0)},i=function(){return Gb(void 0,void 0,void 0,function(){return Yb(this,function(o){switch(o.label){case 0:return r&&r.result&&typeof r.result.close=="function"?[4,r.result.close()]:[3,2];case 1:o.sent(),o.label=2;case 2:return[4,indexedDB.deleteDatabase(t)];case 3:return o.sent(),ca=!0,[2,e(!1)]}})})};if(ca===!0)return i();if(ca===!1||indexedDB===null)return n();r=indexedDB.open(t),r.onerror=n,r.onsuccess=i})},gM=function(e){return lu.Buffer.from(new ab().random(e).toString(),"hex")},mM=function(){return gM(1).readUInt8(0)/255};function Zb(e){var t=cM(mM);return function(){return t(e)}}function Hg(){return typeof performance!="undefined"&&performance&&typeof performance.now=="function"?performance.now()|0:Date.now()}function rd(e){return function(r,n){var i,o;try{for(var s=pu(e),a=s.next();!a.done;a=s.next()){var c=a.value,u=c.field,l=c.sortDirection,f=l===If.ASCENDING?1:-1;if(r[u]<n[u])return-1*f;if(r[u]>n[u])return 1*f}}catch(h){i={error:h}}finally{try{a&&!a.done&&(o=s.return)&&o.call(s)}finally{if(i)throw i.error}}return 0}}function nd(e,t,r){var n,i;r===void 0&&(r=!1);var o=e,s=t,a=function(y,b){return y==null&&b==null};if(o instanceof Object&&!(s instanceof Object)||!(o instanceof Object)&&s instanceof Object)return!1;if(!(o instanceof Object))return r&&a(o,s)?!0:o===s;if(Array.isArray(o)&&!Array.isArray(s)||Array.isArray(s)&&!Array.isArray(o))return!1;o instanceof Set&&s instanceof Set&&(o=du(o),s=du(s)),o instanceof Map&&s instanceof Map&&(o=Object.fromEntries(o),s=Object.fromEntries(s));var c=Object.keys(o),u=Object.keys(s);if(c.length!==u.length&&(!r||Array.isArray(o)))return!1;var l=c.length>=u.length?c:u;try{for(var f=pu(l),h=f.next();!h.done;h=f.next()){var v=h.value,g=o[v],w=s[v];if(!nd(g,w,r))return!1}}catch(y){n={error:y}}finally{try{h&&!h.done&&(i=f.return)&&i.call(f)}finally{if(n)throw n.error}}return!0}var yM=function(e){return!!/^\d{4}-\d{2}-\d{2}(Z|[+-]\d{2}:\d{2}($|:\d{2}))?$/.exec(e)},bM=function(e){return!!/^\d{2}:\d{2}(:\d{2}(.\d+)?)?(Z|[+-]\d{2}:\d{2}($|:\d{2}))?$/.exec(e)},wM=function(e){return!!/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}(:\d{2}(.\d+)?)?(Z|[+-]\d{2}:\d{2}($|:\d{2}))?$/.exec(e)},_M=function(e){return!!/^\d+$/.exec(String(e))},SM=function(e){return!!/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.exec(e)},EM=function(e){try{return JSON.parse(e),!0}catch{return!1}},AM=function(e){try{return!!new URL(e)}catch{return!1}},TM=function(e){return!!/^\+?\d[\d\s-]+$/.exec(e)},IM=function(e){return!!/((^((([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5]))$)|(^((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?$))$/.exec(e)},Vg=function(){function e(){var t=this;this.promise=new Promise(function(r,n){t.resolve=r,t.reject=n})}return e}(),xM=function(){function e(t){this.limitPromise=new Vg,this.raceInFlight=!1,this.callback=function(){},this.defaultErrorHandler=function(r){throw r===void 0&&(r="DeferredCallbackResolver error"),new Error(r)},this.callback=t.callback,this.errorHandler=t.errorHandler||this.defaultErrorHandler,this.maxInterval=t.maxInterval||2e3}return e.prototype.startTimer=function(){var t=this;this.timerPromise=new Promise(function(r,n){t.timer=setTimeout(function(){r(mu.TIMER)},t.maxInterval)})},e.prototype.racePromises=function(){return Gb(this,void 0,void 0,function(){var t,r;return Yb(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,3,4]),this.raceInFlight=!0,this.startTimer(),[4,Promise.race([this.timerPromise,this.limitPromise.promise])];case 1:return t=n.sent(),this.callback(),[3,4];case 2:return r=n.sent(),this.errorHandler(r),[3,4];case 3:return this.clear(),this.raceInFlight=!1,this.limitPromise=new Vg,[2,t];case 4:return[2]}})})},e.prototype.start=function(){this.raceInFlight||this.racePromises()},e.prototype.clear=function(){clearTimeout(this.timer)},e.prototype.resolve=function(){this.limitPromise.resolve(mu.LIMIT)},e}();globalThis&&globalThis.__awaiter;globalThis&&globalThis.__generator;function ew(e){return e&&e.pluralName!==void 0}function gu(e){return e&&e.targetName}function id(e){return e.type==="key"&&e.properties&&e.properties.fields&&e.properties.fields.length>0}function CM(e){return id(e)&&e.properties.name===void 0}function OM(e){return id(e)&&e.properties.name!==void 0&&e.properties.fields.length>2}var lr;(function(e){e.CUSTOM="custom",e.OWNER="owner",e.GROUPS="groups",e.PRIVATE="private",e.PUBLIC="public"})(lr||(lr={}));var ct;(function(e){e.FUNCTION="function",e.USER_POOLS="userPools",e.OIDC="oidc",e.IAM="iam",e.API_KEY="apiKey"})(ct||(ct={}));var Si;(function(e){e[e.ID=0]="ID",e[e.String=1]="String",e[e.Int=2]="Int",e[e.Float=3]="Float",e[e.Boolean=4]="Boolean",e[e.AWSDate=5]="AWSDate",e[e.AWSTime=6]="AWSTime",e[e.AWSDateTime=7]="AWSDateTime",e[e.AWSTimestamp=8]="AWSTimestamp",e[e.AWSEmail=9]="AWSEmail",e[e.AWSJSON=10]="AWSJSON",e[e.AWSURL=11]="AWSURL",e[e.AWSPhone=12]="AWSPhone",e[e.AWSIPAddress=13]="AWSIPAddress"})(Si||(Si={}));(function(e){function t(n){switch(n){case"Boolean":return"boolean";case"ID":case"String":case"AWSDate":case"AWSTime":case"AWSDateTime":case"AWSEmail":case"AWSURL":case"AWSPhone":case"AWSIPAddress":return"string";case"Int":case"Float":case"AWSTimestamp":return"number";case"AWSJSON":return"object";default:It(n)}}e.getJSType=t;function r(n){switch(n){case"AWSDate":return yM;case"AWSTime":return bM;case"AWSDateTime":return wM;case"AWSTimestamp":return _M;case"AWSEmail":return SM;case"AWSJSON":return EM;case"AWSURL":return AM;case"AWSPhone":return TM;case"AWSIPAddress":return IM;default:return}}e.getValidationFunction=r})(Si||(Si={}));function tw(e){return e&&Si[e]!==void 0}function Af(e){var t="model";return!!(e&&e[t])}function Tf(e){var t="nonModel";return!!(e&&e[t])}function PM(e){var t="enum";return!!(e&&e[t])}var Le;(function(e){e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Le||(Le={}));function Ds(e){return e&&e.field!==void 0}function NM(e){return e&&e.type!==void 0}var un;(function(e){e[e.FIRST=0]="FIRST",e[e.LAST=1]="LAST"})(un||(un={}));var If;(function(e){e.ASCENDING="ASCENDING",e.DESCENDING="DESCENDING"})(If||(If={}));var rs;(function(e){e.DEFAULT="DEFAULT",e.MULTI_AUTH="MULTI_AUTH"})(rs||(rs={}));var xf;(function(e){e.CREATE="CREATE",e.READ="READ",e.UPDATE="UPDATE",e.DELETE="DELETE"})(xf||(xf={}));var zg=Symbol("DISCARD"),mu;(function(e){e.LIMIT="LIMIT",e.TIMER="TIMER"})(mu||(mu={}));var RM=globalThis&&globalThis.__awaiter||function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(f){s(f)}}function c(l){try{u(n.throw(l))}catch(f){s(f)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(e,t||[])).next())})},MM=globalThis&&globalThis.__generator||function(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(l){return c([u,l])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){r.label=u[1];break}if(u[0]===6&&r.label<o[1]){r.label=o[1],o=u;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(u);break}o[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(l){u=[6,l],i=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},kM=globalThis&&globalThis.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return o},DM=globalThis&&globalThis.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(kM(arguments[t]));return e};function Wg(e){return e.allow==="private"&&!e.provider?ct.USER_POOLS:e.allow==="public"&&!e.provider?ct.API_KEY:e.provider}function UM(e){var t=[lr.CUSTOM,lr.OWNER,lr.GROUPS,lr.PRIVATE,lr.PUBLIC],r=[ct.FUNCTION,ct.USER_POOLS,ct.OIDC,ct.IAM,ct.API_KEY];return DM(e).sort(function(n,i){return n.allow===i.allow?r.indexOf(Wg(n))-r.indexOf(Wg(i)):t.indexOf(n.allow)-t.indexOf(i.allow)})}function FM(e){var t=e.rules,r=e.currentUser,n=new Set;return t.forEach(function(i){switch(i.allow){case lr.CUSTOM:(!i.provider||i.provider===ct.FUNCTION)&&n.add(et.AWS_LAMBDA);break;case lr.GROUPS:case lr.OWNER:{r&&(i.provider===ct.USER_POOLS?n.add(et.AMAZON_COGNITO_USER_POOLS):i.provider===ct.OIDC&&n.add(et.OPENID_CONNECT));break}case lr.PRIVATE:{r&&(!i.provider||i.provider===ct.USER_POOLS?n.add(et.AMAZON_COGNITO_USER_POOLS):i.provider===ct.IAM&&n.add(et.AWS_IAM));break}case lr.PUBLIC:{i.provider===ct.IAM?n.add(et.AWS_IAM):(!i.provider||i.provider===ct.API_KEY)&&n.add(et.API_KEY);break}}}),Array.from(n)}var LM=function(e){var t=e.schema,r=e.modelName;return RM(void 0,void 0,void 0,function(){var n,i,o,s;return MM(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,Fn.currentAuthenticatedUser()];case 1:return n=a.sent(),[3,3];case 2:return a.sent(),[3,3];case 3:return i=t.namespaces.user.models[r].attributes,i&&(o=i.find(function(c){return c.type==="auth"}),o.properties&&o.properties.rules)?(s=UM(o.properties.rules),[2,FM({currentUser:n,rules:s})]):[2,[]]}})})},ns=function(){function e(){}return e.createPredicateBuilder=function(t){var r=t.name,n=new Set(Object.keys(t.fields)),i=new Proxy({},{get:function(o,s,a){var c=s;if(!n.has(c))throw new Error("Invalid field for model. field: "+c+", model: "+r);var u=function(l){return e.sortPredicateGroupsMap.get(a).push({field:c,sortDirection:l}),a};return u}});return e.sortPredicateGroupsMap.set(i,[]),i},e.isValidPredicate=function(t){return e.sortPredicateGroupsMap.has(t)},e.getPredicates=function(t,r){if(r===void 0&&(r=!0),r&&!e.isValidPredicate(t))throw new Error("The predicate is not valid");return e.sortPredicateGroupsMap.get(t)},e.createFromExisting=function(t,r){if(!(!r||!t))return r(e.createPredicateBuilder(t))},e.sortPredicateGroupsMap=new WeakMap,e}(),rw=new WeakSet;function Gg(e){return rw.has(e)}(function(){function e(){}return Object.defineProperty(e,"ALL",{get:function(){var t=function(r){return r};return rw.add(t),t},enumerable:!0,configurable:!0}),e})();var Ne=function(){function e(){}return e.createPredicateBuilder=function(t){var r=t.name,n=new Set(Object.keys(t.fields)),i,o=new Proxy({},i={get:function(a,c,u){var l=c;switch(l){case"and":case"or":case"not":var f=function(g){var w={type:l,predicates:[]},y=new Proxy({},i);return e.predicateGroupsMap.set(y,w),g(y),e.predicateGroupsMap.get(u).predicates.push(w),u};return f;default:It(l,!1)}var h=c;if(!n.has(h))throw new Error("Invalid field for model. field: "+h+", model: "+r);var v=function(g,w){return e.predicateGroupsMap.get(u).predicates.push({field:h,operator:g,operand:w}),u};return v}}),s={type:"and",predicates:[]};return e.predicateGroupsMap.set(o,s),o},e.isValidPredicate=function(t){return e.predicateGroupsMap.has(t)},e.getPredicates=function(t,r){if(r===void 0&&(r=!0),r&&!e.isValidPredicate(t))throw new Error("The predicate is not valid");return e.predicateGroupsMap.get(t)},e.createFromExisting=function(t,r){if(!(!r||!t))return r(e.createPredicateBuilder(t))},e.createForId=function(t,r){return e.createPredicateBuilder(t).id("eq",r)},e.predicateGroupsMap=new WeakMap,e}(),Cf={exports:{}};(function(e,t){(function(r,n){r(t,e)})(function(r,n){function i(b){return typeof Symbol=="function"&&Boolean(Symbol[b])}function o(b){return i(b)?Symbol[b]:"@@"+b}typeof Symbol=="function"&&!Symbol.observable&&(Symbol.observable=Symbol("observable"));function s(b){setTimeout(function(){throw b})}function a(b,_){var T=b[_];if(T!=null){if(typeof T!="function")throw new TypeError(T+" is not a function");return T}}function c(b){var _=b.constructor;return _!==void 0&&(_=_[o("species")],_===null&&(_=void 0)),_!==void 0?_:y}function u(b,_){Object.keys(_).forEach(function(T){var A=Object.getOwnPropertyDescriptor(_,T);A.enumerable=!1,Object.defineProperty(b,T,A)})}function l(b){var _=b._cleanup;if(!!_){b._cleanup=void 0;try{_()}catch(T){s(T)}}}function f(b){return b._observer===void 0}function h(b){f(b)||(b._observer=void 0,l(b))}function v(b){return function(){b.unsubscribe()}}function g(b,_){if(Object(b)!==b)throw new TypeError("Observer must be an object");this._cleanup=void 0,this._observer=b;try{var T=a(b,"start");T&&T.call(b,this)}catch(x){s(x)}if(!f(this)){b=new w(this);try{var A=_.call(void 0,b);if(A!=null){if(typeof A.unsubscribe=="function")A=v(A);else if(typeof A!="function")throw new TypeError(A+" is not a function");this._cleanup=A}}catch(x){b.error(x);return}f(this)&&l(this)}}u(g.prototype={},{get closed(){return f(this)},unsubscribe:function(){h(this)}});function w(b){this._subscription=b}u(w.prototype={},{get closed(){return f(this._subscription)},next:function(b){var _=this._subscription;if(!f(_)){var T=_._observer;try{var A=a(T,"next");A&&A.call(T,b)}catch(x){s(x)}}},error:function(b){var _=this._subscription;if(f(_)){s(b);return}var T=_._observer;_._observer=void 0;try{var A=a(T,"error");if(A)A.call(T,b);else throw b}catch(x){s(x)}l(_)},complete:function(){var b=this._subscription;if(!f(b)){var _=b._observer;b._observer=void 0;try{var T=a(_,"complete");T&&T.call(_)}catch(A){s(A)}l(b)}}});function y(b){if(!(this instanceof y))throw new TypeError("Observable cannot be called as a function");if(typeof b!="function")throw new TypeError("Observable initializer must be a function");this._subscriber=b}u(y.prototype,{subscribe:function(b){for(var _=[],T=1;T<arguments.length;++T)_.push(arguments[T]);return typeof b=="function"?b={next:b,error:_[0],complete:_[1]}:(typeof b!="object"||b===null)&&(b={}),new g(b,this._subscriber)},forEach:function(b){var _=this;return new Promise(function(T,A){if(typeof b!="function")return Promise.reject(new TypeError(b+" is not a function"));_.subscribe({_subscription:null,start:function(x){if(Object(x)!==x)throw new TypeError(x+" is not an object");this._subscription=x},next:function(x){var R=this._subscription;if(!R.closed)try{b(x)}catch(k){A(k),R.unsubscribe()}},error:A,complete:T})})},map:function(b){var _=this;if(typeof b!="function")throw new TypeError(b+" is not a function");var T=c(this);return new T(function(A){return _.subscribe({next:function(x){if(!A.closed){try{x=b(x)}catch(R){return A.error(R)}A.next(x)}},error:function(x){A.error(x)},complete:function(){A.complete()}})})},filter:function(b){var _=this;if(typeof b!="function")throw new TypeError(b+" is not a function");var T=c(this);return new T(function(A){return _.subscribe({next:function(x){if(!A.closed){try{if(!b(x))return}catch(R){return A.error(R)}A.next(x)}},error:function(x){A.error(x)},complete:function(){A.complete()}})})},reduce:function(b){var _=this;if(typeof b!="function")throw new TypeError(b+" is not a function");var T=c(this),A=arguments.length>1,x=!1,R=arguments[1],k=R;return new T(function(U){return _.subscribe({next:function(B){if(!U.closed){var N=!x;if(x=!0,!N||A)try{k=b(k,B)}catch(F){return U.error(F)}else k=B}},error:function(B){U.error(B)},complete:function(){if(!x&&!A)return U.error(new TypeError("Cannot reduce an empty sequence"));U.next(k),U.complete()}})})}}),Object.defineProperty(y.prototype,o("observable"),{value:function(){return this},writable:!0,configurable:!0}),u(y,{from:function(b){var _=typeof this=="function"?this:y;if(b==null)throw new TypeError(b+" is not an object");var T=a(b,o("observable"));if(T){var A=T.call(b);if(Object(A)!==A)throw new TypeError(A+" is not an object");return A.constructor===_?A:new _(function(x){return A.subscribe(x)})}if(i("iterator")&&(T=a(b,o("iterator"))))return new _(function(x){for(var R=T.call(b)[Symbol.iterator](),k;k=R.next(),!k.done;){var U=k.value;if(x.next(U),x.closed)return}x.complete()});if(Array.isArray(b))return new _(function(x){for(var R=0;R<b.length;++R)if(x.next(b[R]),x.closed)return;x.complete()});throw new TypeError(b+" is not observable")},of:function(){for(var b=[],_=0;_<arguments.length;++_)b.push(arguments[_]);var T=typeof this=="function"?this:y;return new T(function(A){for(var x=0;x<b.length;++x)if(A.next(b[x]),A.closed)return;A.complete()})}}),Object.defineProperty(y,o("species"),{get:function(){return this},configurable:!0}),Object.defineProperty(y,"extensions",{value:{observableSymbol:o("observable"),setHostReportError:function(b){s=b}}}),r.Observable=y})})(Cf,Cf.exports);var BM=Cf.exports.Observable,jM=BM;function qM(e,t){Object.keys(t).forEach(function(r){var n=Object.getOwnPropertyDescriptor(t,r);n.enumerable=!1,Object.defineProperty(e,r,n)})}function Zc(e,t,r){if(e._observer)Yg(e._observer,t,r);else if(e._observers){var n=[];e._observers.forEach(function(i){n.push(i)}),n.forEach(function(i){Yg(i,t,r)})}}function Yg(e,t,r){if(!e.closed)switch(t){case"next":return e.next(r);case"error":return e.error(r);case"complete":return e.complete(r)}}function od(e){return e._observer||e._observers&&e._observers.size>0}function $M(e,t){e._observers?e._observers.add(t):e._observer?(e._observers=new Set,e._observers.add(e._observer),e._observers.add(t),e._observer=null):e._observer=t}function KM(e,t){e._observers?e._observers.delete(t):e._observer===t&&(e._observer=null)}function HM(e,t){!od(e)&&t&&t.start&&t.start()}function VM(e,t){!od(e)&&t&&t.pause&&t.pause()}function nw(e){var t=this;this._observer=null,this._observers=null,this._observable=new jM(function(r){return HM(t,e),$M(t,r),function(){KM(t,r),VM(t,e)}})}qM(nw.prototype,{get observable(){return this._observable},get observed(){return od(this)},next:function(e){Zc(this,"next",e)},error:function(e){Zc(this,"error",e)},complete:function(e){Zc(this,"complete",e)}});var zM=nw;const WM=(e,t)=>t.some(r=>e instanceof r);let Jg,Qg;function GM(){return Jg||(Jg=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function YM(){return Qg||(Qg=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const iw=new WeakMap,Of=new WeakMap,ow=new WeakMap,el=new WeakMap,sd=new WeakMap;function JM(e){const t=new Promise((r,n)=>{const i=()=>{e.removeEventListener("success",o),e.removeEventListener("error",s)},o=()=>{r(on(e.result)),i()},s=()=>{n(e.error),i()};e.addEventListener("success",o),e.addEventListener("error",s)});return t.then(r=>{r instanceof IDBCursor&&iw.set(r,e)}).catch(()=>{}),sd.set(t,e),t}function QM(e){if(Of.has(e))return;const t=new Promise((r,n)=>{const i=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",s),e.removeEventListener("abort",s)},o=()=>{r(),i()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",o),e.addEventListener("error",s),e.addEventListener("abort",s)});Of.set(e,t)}let Pf={get(e,t,r){if(e instanceof IDBTransaction){if(t==="done")return Of.get(e);if(t==="objectStoreNames")return e.objectStoreNames||ow.get(e);if(t==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return on(e[t])},set(e,t,r){return e[t]=r,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function XM(e){Pf=e(Pf)}function ZM(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...r){const n=e.call(tl(this),t,...r);return ow.set(n,t.sort?t.sort():[t]),on(n)}:YM().includes(e)?function(...t){return e.apply(tl(this),t),on(iw.get(this))}:function(...t){return on(e.apply(tl(this),t))}}function ek(e){return typeof e=="function"?ZM(e):(e instanceof IDBTransaction&&QM(e),WM(e,GM())?new Proxy(e,Pf):e)}function on(e){if(e instanceof IDBRequest)return JM(e);if(el.has(e))return el.get(e);const t=ek(e);return t!==e&&(el.set(e,t),sd.set(t,e)),t}const tl=e=>sd.get(e);function tk(e,t,{blocked:r,upgrade:n,blocking:i,terminated:o}={}){const s=indexedDB.open(e,t),a=on(s);return n&&s.addEventListener("upgradeneeded",c=>{n(on(s.result),c.oldVersion,c.newVersion,on(s.transaction))}),r&&s.addEventListener("blocked",()=>r()),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}function rk(e,{blocked:t}={}){const r=indexedDB.deleteDatabase(e);return t&&r.addEventListener("blocked",()=>t()),on(r).then(()=>{})}const nk=["get","getKey","getAll","getAllKeys","count"],ik=["put","add","delete","clear"],rl=new Map;function Xg(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(rl.get(t))return rl.get(t);const r=t.replace(/FromIndex$/,""),n=t!==r,i=ik.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||nk.includes(r)))return;const o=async function(s,...a){const c=this.transaction(s,i?"readwrite":"readonly");let u=c.store;n&&(u=u.index(a.shift()));const l=await u[r](...a);return i&&await c.done,l};return rl.set(t,o),o}XM(e=>fc(Us({},e),{get:(t,r,n)=>Xg(t,r)||e.get(t,r,n),has:(t,r)=>!!Xg(t,r)||e.has(t,r)}));var Ze=globalThis&&globalThis.__awaiter||function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(f){s(f)}}function c(l){try{u(n.throw(l))}catch(f){s(f)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(e,t||[])).next())})},Ye=globalThis&&globalThis.__generator||function(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(l){return c([u,l])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){r.label=u[1];break}if(u[0]===6&&r.label<o[1]){r.label=o[1],o=u;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(u);break}o[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(l){u=[6,l],i=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},$r=globalThis&&globalThis.__asyncValues||function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof yu=="function"?yu(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(o){r[o]=e[o]&&function(s){return new Promise(function(a,c){s=e[o](s),i(a,c,s.done,s.value)})}}function i(o,s,a,c){Promise.resolve(c).then(function(u){o({value:u,done:a})},s)}},yu=globalThis&&globalThis.__values||function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},ok=globalThis&&globalThis.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return o},nl=globalThis&&globalThis.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(ok(arguments[t]));return e},Ui=new Ae("DataStore"),Zg="amplify-datastore",sk=function(){function e(){this.dbName=Zg}return e.prototype.checkPrivate=function(){return Ze(this,void 0,void 0,function(){var t;return Ye(this,function(r){switch(r.label){case 0:return[4,vM().then(function(n){return n})];case 1:return t=r.sent(),t?(Ui.error("IndexedDB not supported in this browser's private mode"),[2,Promise.reject("IndexedDB not supported in this browser's private mode")]):[2,Promise.resolve()]}})})},e.prototype.getStorenameForModel=function(t){var r=this.namespaceResolver(t),n=t.name;return this.getStorename(r,n)},e.prototype.getStorename=function(t,r){var n=t+"_"+r;return n},e.prototype.setUp=function(t,r,n,i,o){return Ze(this,void 0,void 0,function(){var s,a,c,u=this;return Ye(this,function(l){switch(l.label){case 0:return[4,this.checkPrivate()];case 1:return l.sent(),this.initPromise?[3,2]:(this.initPromise=new Promise(function(f,h){u.resolve=f,u.reject=h}),[3,4]);case 2:return[4,this.initPromise];case 3:l.sent(),l.label=4;case 4:o&&(this.dbName=Zg+"-"+o),this.schema=t,this.namespaceResolver=r,this.modelInstanceCreator=n,this.getModelConstructorByModelName=i,l.label=5;case 5:return l.trys.push([5,8,,9]),this.db?[3,7]:(s=2,a=this,[4,tk(this.dbName,s,{upgrade:function(f,h,v,g){return Ze(u,void 0,void 0,function(){var w,y,b,_,T,A,x,R,k,U,B,N,F=this;return Ye(this,function(L){switch(L.label){case 0:if(h===0)return Object.keys(t.namespaces).forEach(function(I){var P=t.namespaces[I];Object.keys(P.models).forEach(function(M){var j=F.getStorename(I,M),K=f.createObjectStore(j,{autoIncrement:!0}),G=F.schema.namespaces[I].relationships[M].indexes;G.forEach(function(q){return K.createIndex(q,q)}),K.createIndex("byId","id",{unique:!0})})}),[2];if(!(h===1&&v===2))return[3,16];L.label=1;case 1:L.trys.push([1,14,,15]),L.label=2;case 2:L.trys.push([2,11,12,13]),w=yu(g.objectStoreNames),y=w.next(),L.label=3;case 3:return y.done?[3,10]:(b=y.value,_=g.objectStore(b),T="tmp_"+b,_.name=T,A=f.createObjectStore(b,{keyPath:void 0,autoIncrement:!0}),A.createIndex("byId","id",{unique:!0}),[4,_.openCursor()]);case 4:x=L.sent(),R=0,L.label=5;case 5:return x&&x.value?[4,A.put(x.value)]:[3,8];case 6:return L.sent(),[4,x.continue()];case 7:return x=L.sent(),R++,[3,5];case 8:f.deleteObjectStore(T),Ui.debug(R+" "+b+" records migrated"),L.label=9;case 9:return y=w.next(),[3,3];case 10:return[3,13];case 11:return k=L.sent(),B={error:k},[3,13];case 12:try{y&&!y.done&&(N=w.return)&&N.call(w)}finally{if(B)throw B.error}return[7];case 13:return[3,15];case 14:throw U=L.sent(),Ui.error("Error migrating IndexedDB data",U),g.abort(),U;case 15:return[2];case 16:return[2]}})})}})]);case 6:a.db=l.sent(),this.resolve(),l.label=7;case 7:return[3,9];case 8:return c=l.sent(),this.reject(c),[3,9];case 9:return[2]}})})},e.prototype._get=function(t,r){return Ze(this,void 0,void 0,function(){var n,i,o,s;return Ye(this,function(a){switch(a.label){case 0:return typeof t=="string"?(i=t,n=this.db.transaction(i,"readonly").store.index("byId")):(o=t,n=o.index("byId")),[4,n.get(r)];case 1:return s=a.sent(),[2,s]}})})},e.prototype.save=function(t,r){var n,i;return Ze(this,void 0,void 0,function(){var o,s,a,c,u,l,f,h,v,g,w,y,b,_,T,A,x,R,k,U,B,N,F,L,I,P,M,j=this;return Ye(this,function(K){switch(K.label){case 0:return[4,this.checkPrivate()];case 1:return K.sent(),o=Object.getPrototypeOf(t).constructor,s=this.getStorenameForModel(o),a=vu(o.name,t,this.schema.namespaces[this.namespaceResolver(o)],this.modelInstanceCreator,this.getModelConstructorByModelName),c=this.namespaceResolver(o),u=new Set,l=Object.values(a).map(function(G){var q=G.modelName,z=G.item,Y=G.instance,X=j.getStorename(c,q);return u.add(X),{storeName:X,item:z,instance:Y}}),f=this.db.transaction(nl([s],Array.from(u.values())),"readwrite"),h=f.objectStore(s),[4,this._get(h,t.id)];case 2:if(v=K.sent(),r&&v&&(g=Ne.getPredicates(r),w=g.predicates,y=g.type,b=nn(v,y,w),!b))throw _="Conditional update failed",Ui.error(_,{model:v,condition:w}),new Error(_);T=[],K.label=3;case 3:K.trys.push([3,11,12,17]),A=$r(l),K.label=4;case 4:return[4,A.next()];case 5:return x=K.sent(),!x.done?(R=x.value,k=R.storeName,U=R.item,B=R.instance,N=f.objectStore(k),F=U.id,[4,this._get(N,F)]):[3,10];case 6:return L=K.sent(),I=L===void 0?Le.INSERT:Le.UPDATE,F===t.id||I===Le.INSERT?[4,N.index("byId").getKey(U.id)]:[3,9];case 7:return P=K.sent(),[4,N.put(U,P)];case 8:K.sent(),T.push([B,I]),K.label=9;case 9:return[3,4];case 10:return[3,17];case 11:return M=K.sent(),n={error:M},[3,17];case 12:return K.trys.push([12,,15,16]),x&&!x.done&&(i=A.return)?[4,i.call(A)]:[3,14];case 13:K.sent(),K.label=14;case 14:return[3,16];case 15:if(n)throw n.error;return[7];case 16:return[7];case 17:return[4,f.done];case 18:return K.sent(),[2,T]}})})},e.prototype.load=function(t,r,n){var i,o,s,a,c,u,l,f,h,v;return Ze(this,void 0,void 0,function(){var g,w,y,b,_,T,A,x,R,k,U,B,N,F,L,M,I,j,P,M,j,K,G,q=this;return Ye(this,function(z){switch(z.label){case 0:if(g=this.schema.namespaces[t],w=g.relationships[r].relationTypes,y=w.map(function(Y){var X=Y.modelName;return q.getStorename(t,X)}),b=this.getModelConstructorByModelName(t,r),y.length===0)return[2,n.map(function(Y){return q.modelInstanceCreator(b,Y)})];_=this.db.transaction(nl(y),"readonly"),z.label=1;case 1:z.trys.push([1,34,35,40]),T=$r(w),z.label=2;case 2:return[4,T.next()];case 3:if(A=z.sent(),!!A.done)return[3,33];switch(x=A.value,R=x.fieldName,k=x.modelName,U=x.targetName,B=this.getStorename(t,k),N=_.objectStore(B),F=this.getModelConstructorByModelName(t,k),L=x.relationType,L){case"HAS_ONE":return[3,4];case"BELONGS_TO":return[3,17];case"HAS_MANY":return[3,30]}return[3,31];case 4:z.trys.push([4,10,11,16]),i=$r(n),z.label=5;case 5:return[4,i.next()];case 6:return o=z.sent(),!o.done?(M=o.value,I=M[U]?U:R,M[I]?[4,this._get(N,M[I])]:[3,9]):[3,9];case 7:j=z.sent(),M[R]=j&&this.modelInstanceCreator(F,j),z.label=8;case 8:return[3,5];case 9:return[3,16];case 10:return P=z.sent(),l={error:P},[3,16];case 11:return z.trys.push([11,,14,15]),o&&!o.done&&(f=i.return)?[4,f.call(i)]:[3,13];case 12:z.sent(),z.label=13;case 13:return[3,15];case 14:if(l)throw l.error;return[7];case 15:return[7];case 16:return[3,32];case 17:z.trys.push([17,23,24,29]),s=$r(n),z.label=18;case 18:return[4,s.next()];case 19:return a=z.sent(),!a.done?(M=a.value,M[U]?[4,this._get(N,M[U])]:[3,21]):[3,22];case 20:j=z.sent(),M[R]=j&&this.modelInstanceCreator(F,j),delete M[U],z.label=21;case 21:return[3,18];case 22:return[3,29];case 23:return K=z.sent(),h={error:K},[3,29];case 24:return z.trys.push([24,,27,28]),a&&!a.done&&(v=s.return)?[4,v.call(s)]:[3,26];case 25:z.sent(),z.label=26;case 26:return[3,28];case 27:if(h)throw h.error;return[7];case 28:return[7];case 29:return[3,32];case 30:return[3,32];case 31:return It(x.relationType),[3,32];case 32:return[3,2];case 33:return[3,40];case 34:return G=z.sent(),c={error:G},[3,40];case 35:return z.trys.push([35,,38,39]),A&&!A.done&&(u=T.return)?[4,u.call(T)]:[3,37];case 36:z.sent(),z.label=37;case 37:return[3,39];case 38:if(c)throw c.error;return[7];case 39:return[7];case 40:return[2,n.map(function(Y){return q.modelInstanceCreator(b,Y)})]}})})},e.prototype.query=function(t,r,n){return Ze(this,void 0,void 0,function(){var i,o,s,a,c,u,l,f=this;return Ye(this,function(h){switch(h.label){case 0:return[4,this.checkPrivate()];case 1:return h.sent(),i=this.getStorenameForModel(t),o=this.namespaceResolver(t),s=r&&Ne.getPredicates(r),a=s&&this.idFromPredicate(s),c=n&&n.sort,u=n&&n.limit,[4,function(){return Ze(f,void 0,void 0,function(){var v,g,w;return Ye(this,function(y){switch(y.label){case 0:return a?[4,this.getById(i,a)]:[3,2];case 1:return v=y.sent(),[2,v?[v]:[]];case 2:return s?[4,this.filterOnPredicate(i,s)]:[3,4];case 3:return g=y.sent(),[2,this.inMemoryPagination(g,n)];case 4:return c?[4,this.getAll(i)]:[3,6];case 5:return w=y.sent(),[2,this.inMemoryPagination(w,n)];case 6:return u?[2,this.enginePagination(i,n)]:[2,this.getAll(i)]}})})}()];case 2:return l=h.sent(),[4,this.load(o,t.name,l)];case 3:return[2,h.sent()]}})})},e.prototype.getById=function(t,r){return Ze(this,void 0,void 0,function(){var n;return Ye(this,function(i){switch(i.label){case 0:return[4,this._get(t,r)];case 1:return n=i.sent(),[2,n]}})})},e.prototype.getAll=function(t){return Ze(this,void 0,void 0,function(){return Ye(this,function(r){switch(r.label){case 0:return[4,this.db.getAll(t)];case 1:return[2,r.sent()]}})})},e.prototype.idFromPredicate=function(t){var r=t.predicates,n=r.length===1&&r.find(function(i){return Ds(i)&&i.field==="id"&&i.operator==="eq"});return n&&n.operand},e.prototype.filterOnPredicate=function(t,r){return Ze(this,void 0,void 0,function(){var n,i,o,s;return Ye(this,function(a){switch(a.label){case 0:return n=r.predicates,i=r.type,[4,this.getAll(t)];case 1:return o=a.sent(),s=n?o.filter(function(c){return nn(c,i,n)}):o,[2,s]}})})},e.prototype.inMemoryPagination=function(t,r){if(r&&t.length>1){if(r.sort){var n=ns.getPredicates(r.sort);if(n.length){var i=rd(n);t.sort(i)}}var o=r.page,s=o===void 0?0:o,a=r.limit,c=a===void 0?0:a,u=Math.max(0,s*c)||0,l=c>0?u+c:t.length;return t.slice(u,l)}return t},e.prototype.enginePagination=function(t,r){return Ze(this,void 0,void 0,function(){var n,i,o,s,a,c,u,l,f;return Ye(this,function(h){switch(h.label){case 0:return r?(i=r.page,o=i===void 0?0:i,s=r.limit,a=s===void 0?0:s,c=Math.max(0,o*a)||0,[4,this.db.transaction(t).objectStore(t).openCursor()]):[3,7];case 1:return u=h.sent(),u&&c>0?[4,u.advance(c)]:[3,3];case 2:h.sent(),h.label=3;case 3:l=[],f=typeof a=="number"&&a>0,h.label=4;case 4:return u&&u.value?(l.push(u.value),f&&l.length===a?[3,6]:[4,u.continue()]):[3,6];case 5:return u=h.sent(),[3,4];case 6:return n=l,[3,9];case 7:return[4,this.db.getAll(t)];case 8:n=h.sent(),h.label=9;case 9:return[2,n]}})})},e.prototype.queryOne=function(t,r){return r===void 0&&(r=un.FIRST),Ze(this,void 0,void 0,function(){var n,i,o;return Ye(this,function(s){switch(s.label){case 0:return[4,this.checkPrivate()];case 1:return s.sent(),n=this.getStorenameForModel(t),[4,this.db.transaction([n],"readonly").objectStore(n).openCursor(void 0,r===un.FIRST?"next":"prev")];case 2:return i=s.sent(),o=i?i.value:void 0,[2,o&&this.modelInstanceCreator(t,o)]}})})},e.prototype.delete=function(t,r){return Ze(this,void 0,void 0,function(){var n,s,a,c,i,b,_,_,o,s,a,c,u,l,f,y,h,v,g,w,y,b,b,_;return Ye(this,function(T){switch(T.label){case 0:return[4,this.checkPrivate()];case 1:return T.sent(),n=[],vo(t)?(s=t,a=this.namespaceResolver(s),c=this.getStorenameForModel(s),[4,this.query(s,r)]):[3,9];case 2:return i=T.sent(),b=this.schema.namespaces[a].relationships[s.name].relationTypes,r===void 0?[3,5]:[4,this.deleteTraverse(b,i,s.name,a,n)];case 3:return T.sent(),[4,this.deleteItem(n)];case 4:return T.sent(),_=n.reduce(function(A,x){var R=x.items;return A.concat(R)},[]),[2,[i,_]];case 5:return[4,this.deleteTraverse(b,i,s.name,a,n)];case 6:return T.sent(),[4,this.db.transaction([c],"readwrite").objectStore(c).clear()];case 7:return T.sent(),_=n.reduce(function(A,x){var R=x.items;return A.concat(R)},[]),[2,[i,_]];case 8:return[3,17];case 9:return o=t,s=Object.getPrototypeOf(o).constructor,a=this.namespaceResolver(s),c=this.getStorenameForModel(s),r?(u=this.db.transaction([c],"readwrite"),l=u.objectStore(c),[4,this._get(l,o.id)]):[3,13];case 10:if(f=T.sent(),f===void 0)return y="Model instance not found in storage",Ui.warn(y,{model:o}),[2,[[o],[]]];if(h=Ne.getPredicates(r),v=h.predicates,g=h.type,w=nn(f,g,v),!w)throw y="Conditional update failed",Ui.error(y,{model:f,condition:v}),new Error(y);return[4,u.done];case 11:return T.sent(),b=this.schema.namespaces[a].relationships[s.name].relationTypes,[4,this.deleteTraverse(b,[o],s.name,a,n)];case 12:return T.sent(),[3,15];case 13:return b=this.schema.namespaces[a].relationships[s.name].relationTypes,[4,this.deleteTraverse(b,[o],s.name,a,n)];case 14:T.sent(),T.label=15;case 15:return[4,this.deleteItem(n)];case 16:return T.sent(),_=n.reduce(function(A,x){var R=x.items;return A.concat(R)},[]),[2,[[o],_]];case 17:return[2]}})})},e.prototype.deleteItem=function(t){var r,n,i,o,s,a;return Ze(this,void 0,void 0,function(){var c,u,l,f,h,v,g,w,y,b,_,T;return Ye(this,function(A){switch(A.label){case 0:c=t.map(function(x){var R=x.storeName;return R}),u=this.db.transaction(nl(c),"readwrite"),A.label=1;case 1:A.trys.push([1,22,23,28]),r=$r(t),A.label=2;case 2:return[4,r.next()];case 3:if(n=A.sent(),!!n.done)return[3,21];l=n.value,f=l.storeName,h=l.items,v=u.objectStore(f),A.label=4;case 4:A.trys.push([4,14,15,20]),g=$r(h),A.label=5;case 5:return[4,g.next()];case 6:return w=A.sent(),!w.done?(y=w.value,y?(b=void 0,typeof y!="object"?[3,8]:[4,v.index("byId").getKey(y.id)]):[3,12]):[3,13];case 7:return b=A.sent(),[3,10];case 8:return[4,v.index("byId").getKey(y.toString())];case 9:b=A.sent(),A.label=10;case 10:return b===void 0?[3,12]:[4,v.delete(b)];case 11:A.sent(),A.label=12;case 12:return[3,5];case 13:return[3,20];case 14:return _=A.sent(),s={error:_},[3,20];case 15:return A.trys.push([15,,18,19]),w&&!w.done&&(a=g.return)?[4,a.call(g)]:[3,17];case 16:A.sent(),A.label=17;case 17:return[3,19];case 18:if(s)throw s.error;return[7];case 19:return[7];case 20:return[3,2];case 21:return[3,28];case 22:return T=A.sent(),i={error:T},[3,28];case 23:return A.trys.push([23,,26,27]),n&&!n.done&&(o=r.return)?[4,o.call(r)]:[3,25];case 24:A.sent(),A.label=25;case 25:return[3,27];case 26:if(i)throw i.error;return[7];case 27:return[7];case 28:return[2]}})})},e.prototype.deleteTraverse=function(t,r,n,i,o){var s,a,c,u,l,f,h,v,g,w,y,b;return Ze(this,void 0,void 0,function(){var _,T,A,x,R,k,U,P,B,N,F,L,I,P,M,j,K,G=this;return Ye(this,function(q){switch(q.label){case 0:q.trys.push([0,35,36,41]),s=$r(t),q.label=1;case 1:return[4,s.next()];case 2:if(a=q.sent(),!!a.done)return[3,34];switch(_=a.value,T=_.relationType,A=_.modelName,x=_.targetName,R=this.getStorename(i,A),k=Jb(this.schema.namespaces[i].relationships[A].relationTypes,n)||Qb(this.schema.namespaces[i].relationships[A].indexes,_.associatedWith),U=T,U){case"HAS_ONE":return[3,3];case"HAS_MANY":return[3,17];case"BELONGS_TO":return[3,31]}return[3,32];case 3:q.trys.push([3,10,11,16]),c=$r(r),q.label=4;case 4:return[4,c.next()];case 5:return u=q.sent(),!u.done?(P=u.value,B=k||"byId",N=x in P,F=N?P[x]:P.id,F?[4,this.db.transaction(R,"readwrite").objectStore(R).index(B).get(F)]:[3,9]):[3,9];case 6:return L=q.sent(),[4,this.deleteTraverse(this.schema.namespaces[i].relationships[A].relationTypes,L?[L]:[],A,i,o)];case 7:q.sent(),q.label=8;case 8:return[3,4];case 9:return[3,16];case 10:return I=q.sent(),g={error:I},[3,16];case 11:return q.trys.push([11,,14,15]),u&&!u.done&&(w=c.return)?[4,w.call(c)]:[3,13];case 12:q.sent(),q.label=13;case 13:return[3,15];case 14:if(g)throw g.error;return[7];case 15:return[7];case 16:return[3,33];case 17:q.trys.push([17,24,25,30]),l=$r(r),q.label=18;case 18:return[4,l.next()];case 19:return f=q.sent(),!f.done?(P=f.value,[4,this.db.transaction(R,"readwrite").objectStore(R).index(k).getAll(P.id)]):[3,23];case 20:return M=q.sent(),[4,this.deleteTraverse(this.schema.namespaces[i].relationships[A].relationTypes,M,A,i,o)];case 21:q.sent(),q.label=22;case 22:return[3,18];case 23:return[3,30];case 24:return j=q.sent(),y={error:j},[3,30];case 25:return q.trys.push([25,,28,29]),f&&!f.done&&(b=l.return)?[4,b.call(l)]:[3,27];case 26:q.sent(),q.label=27;case 27:return[3,29];case 28:if(y)throw y.error;return[7];case 29:return[7];case 30:return[3,33];case 31:return[3,33];case 32:return It(T),[3,33];case 33:return[3,1];case 34:return[3,41];case 35:return K=q.sent(),h={error:K},[3,41];case 36:return q.trys.push([36,,39,40]),a&&!a.done&&(v=s.return)?[4,v.call(s)]:[3,38];case 37:q.sent(),q.label=38;case 38:return[3,40];case 39:if(h)throw h.error;return[7];case 40:return[7];case 41:return o.push({storeName:this.getStorename(i,n),items:r.map(function(z){return G.modelInstanceCreator(G.getModelConstructorByModelName(i,n),z)})}),[2]}})})},e.prototype.clear=function(){return Ze(this,void 0,void 0,function(){return Ye(this,function(t){switch(t.label){case 0:return[4,this.checkPrivate()];case 1:return t.sent(),this.db.close(),[4,rk(this.dbName)];case 2:return t.sent(),this.db=void 0,this.initPromise=void 0,[2]}})})},e.prototype.batchSave=function(t,r){return Ze(this,void 0,void 0,function(){var n,i,o,s,a,c,u,l,f,h,v,g;return Ye(this,function(w){switch(w.label){case 0:return r.length===0?[2,[]]:[4,this.checkPrivate()];case 1:w.sent(),n=[],i=this.getStorenameForModel(t),o=this.db.transaction(i,"readwrite"),s=o.store,a=function(y){var b,_,T,A,x,R;return Ye(this,function(k){switch(k.label){case 0:return b=vu(t.name,c.modelInstanceCreator(t,y),c.schema.namespaces[c.namespaceResolver(t)],c.modelInstanceCreator,c.getModelConstructorByModelName),_=y.id,T=y._deleted,A=s.index("byId"),[4,A.getKey(_)];case 1:return x=k.sent(),T?[3,3]:(R=b.find(function(U){var B=U.instance;return B.id===_}).instance,n.push([R,x?Le.UPDATE:Le.INSERT]),[4,s.put(R,x)]);case 2:return k.sent(),[3,5];case 3:return n.push([y,Le.DELETE]),x?[4,s.delete(x)]:[3,5];case 4:k.sent(),k.label=5;case 5:return[2]}})},c=this,w.label=2;case 2:w.trys.push([2,7,8,9]),u=yu(r),l=u.next(),w.label=3;case 3:return l.done?[3,6]:(f=l.value,[5,a(f)]);case 4:w.sent(),w.label=5;case 5:return l=u.next(),[3,3];case 6:return[3,9];case 7:return h=w.sent(),v={error:h},[3,9];case 8:try{l&&!l.done&&(g=u.return)&&g.call(u)}finally{if(v)throw v.error}return[7];case 9:return[4,o.done];case 10:return w.sent(),[2,n]}})})},e}(),ak=new sk,Yn=globalThis&&globalThis.__awaiter||function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(f){s(f)}}function c(l){try{u(n.throw(l))}catch(f){s(f)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(e,t||[])).next())})},Jn=globalThis&&globalThis.__generator||function(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(l){return c([u,l])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){r.label=u[1];break}if(u[0]===6&&r.label<o[1]){r.label=o[1],o=u;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(u);break}o[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(l){u=[6,l],i=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},uk=globalThis&&globalThis.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return o},ck=function(){function e(){var t=this;this.db=new Map,this.getAllKeys=function(){return Yn(t,void 0,void 0,function(){return Jn(this,function(r){return[2,Array.from(this.db.keys())]})})},this.multiGet=function(r){return Yn(t,void 0,void 0,function(){var n=this;return Jn(this,function(i){return[2,r.reduce(function(o,s){return o.push([s,n.db.get(s)]),o},[])]})})},this.multiRemove=function(r,n){return Yn(t,void 0,void 0,function(){var i=this;return Jn(this,function(o){return r.forEach(function(s){return i.db.delete(s)}),n(),[2]})})},this.multiSet=function(r,n){return Yn(t,void 0,void 0,function(){var i=this;return Jn(this,function(o){return r.forEach(function(s){var a=uk(s,2),c=a[0],u=a[1];i.setItem(c,u)}),n(),[2]})})},this.setItem=function(r,n){return Yn(t,void 0,void 0,function(){return Jn(this,function(i){return[2,this.db.set(r,n)]})})},this.removeItem=function(r){return Yn(t,void 0,void 0,function(){return Jn(this,function(n){return[2,this.db.delete(r)]})})},this.getItem=function(r){return Yn(t,void 0,void 0,function(){return Jn(this,function(n){return[2,this.db.get(r)]})})}}return e}();function lk(){return new ck}var pn=globalThis&&globalThis.__awaiter||function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(f){s(f)}}function c(l){try{u(n.throw(l))}catch(f){s(f)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(e,t||[])).next())})},vn=globalThis&&globalThis.__generator||function(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(l){return c([u,l])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){r.label=u[1];break}if(u[0]===6&&r.label<o[1]){r.label=o[1],o=u;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(u);break}o[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(l){u=[6,l],i=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},Fi=globalThis&&globalThis.__values||function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Kr=globalThis&&globalThis.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return o},il="@AmplifyDatastore",fk="Collection",em="Data",ol=new Map,hk=function(){function e(){this._collectionInMemoryIndex=new Map,this.storage=lk()}return e.prototype.getCollectionIndex=function(t){return this._collectionInMemoryIndex.has(t)||this._collectionInMemoryIndex.set(t,new Map),this._collectionInMemoryIndex.get(t)},e.prototype.getMonotonicFactory=function(t){return ol.has(t)||ol.set(t,Zb()),ol.get(t)},e.prototype.init=function(){return pn(this,void 0,void 0,function(){var t,r,n,i,o,s,a,c,u,l,f,h,v,g,w,y,b,_,T,A;return vn(this,function(x){switch(x.label){case 0:return this._collectionInMemoryIndex.clear(),[4,this.storage.getAllKeys()];case 1:t=x.sent(),r=[],x.label=2;case 2:x.trys.push([2,12,13,14]),n=Fi(t),i=n.next(),x.label=3;case 3:return i.done?[3,11]:(o=i.value,s=Kr(o.split("::"),5),a=s[0],c=s[1],u=s[2],l=s[3],f=s[4],a!==il?[3,10]:u!==em?[3,9]:(h=void 0,f!==void 0?[3,7]:(v=l,g=this.getMonotonicFactory(c)(),w=this.getLegacyKeyForItem(c,v),y=this.getKeyForItem(c,v,g),[4,this.storage.getItem(w)])));case 4:return b=x.sent(),[4,this.storage.setItem(y,b)];case 5:return x.sent(),[4,this.storage.removeItem(w)];case 6:return x.sent(),h=g,[3,8];case 7:h=l,x.label=8;case 8:return this.getCollectionIndex(c).set(f,h),[3,10];case 9:u===fk&&r.push(o),x.label=10;case 10:return i=n.next(),[3,3];case 11:return[3,14];case 12:return _=x.sent(),T={error:_},[3,14];case 13:try{i&&!i.done&&(A=n.return)&&A.call(n)}finally{if(T)throw T.error}return[7];case 14:return r.length>0?[4,this.storage.multiRemove(r)]:[3,16];case 15:x.sent(),x.label=16;case 16:return[2]}})})},e.prototype.save=function(t,r){return pn(this,void 0,void 0,function(){var n,i;return vn(this,function(o){switch(o.label){case 0:return n=this.getCollectionIndex(r).get(t.id)||this.getMonotonicFactory(r)(),i=this.getKeyForItem(r,t.id,n),this.getCollectionIndex(r).set(t.id,n),[4,this.storage.setItem(i,JSON.stringify(t))];case 1:return o.sent(),[2]}})})},e.prototype.batchSave=function(t,r){return pn(this,void 0,void 0,function(){var n,i,o,s,a,c,u,l,f,h,v,g,T,w,y,b,_,T,A,x,R,k,U=this;return vn(this,function(B){switch(B.label){case 0:if(r.length===0)return[2,[]];n=[],i=this.getCollectionIndex(t),o=new Set,s=new Set,a=[],c={};try{for(u=Fi(r),l=u.next();!l.done;l=u.next())f=l.value,h=f.id,v=f._deleted,g=i.get(h)||this.getMonotonicFactory(t)(),T=this.getKeyForItem(t,h,g),a.push(T),c[T]={ulid:g,model:f},v?o.add(T):s.add(T)}catch(N){A={error:N}}finally{try{l&&!l.done&&(x=u.return)&&x.call(u)}finally{if(A)throw A.error}}return[4,this.storage.multiGet(a)];case 1:return w=B.sent(),y=w.filter(function(N){var F=Kr(N,2),L=F[1];return!!L}).reduce(function(N,F){var L=Kr(F,1),I=L[0];return N.add(I)},new Set),[4,new Promise(function(N,F){if(o.size===0){N();return}var L=Array.from(o);L.forEach(function(I){return i.delete(c[I].model.id)}),U.storage.multiRemove(L,function(I){I&&I.length>0?F(I):N()})})];case 2:return B.sent(),[4,new Promise(function(N,F){if(s.size===0){N();return}var L=Array.from(s).map(function(I){return[I,JSON.stringify(c[I].model)]});s.forEach(function(I){var P=c[I],M=P.model.id,j=P.ulid;i.set(M,j)}),U.storage.multiSet(L,function(I){I&&I.length>0?F(I):N()})})];case 3:B.sent();try{for(b=Fi(a),_=b.next();!_.done;_=b.next())T=_.value,o.has(T)&&y.has(T)?n.push([c[T].model,Le.DELETE]):s.has(T)&&n.push([c[T].model,y.has(T)?Le.UPDATE:Le.INSERT])}catch(N){R={error:N}}finally{try{_&&!_.done&&(k=b.return)&&k.call(b)}finally{if(R)throw R.error}}return[2,n]}})})},e.prototype.get=function(t,r){return pn(this,void 0,void 0,function(){var n,i,o,s;return vn(this,function(a){switch(a.label){case 0:return n=this.getCollectionIndex(r).get(t),i=this.getKeyForItem(r,t,n),[4,this.storage.getItem(i)];case 1:return o=a.sent(),s=o&&JSON.parse(o),[2,s]}})})},e.prototype.getOne=function(t,r){return pn(this,void 0,void 0,function(){var n,i,o,s,a,c,u,l;return vn(this,function(f){switch(f.label){case 0:return n=this.getCollectionIndex(r),i=Kr(t===un.FIRST?function(){var h,v,g,w,y;try{for(var b=Fi(n),_=b.next();!_.done;_=b.next()){g=Kr(_.value,2),w=g[0],y=g[1];break}}catch(T){h={error:T}}finally{try{_&&!_.done&&(v=b.return)&&v.call(b)}finally{if(h)throw h.error}}return[w,y]}():function(){var h,v,g,w,y;try{for(var b=Fi(n),_=b.next();!_.done;_=b.next())g=Kr(_.value,2),w=g[0],y=g[1]}catch(T){h={error:T}}finally{try{_&&!_.done&&(v=b.return)&&v.call(b)}finally{if(h)throw h.error}}return[w,y]}(),2),o=i[0],s=i[1],a=this.getKeyForItem(r,o,s),u=a,u?[4,this.storage.getItem(a)]:[3,2];case 1:u=f.sent(),f.label=2;case 2:return c=u,l=c&&JSON.parse(c)||void 0,[2,l]}})})},e.prototype.getAll=function(t,r){return pn(this,void 0,void 0,function(){var n,i,o,s,a,c,u,l,f,h,v,g,w,y,b,_,T,A,x;return vn(this,function(R){switch(R.label){case 0:n=this.getCollectionIndex(t),i=r||{},o=i.page,s=o===void 0?0:o,a=i.limit,c=a===void 0?0:a,u=Math.max(0,s*c)||0,l=c>0?u+c:void 0,f=[],h=0;try{for(v=Fi(n),g=v.next();!g.done&&(w=Kr(g.value,2),y=w[0],b=w[1],h++,!(!(h<=u)&&(f.push(this.getKeyForItem(t,y,b)),h===l)));g=v.next());}catch(k){A={error:k}}finally{try{g&&!g.done&&(x=v.return)&&x.call(v)}finally{if(A)throw A.error}}return[4,this.storage.multiGet(f)];case 1:return _=R.sent(),T=_.filter(function(k){var U=Kr(k,2),B=U[1];return B}).map(function(k){var U=Kr(k,2),B=U[1];return JSON.parse(B)}),[2,T]}})})},e.prototype.delete=function(t,r){return pn(this,void 0,void 0,function(){var n,i;return vn(this,function(o){switch(o.label){case 0:return n=this.getCollectionIndex(r).get(t),i=this.getKeyForItem(r,t,n),this.getCollectionIndex(r).delete(t),[4,this.storage.removeItem(i)];case 1:return o.sent(),[2]}})})},e.prototype.clear=function(){return pn(this,void 0,void 0,function(){var t,r;return vn(this,function(n){switch(n.label){case 0:return[4,this.storage.getAllKeys()];case 1:return t=n.sent(),r=t.filter(function(i){return i.startsWith(il)}),[4,this.storage.multiRemove(r)];case 2:return n.sent(),this._collectionInMemoryIndex.clear(),[2]}})})},e.prototype.getKeyForItem=function(t,r,n){return this.getKeyPrefixForStoreItems(t)+"::"+n+"::"+r},e.prototype.getLegacyKeyForItem=function(t,r){return this.getKeyPrefixForStoreItems(t)+"::"+r},e.prototype.getKeyPrefixForStoreItems=function(t){return il+"::"+t+"::"+em},e}(),dk=hk,Pt=globalThis&&globalThis.__awaiter||function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(f){s(f)}}function c(l){try{u(n.throw(l))}catch(f){s(f)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(e,t||[])).next())})},Nt=globalThis&&globalThis.__generator||function(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(l){return c([u,l])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){r.label=u[1];break}if(u[0]===6&&r.label<o[1]){r.label=o[1],o=u;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(u);break}o[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(l){u=[6,l],i=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},Hr=globalThis&&globalThis.__asyncValues||function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof Nf=="function"?Nf(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(o){r[o]=e[o]&&function(s){return new Promise(function(a,c){s=e[o](s),i(a,c,s.done,s.value)})}}function i(o,s,a,c){Promise.resolve(c).then(function(u){o({value:u,done:a})},s)}},Nf=globalThis&&globalThis.__values||function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},sl=new Ae("DataStore"),pk=function(){function e(){}return e.prototype.getStorenameForModel=function(t){var r=this.namespaceResolver(t),n=t.name;return this.getStorename(r,n)},e.prototype.getStorename=function(t,r){var n=t+"_"+r;return n},e.prototype.setUp=function(t,r,n,i){return Pt(this,void 0,void 0,function(){var o,s=this;return Nt(this,function(a){switch(a.label){case 0:return this.initPromise?[3,1]:(this.initPromise=new Promise(function(c,u){s.resolve=c,s.reject=u}),[3,3]);case 1:return[4,this.initPromise];case 2:return a.sent(),[2];case 3:this.schema=t,this.namespaceResolver=r,this.modelInstanceCreator=n,this.getModelConstructorByModelName=i,a.label=4;case 4:return a.trys.push([4,7,,8]),this.db?[3,6]:(this.db=new dk,[4,this.db.init()]);case 5:a.sent(),this.resolve(),a.label=6;case 6:return[3,8];case 7:return o=a.sent(),this.reject(o),[3,8];case 8:return[2]}})})},e.prototype.save=function(t,r){var n,i;return Pt(this,void 0,void 0,function(){var o,s,a,c,u,l,f,h,v,g,w,y,b,_,T,A,x,R,k,U,B,N,F,L=this;return Nt(this,function(I){switch(I.label){case 0:return o=Object.getPrototypeOf(t).constructor,s=this.getStorenameForModel(o),a=vu(o.name,t,this.schema.namespaces[this.namespaceResolver(o)],this.modelInstanceCreator,this.getModelConstructorByModelName),c=this.namespaceResolver(o),u=new Set,l=Object.values(a).map(function(P){var M=P.modelName,j=P.item,K=P.instance,G=L.getStorename(c,M);return u.add(G),{storeName:G,item:j,instance:K}}),[4,this.db.get(t.id,s)];case 1:if(f=I.sent(),r&&f&&(h=Ne.getPredicates(r),v=h.predicates,g=h.type,w=nn(f,g,v),!w))throw y="Conditional update failed",sl.error(y,{model:f,condition:v}),new Error(y);b=[],I.label=2;case 2:I.trys.push([2,9,10,15]),_=Hr(l),I.label=3;case 3:return[4,_.next()];case 4:return T=I.sent(),!T.done?(A=T.value,x=A.storeName,R=A.item,k=A.instance,U=R.id,[4,this.db.get(U,x)]):[3,8];case 5:return B=I.sent(),N=B?Le.UPDATE:Le.INSERT,U===t.id||N===Le.INSERT?[4,this.db.save(R,x)]:[3,7];case 6:I.sent(),b.push([k,N]),I.label=7;case 7:return[3,3];case 8:return[3,15];case 9:return F=I.sent(),n={error:F},[3,15];case 10:return I.trys.push([10,,13,14]),T&&!T.done&&(i=_.return)?[4,i.call(_)]:[3,12];case 11:I.sent(),I.label=12;case 12:return[3,14];case 13:if(n)throw n.error;return[7];case 14:return[7];case 15:return[2,b]}})})},e.prototype.load=function(t,r,n){var i,o,s,a,c,u,l,f,h,v;return Pt(this,void 0,void 0,function(){var g,w,y,b,_,T,A,x,R,k,U,B,N,F,P,L,M,I,P,M,j,K,G=this;return Nt(this,function(q){switch(q.label){case 0:if(g=this.schema.namespaces[t],w=g.relationships[r].relationTypes,y=w.map(function(z){var Y=z.modelName;return G.getStorename(t,Y)}),b=this.getModelConstructorByModelName(t,r),y.length===0)return[2,n.map(function(z){return G.modelInstanceCreator(b,z)})];q.label=1;case 1:q.trys.push([1,34,35,40]),_=Hr(w),q.label=2;case 2:return[4,_.next()];case 3:if(T=q.sent(),!!T.done)return[3,33];switch(A=T.value,x=A.fieldName,R=A.modelName,k=A.targetName,U=A.relationType,B=this.getStorename(t,R),N=this.getModelConstructorByModelName(t,R),F=U,F){case"HAS_ONE":return[3,4];case"BELONGS_TO":return[3,17];case"HAS_MANY":return[3,30]}return[3,31];case 4:q.trys.push([4,10,11,16]),i=Hr(n),q.label=5;case 5:return[4,i.next()];case 6:return o=q.sent(),!o.done?(P=o.value,L=P[k]?k:x,P[L]?[4,this.db.get(P[L],B)]:[3,9]):[3,9];case 7:M=q.sent(),P[x]=M&&this.modelInstanceCreator(N,M),q.label=8;case 8:return[3,5];case 9:return[3,16];case 10:return I=q.sent(),l={error:I},[3,16];case 11:return q.trys.push([11,,14,15]),o&&!o.done&&(f=i.return)?[4,f.call(i)]:[3,13];case 12:q.sent(),q.label=13;case 13:return[3,15];case 14:if(l)throw l.error;return[7];case 15:return[7];case 16:return[3,32];case 17:q.trys.push([17,23,24,29]),s=Hr(n),q.label=18;case 18:return[4,s.next()];case 19:return a=q.sent(),!a.done?(P=a.value,P[k]?[4,this.db.get(P[k],B)]:[3,21]):[3,22];case 20:M=q.sent(),P[x]=M&&this.modelInstanceCreator(N,M),delete P[k],q.label=21;case 21:return[3,18];case 22:return[3,29];case 23:return j=q.sent(),h={error:j},[3,29];case 24:return q.trys.push([24,,27,28]),a&&!a.done&&(v=s.return)?[4,v.call(s)]:[3,26];case 25:q.sent(),q.label=26;case 26:return[3,28];case 27:if(h)throw h.error;return[7];case 28:return[7];case 29:return[3,32];case 30:return[3,32];case 31:return It(U),[3,32];case 32:return[3,2];case 33:return[3,40];case 34:return K=q.sent(),c={error:K},[3,40];case 35:return q.trys.push([35,,38,39]),T&&!T.done&&(u=_.return)?[4,u.call(_)]:[3,37];case 36:q.sent(),q.label=37;case 37:return[3,39];case 38:if(c)throw c.error;return[7];case 39:return[7];case 40:return[2,n.map(function(z){return G.modelInstanceCreator(b,z)})]}})})},e.prototype.query=function(t,r,n){return Pt(this,void 0,void 0,function(){var i,o,s,a,c,u,l,f=this;return Nt(this,function(h){switch(h.label){case 0:return i=this.getStorenameForModel(t),o=this.namespaceResolver(t),s=r&&Ne.getPredicates(r),a=s&&this.idFromPredicate(s),c=n&&n.sort,u=n&&n.limit,[4,function(){return Pt(f,void 0,void 0,function(){var v,g,w;return Nt(this,function(y){switch(y.label){case 0:return a?[4,this.getById(i,a)]:[3,2];case 1:return v=y.sent(),[2,v?[v]:[]];case 2:return s?[4,this.filterOnPredicate(i,s)]:[3,4];case 3:return g=y.sent(),[2,this.inMemoryPagination(g,n)];case 4:return c||u?[4,this.getAll(i)]:[3,6];case 5:return w=y.sent(),[2,this.inMemoryPagination(w,n)];case 6:return[2,this.getAll(i)]}})})}()];case 1:return l=h.sent(),[4,this.load(o,t.name,l)];case 2:return[2,h.sent()]}})})},e.prototype.getById=function(t,r){return Pt(this,void 0,void 0,function(){var n;return Nt(this,function(i){switch(i.label){case 0:return[4,this.db.get(r,t)];case 1:return n=i.sent(),[2,n]}})})},e.prototype.getAll=function(t){return Pt(this,void 0,void 0,function(){return Nt(this,function(r){switch(r.label){case 0:return[4,this.db.getAll(t)];case 1:return[2,r.sent()]}})})},e.prototype.idFromPredicate=function(t){var r=t.predicates,n=r.length===1&&r.find(function(i){return Ds(i)&&i.field==="id"&&i.operator==="eq"});return n&&n.operand},e.prototype.filterOnPredicate=function(t,r){return Pt(this,void 0,void 0,function(){var n,i,o,s;return Nt(this,function(a){switch(a.label){case 0:return n=r.predicates,i=r.type,[4,this.getAll(t)];case 1:return o=a.sent(),s=n?o.filter(function(c){return nn(c,i,n)}):o,[2,s]}})})},e.prototype.inMemoryPagination=function(t,r){if(r&&t.length>1){if(r.sort){var n=ns.getPredicates(r.sort);if(n.length){var i=rd(n);t.sort(i)}}var o=r.page,s=o===void 0?0:o,a=r.limit,c=a===void 0?0:a,u=Math.max(0,s*c)||0,l=c>0?u+c:t.length;return t.slice(u,l)}return t},e.prototype.queryOne=function(t,r){return r===void 0&&(r=un.FIRST),Pt(this,void 0,void 0,function(){var n,i;return Nt(this,function(o){switch(o.label){case 0:return n=this.getStorenameForModel(t),[4,this.db.getOne(r,n)];case 1:return i=o.sent(),[2,i&&this.modelInstanceCreator(t,i)]}})})},e.prototype.delete=function(t,r){return Pt(this,void 0,void 0,function(){var n,s,a,i,w,y,y,o,s,a,c,u,g,l,f,h,v,g,w,w,y;return Nt(this,function(b){switch(b.label){case 0:return n=[],vo(t)?(s=t,a=this.namespaceResolver(s),[4,this.query(s,r)]):[3,8];case 1:return i=b.sent(),w=this.schema.namespaces[a].relationships[s.name].relationTypes,r===void 0?[3,4]:[4,this.deleteTraverse(w,i,s.name,a,n)];case 2:return b.sent(),[4,this.deleteItem(n)];case 3:return b.sent(),y=n.reduce(function(_,T){var A=T.items;return _.concat(A)},[]),[2,[i,y]];case 4:return[4,this.deleteTraverse(w,i,s.name,a,n)];case 5:return b.sent(),[4,this.deleteItem(n)];case 6:return b.sent(),y=n.reduce(function(_,T){var A=T.items;return _.concat(A)},[]),[2,[i,y]];case 7:return[3,15];case 8:return o=t,s=Object.getPrototypeOf(o).constructor,a=this.namespaceResolver(s),c=this.getStorenameForModel(s),r?[4,this.db.get(o.id,c)]:[3,11];case 9:if(u=b.sent(),u===void 0)return g="Model instance not found in storage",sl.warn(g,{model:o}),[2,[[o],[]]];if(l=Ne.getPredicates(r),f=l.predicates,h=l.type,v=nn(u,h,f),!v)throw g="Conditional update failed",sl.error(g,{model:u,condition:f}),new Error(g);return w=this.schema.namespaces[a].relationships[s.name].relationTypes,[4,this.deleteTraverse(w,[o],s.name,a,n)];case 10:return b.sent(),[3,13];case 11:return w=this.schema.namespaces[a].relationships[s.name].relationTypes,[4,this.deleteTraverse(w,[o],s.name,a,n)];case 12:b.sent(),b.label=13;case 13:return[4,this.deleteItem(n)];case 14:return b.sent(),y=n.reduce(function(_,T){var A=T.items;return _.concat(A)},[]),[2,[[o],y]];case 15:return[2]}})})},e.prototype.deleteItem=function(t){var r,n,i,o,s,a;return Pt(this,void 0,void 0,function(){var c,u,l,f,h,v,g,w,y;return Nt(this,function(b){switch(b.label){case 0:b.trys.push([0,17,18,23]),r=Hr(t),b.label=1;case 1:return[4,r.next()];case 2:if(n=b.sent(),!!n.done)return[3,16];c=n.value,u=c.storeName,l=c.items,b.label=3;case 3:b.trys.push([3,9,10,15]),f=Hr(l),b.label=4;case 4:return[4,f.next()];case 5:return h=b.sent(),!h.done?(v=h.value,v?typeof v!="object"?[3,7]:(g=v.id,[4,this.db.delete(g,u)]):[3,7]):[3,8];case 6:b.sent(),b.label=7;case 7:return[3,4];case 8:return[3,15];case 9:return w=b.sent(),s={error:w},[3,15];case 10:return b.trys.push([10,,13,14]),h&&!h.done&&(a=f.return)?[4,a.call(f)]:[3,12];case 11:b.sent(),b.label=12;case 12:return[3,14];case 13:if(s)throw s.error;return[7];case 14:return[7];case 15:return[3,1];case 16:return[3,23];case 17:return y=b.sent(),i={error:y},[3,23];case 18:return b.trys.push([18,,21,22]),n&&!n.done&&(o=r.return)?[4,o.call(r)]:[3,20];case 19:b.sent(),b.label=20;case 20:return[3,22];case 21:if(i)throw i.error;return[7];case 22:return[7];case 23:return[2]}})})},e.prototype.deleteTraverse=function(t,r,n,i,o){var s,a,c,u,l,f,h,v,g,w,y,b;return Pt(this,void 0,void 0,function(){var _,T,A,x,R,k,U,P,B,N,F,M,L,I,P,M,j,K,G,q=this;return Nt(this,function(z){switch(z.label){case 0:z.trys.push([0,35,36,41]),s=Hr(t),z.label=1;case 1:return[4,s.next()];case 2:if(a=z.sent(),!!a.done)return[3,34];switch(_=a.value,T=_.relationType,A=_.modelName,x=_.targetName,R=this.getStorename(i,A),k=Jb(this.schema.namespaces[i].relationships[A].relationTypes,n)||Qb(this.schema.namespaces[i].relationships[A].indexes,_.associatedWith),U=T,U){case"HAS_ONE":return[3,3];case"HAS_MANY":return[3,17];case"BELONGS_TO":return[3,31]}return[3,32];case 3:z.trys.push([3,10,11,16]),c=Hr(r),z.label=4;case 4:return[4,c.next()];case 5:return u=z.sent(),!u.done?(P=u.value,B=k||"byId",N=x in P,F=N?P[x]:P.id,F?[4,this.db.getAll(R)]:[3,9]):[3,9];case 6:return M=z.sent(),L=M.filter(function(Y){return Y[B]===F}),[4,this.deleteTraverse(this.schema.namespaces[i].relationships[A].relationTypes,L,A,i,o)];case 7:z.sent(),z.label=8;case 8:return[3,4];case 9:return[3,16];case 10:return I=z.sent(),g={error:I},[3,16];case 11:return z.trys.push([11,,14,15]),u&&!u.done&&(w=c.return)?[4,w.call(c)]:[3,13];case 12:z.sent(),z.label=13;case 13:return[3,15];case 14:if(g)throw g.error;return[7];case 15:return[7];case 16:return[3,33];case 17:z.trys.push([17,24,25,30]),l=Hr(r),z.label=18;case 18:return[4,l.next()];case 19:return f=z.sent(),!f.done?(P=f.value,[4,this.db.getAll(R)]):[3,23];case 20:return M=z.sent(),j=M.filter(function(Y){return Y[k]===P.id}),[4,this.deleteTraverse(this.schema.namespaces[i].relationships[A].relationTypes,j,A,i,o)];case 21:z.sent(),z.label=22;case 22:return[3,18];case 23:return[3,30];case 24:return K=z.sent(),y={error:K},[3,30];case 25:return z.trys.push([25,,28,29]),f&&!f.done&&(b=l.return)?[4,b.call(l)]:[3,27];case 26:z.sent(),z.label=27;case 27:return[3,29];case 28:if(y)throw y.error;return[7];case 29:return[7];case 30:return[3,33];case 31:return[3,33];case 32:return It(T),[3,33];case 33:return[3,1];case 34:return[3,41];case 35:return G=z.sent(),h={error:G},[3,41];case 36:return z.trys.push([36,,39,40]),a&&!a.done&&(v=s.return)?[4,v.call(s)]:[3,38];case 37:z.sent(),z.label=38;case 38:return[3,40];case 39:if(h)throw h.error;return[7];case 40:return[7];case 41:return o.push({storeName:this.getStorename(i,n),items:r.map(function(Y){return q.modelInstanceCreator(q.getModelConstructorByModelName(i,n),Y)})}),[2]}})})},e.prototype.clear=function(){return Pt(this,void 0,void 0,function(){return Nt(this,function(t){switch(t.label){case 0:return[4,this.db.clear()];case 1:return t.sent(),this.db=void 0,this.initPromise=void 0,[2]}})})},e.prototype.batchSave=function(t,r){return Pt(this,void 0,void 0,function(){var n,i,o,s,a,c,u,l,f,h,v;return Nt(this,function(g){switch(g.label){case 0:n=t.name,i=this.namespaceResolver(t),o=this.getStorename(i,n),s=[],a=function(w){var y=w.id,b=vu(t.name,c.modelInstanceCreator(t,w),c.schema.namespaces[c.namespaceResolver(t)],c.modelInstanceCreator,c.getModelConstructorByModelName),_=b.find(function(T){var A=T.instance;return A.id===y}).instance;s.push(_)},c=this;try{for(u=Nf(r),l=u.next();!l.done;l=u.next())f=l.value,a(f)}catch(w){h={error:w}}finally{try{l&&!l.done&&(v=u.return)&&v.call(u)}finally{if(h)throw h.error}}return[4,this.db.batchSave(o,s)];case 1:return[2,g.sent()]}})})},e}(),vk=new pk,gk=function(){var e=Lr().isBrowser;return e&&window.indexedDB||mh()&&self.indexedDB?ak:vk},mk=gk,bu=globalThis&&globalThis.__assign||function(){return bu=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},bu.apply(this,arguments)},qt=globalThis&&globalThis.__awaiter||function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(f){s(f)}}function c(l){try{u(n.throw(l))}catch(f){s(f)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(e,t||[])).next())})},$t=globalThis&&globalThis.__generator||function(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(l){return c([u,l])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){r.label=u[1];break}if(u[0]===6&&r.label<o[1]){r.label=o[1],o=u;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(u);break}o[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(l){u=[6,l],i=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},yk=globalThis&&globalThis.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r},la=globalThis&&globalThis.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return o},al=globalThis&&globalThis.__values||function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},bk=new Ae("DataStore"),tm=function(){function e(t,r,n,i,o,s){this.schema=t,this.namespaceResolver=r,this.getModelConstructorByModelName=n,this.modelInstanceCreator=i,this.adapter=o,this.sessionId=s,this.adapter=this.adapter||mk(),this.pushStream=new zM}return e.getNamespace=function(){var t={name:Xb,relationships:{},enums:{},models:{},nonModels:{}};return t},e.prototype.init=function(){return qt(this,void 0,void 0,function(){var t,r;return $t(this,function(n){switch(n.label){case 0:return this.initialized===void 0?[3,2]:[4,this.initialized];case 1:return n.sent(),[2];case 2:return bk.debug("Starting Storage"),this.initialized=new Promise(function(i,o){t=i,r=o}),this.adapter.setUp(this.schema,this.namespaceResolver,this.modelInstanceCreator,this.getModelConstructorByModelName,this.sessionId).then(t,r),[4,this.initialized];case 3:return n.sent(),[2]}})})},e.prototype.save=function(t,r,n,i){return qt(this,void 0,void 0,function(){var o,s=this;return $t(this,function(a){switch(a.label){case 0:return[4,this.init()];case 1:return a.sent(),[4,this.adapter.save(t,r)];case 2:return o=a.sent(),o.forEach(function(c){var u=la(c,2),l=u[0],f=u[1],h=!!n,v;if(f===Le.UPDATE&&!h&&(v=s.getUpdateMutationInput(t,l,i),v===null))return o;var g=v||l,w=Object.getPrototypeOf(l).constructor;s.pushStream.next({model:w,opType:f,element:g,mutator:n,condition:Ne.getPredicates(r,!1)})}),[2,o]}})})},e.prototype.delete=function(t,r,n){return qt(this,void 0,void 0,function(){var i,o,s,a,c=this;return $t(this,function(u){switch(u.label){case 0:return[4,this.init()];case 1:return u.sent(),[4,this.adapter.delete(t,r)];case 2:return a=la.apply(void 0,[u.sent(),2]),o=a[0],i=a[1],s=new Set(o.map(function(l){var f=l.id;return f})),!vo(t)&&!Array.isArray(i)&&(i=[i]),i.forEach(function(l){var f=Object.getPrototypeOf(l).constructor,h;vo(t)||(h=s.has(l.id)?Ne.getPredicates(r,!1):void 0),c.pushStream.next({model:f,opType:Le.DELETE,element:l,mutator:n,condition:h})}),[2,[o,i]]}})})},e.prototype.query=function(t,r,n){return qt(this,void 0,void 0,function(){return $t(this,function(i){switch(i.label){case 0:return[4,this.init()];case 1:return i.sent(),[4,this.adapter.query(t,r,n)];case 2:return[2,i.sent()]}})})},e.prototype.queryOne=function(t,r){return r===void 0&&(r=un.FIRST),qt(this,void 0,void 0,function(){var n;return $t(this,function(i){switch(i.label){case 0:return[4,this.init()];case 1:return i.sent(),[4,this.adapter.queryOne(t,r)];case 2:return n=i.sent(),[2,n]}})})},e.prototype.observe=function(t,r,n){var i=!t,o=Ne.getPredicates(r,!1)||{},s=o.predicates,a=o.type,c=!!s,u=this.pushStream.observable.filter(function(l){var f=l.mutator;return!n||f!==n}).map(function(l){l.mutator;var f=yk(l,["mutator"]);return f});return i||(u=u.filter(function(l){var f=l.model,h=l.element;return t!==f?!1:c?nn(h,a,s):!0})),u},e.prototype.clear=function(t){return t===void 0&&(t=!0),qt(this,void 0,void 0,function(){return $t(this,function(r){switch(r.label){case 0:return this.initialized=void 0,[4,this.adapter.clear()];case 1:return r.sent(),t&&this.pushStream.complete(),[2]}})})},e.prototype.batchSave=function(t,r,n){return qt(this,void 0,void 0,function(){var i,o=this;return $t(this,function(s){switch(s.label){case 0:return[4,this.init()];case 1:return s.sent(),[4,this.adapter.batchSave(t,r)];case 2:return i=s.sent(),i.forEach(function(a){var c=la(a,2),u=c[0],l=c[1];o.pushStream.next({model:t,opType:l,element:u,mutator:n,condition:void 0})}),[2,i]}})})},e.prototype.getUpdateMutationInput=function(t,r,n){var i,o,s=n&&n.length;if(!s)return null;var a=la(n,2),c=a[0],u=a[1],l={},f=c.map(function(N){return N.path&&N.path[0]}),h=Object.getPrototypeOf(t).constructor,v=this.namespaceResolver(h),g=this.schema.namespaces[v].models[h.name].fields,w=this.schema.namespaces[v].keys[h.name],y=w.primaryKey,b=w.compositeKeys,_=b===void 0?[]:b;if(f.forEach(function(N){var F,L,I,P,M,j=gu((M=g[N])===null||M===void 0?void 0:M.association),K=j||N;if(!nd(u[K],r[K])){l[K]=r[K]===void 0?null:r[K];try{for(var G=al(_),q=G.next();!q.done;q=G.next()){var z=q.value;if(z.has(K))try{for(var Y=(I=void 0,al(z)),X=Y.next();!X.done;X=Y.next()){var te=X.value;l[te]=r[te]}}catch(W){I={error:W}}finally{try{X&&!X.done&&(P=Y.return)&&P.call(Y)}finally{if(I)throw I.error}}}}catch(W){F={error:W}}finally{try{q&&!q.done&&(L=G.return)&&L.call(G)}finally{if(F)throw F.error}}}}),y&&y.length)try{for(var T=al(y),A=T.next();!A.done;A=T.next()){var x=A.value;l[x]=r[x]}}catch(N){i={error:N}}finally{try{A&&!A.done&&(o=T.return)&&o.call(T)}finally{if(i)throw i.error}}if(Object.keys(l).length===0)return null;var R=r.id,k=r._version,U=r._lastChangedAt,B=r._deleted;return bu(bu({},l),{id:R,_version:k,_lastChangedAt:U,_deleted:B})},e}(),sw=function(){function e(t,r,n,i,o,s){this.mutex=new pA,this.storage=new tm(t,r,n,i,o,s)}return e.prototype.runExclusive=function(t){return this.mutex.runExclusive(t.bind(this,this.storage))},e.prototype.save=function(t,r,n,i){return qt(this,void 0,void 0,function(){return $t(this,function(o){return[2,this.runExclusive(function(s){return s.save(t,r,n,i)})]})})},e.prototype.delete=function(t,r,n){return qt(this,void 0,void 0,function(){return $t(this,function(i){return[2,this.runExclusive(function(o){if(vo(t)){var s=t;return o.delete(s,r,n)}else{var a=t;return o.delete(a,r,n)}})]})})},e.prototype.query=function(t,r,n){return qt(this,void 0,void 0,function(){return $t(this,function(i){return[2,this.runExclusive(function(o){return o.query(t,r,n)})]})})},e.prototype.queryOne=function(t,r){return r===void 0&&(r=un.FIRST),qt(this,void 0,void 0,function(){return $t(this,function(n){return[2,this.runExclusive(function(i){return i.queryOne(t,r)})]})})},e.getNamespace=function(){return tm.getNamespace()},e.prototype.observe=function(t,r,n){return this.storage.observe(t,r,n)},e.prototype.clear=function(){return qt(this,void 0,void 0,function(){return $t(this,function(t){switch(t.label){case 0:return[4,this.storage.clear()];case 1:return t.sent(),[2]}})})},e.prototype.batchSave=function(t,r){return this.storage.batchSave(t,r)},e.prototype.init=function(){return qt(this,void 0,void 0,function(){return $t(this,function(t){return[2,this.storage.init()]})})},e}(),wk=new AA().networkMonitor(),wu=globalThis&&globalThis.__assign||function(){return wu=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},wu.apply(this,arguments)};new Ae("DataStore");var _k=5e3,Sk=function(){function e(){this.connectionStatus={online:!1}}return e.prototype.status=function(){var t=this;if(this.observer)throw new Error("Subscriber already exists");return new st(function(r){return t.observer=r,t.subscription=wk.subscribe(function(n){var i=n.online;t.connectionStatus.online=i;var o=wu({},t.connectionStatus);r.next(o)}),function(){clearTimeout(t.timeout),t.unsubscribe()}})},e.prototype.unsubscribe=function(){this.subscription&&(clearTimeout(this.timeout),this.subscription.unsubscribe())},e.prototype.socketDisconnected=function(){var t=this;this.observer&&typeof this.observer.next=="function"&&(this.observer.next({online:!1}),this.timeout=setTimeout(function(){var r=wu({},t.connectionStatus);t.observer.next(r)},_k))},e}(),Ek=Sk,rm=globalThis&&globalThis.__awaiter||function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(f){s(f)}}function c(l){try{u(n.throw(l))}catch(f){s(f)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(e,t||[])).next())})},nm=globalThis&&globalThis.__generator||function(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(l){return c([u,l])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){r.label=u[1];break}if(u[0]===6&&r.label<o[1]){r.label=o[1],o=u;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(u);break}o[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(l){u=[6,l],i=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},Rf=globalThis&&globalThis.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return o},Ak=globalThis&&globalThis.__values||function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Tk=globalThis&&globalThis.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Rf(arguments[t]));return e},Ik=function(){function e(t,r){this.outbox=t,this.ownSymbol=r}return e.prototype.merge=function(t,r){return rm(this,void 0,void 0,function(){var n,i,o,s,a;return nm(this,function(c){switch(c.label){case 0:return[4,this.outbox.getForModel(t,r)];case 1:return i=c.sent(),o=r._deleted,i.length!==0?[3,5]:o?(n=Le.DELETE,[4,t.delete(r,void 0,this.ownSymbol)]):[3,3];case 2:return c.sent(),[3,5];case 3:return[4,t.save(r,void 0,this.ownSymbol)];case 4:s=Rf.apply(void 0,[c.sent(),1]),a=Rf(s[0],2),n=a[1],c.label=5;case 5:return[2,n]}})})},e.prototype.mergePage=function(t,r,n){return rm(this,void 0,void 0,function(){var i,o,s,a,c,u,l;return nm(this,function(f){switch(f.label){case 0:i=new Map;try{for(o=Ak(n),s=o.next();!s.done;s=o.next())a=s.value,i.set(a.id,a)}catch(h){u={error:h}}finally{try{s&&!s.done&&(l=o.return)&&l.call(o)}finally{if(u)throw u.error}}return c=Tk(i.values()),[4,t.batchSave(r,c,this.ownSymbol)];case 1:return[2,f.sent()]}})})},e}(),_u=globalThis&&globalThis.__assign||function(){return _u=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},_u.apply(this,arguments)},xk=globalThis&&globalThis.__awaiter||function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(f){s(f)}}function c(l){try{u(n.throw(l))}catch(f){s(f)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(e,t||[])).next())})},Ck=globalThis&&globalThis.__generator||function(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(l){return c([u,l])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){r.label=u[1];break}if(u[0]===6&&r.label<o[1]){r.label=o[1],o=u;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(u);break}o[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(l){u=[6,l],i=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},Ok=new Ae("API"),Pk=function(){function e(t){this.Auth=qh,this.Cache=As,this.Credentials=tn,this._options=t,this._restApi=new Kb(t),this._graphqlApi=new Hb(t),Ok.debug("API Options",this._options)}return e.prototype.getModuleName=function(){return"API"},e.prototype.configure=function(t){this._options=Object.assign({},this._options,t),this._restApi.Credentials=this.Credentials,this._graphqlApi.Auth=this.Auth,this._graphqlApi.Cache=this.Cache,this._graphqlApi.Credentials=this.Credentials;var r=this._restApi.configure(this._options),n=this._graphqlApi.configure(this._options);return _u(_u({},r),n)},e.prototype.get=function(t,r,n){return this._restApi.get(t,r,n)},e.prototype.post=function(t,r,n){return this._restApi.post(t,r,n)},e.prototype.put=function(t,r,n){return this._restApi.put(t,r,n)},e.prototype.patch=function(t,r,n){return this._restApi.patch(t,r,n)},e.prototype.del=function(t,r,n){return this._restApi.del(t,r,n)},e.prototype.head=function(t,r,n){return this._restApi.head(t,r,n)},e.prototype.isCancel=function(t){return this._restApi.isCancel(t)},e.prototype.cancel=function(t,r){return this._restApi.cancel(t,r)},e.prototype.endpoint=function(t){return xk(this,void 0,void 0,function(){return Ck(this,function(r){return[2,this._restApi.endpoint(t)]})})},e.prototype.getGraphqlOperationType=function(t){return this._graphqlApi.getGraphqlOperationType(t)},e.prototype.graphql=function(t,r){return this._graphqlApi.graphql(t,r)},e}(),aw=new Pk(null);Fr.register(aw);var Su=aw,Eu=globalThis&&globalThis.__assign||function(){return Eu=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Eu.apply(this,arguments)},Mf=globalThis&&globalThis.__awaiter||function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(f){s(f)}}function c(l){try{u(n.throw(l))}catch(f){s(f)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(e,t||[])).next())})},kf=globalThis&&globalThis.__generator||function(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(l){return c([u,l])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){r.label=u[1];break}if(u[0]===6&&r.label<o[1]){r.label=o[1],o=u;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(u);break}o[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(l){u=[6,l],i=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},Nk=new Ae("DataStore"),Df;(function(e){e.LIST="query",e.CREATE="mutation",e.UPDATE="mutation",e.DELETE="mutation",e.GET="query"})(Df||(Df={}));var Oe;(function(e){e.CREATE="Create",e.UPDATE="Update",e.DELETE="Delete",e.GET="Get"})(Oe||(Oe={}));var Rk={_version:void 0,_lastChangedAt:void 0,_deleted:void 0},Mk=Object.keys(Rk);function kk(){return Mk}function ad(e,t){var r=uw(t),n=Lk(e,t),i=Dk(t,r),o=Object.values(r).map(function(a){var c=a.name;return c}).concat(i).concat(n);ew(t)&&(o=o.concat(kk()).concat(Fk(t)));var s=o.join(`
`);return s}function Dk(e,t){var r=Uk(e);return!t.owner&&r.includes("owner")?["owner"]:[]}function Uk(e){var t=[];return ew(e)&&e.attributes&&e.attributes.forEach(function(r){if(r.properties&&r.properties.rules){var n=r.properties.rules.find(function(i){return i.allow==="owner"});n&&n.ownerField&&t.push(n.ownerField)}}),t}function uw(e){var t=e.fields,r=Object.values(t).filter(function(n){return!!(tw(n.type)||PM(n.type))}).reduce(function(n,i){return n[i.name]=i,n},{});return r}function Fk(e){var t=[];return Object.values(e.fields).filter(function(r){var n=r.association;return n&&Object.keys(n).length}).forEach(function(r){var n=r.name,i=r.association,o=i.connectionType;switch(o){case"HAS_ONE":case"HAS_MANY":break;case"BELONGS_TO":gu(i)&&t.push(n+" { id _deleted }");break;default:It(o)}}),t}function Lk(e,t){var r=[];return Object.values(t.fields).forEach(function(n){var i=n.name,o=n.type;if(Tf(o)){var s=e.nonModels[o.nonModel],a=Object.values(uw(s)).map(function(u){var l=u.name;return l}),c=[];Object.values(s.fields).forEach(function(u){var l=u.type,f=u.name;if(Tf(l)){var h=e.nonModels[l.nonModel];c.push(f+" { "+ad(e,h)+" }")}}),r.push(i+" { "+a.join(" ")+" "+c.join(" ")+" }")}}),r}function Bk(e){var t=[].concat(e.attributes).find(function(s){return s&&s.type==="auth"}),r=(t||{}).properties,n=(r===void 0?{}:r).rules,i=n===void 0?[]:n,o=[];return i.forEach(function(s){var a=s.identityClaim,c=a===void 0?"cognito:username":a,u=s.ownerField,l=u===void 0?"owner":u,f=s.operations,h=f===void 0?["create","update","delete","read"]:f,v=s.provider,g=v===void 0?"userPools":v,w=s.groupClaim,y=w===void 0?"cognito:groups":w,b=s.allow,_=b===void 0?"iam":b,T=s.groups,A=T===void 0?[]:T,x=h.includes("read"),R=_==="owner";if(!(!x&&!R)){var k={identityClaim:c,ownerField:l,provider:g,groupClaim:y,authStrategy:_,groups:A,areSubscriptionsPublic:!1};if(R){var U=[].concat(e.attributes).find(function(I){return I&&I.type==="model"}),B=(U||{}).properties,N=(B===void 0?{}:B).subscriptions,F=(N===void 0?{}:N).level,L=F===void 0?"on":F;k.areSubscriptionsPublic=!h.includes("read")||L==="public"}if(R){o.push(k);return}o.unshift(k)}}),o}function jk(e,t,r,n,i){var o=ad(e,t),s=t.name;t.pluralName;var a="on"+r+s,c="",u="";return n&&(c="($"+i+": String!)",u="("+i+": $"+i+")"),[r,a,"subscription operation"+c+`{
			`+a+u+`{
				`+o+`
			}
		}`]}function Ko(e,t,r){var n=ad(e,t),i=t.name,o=t.pluralName,s,a=" ",c=" ",u;switch(r){case"LIST":s="sync"+o,a="($limit: Int, $nextToken: String, $lastSync: AWSTimestamp, $filter: Model"+i+"FilterInput)",c="(limit: $limit, nextToken: $nextToken, lastSync: $lastSync, filter: $filter)",n=`items {
							`+n+`
						}
						nextToken
						startedAt`;break;case"CREATE":s="create"+i,a="($input: Create"+i+"Input!)",c="(input: $input)",u=Oe.CREATE;break;case"UPDATE":s="update"+i,a="($input: Update"+i+"Input!, $condition: Model"+i+"ConditionInput)",c="(input: $input, condition: $condition)",u=Oe.UPDATE;break;case"DELETE":s="delete"+i,a="($input: Delete"+i+"Input!, $condition: Model"+i+"ConditionInput)",c="(input: $input, condition: $condition)",u=Oe.DELETE;break;case"GET":s="get"+i,a="($id: ID!)",c="(id: $id)",u=Oe.GET;break;default:It(r)}return[[u,s,Df[r]+" operation"+a+`{
		`+s+c+`{
			`+n+`
		}
	}`]]}function cw(e,t,r,n,i,o,s,a,c){var u;switch(r){case Le.INSERT:u=Oe.CREATE;break;case Le.UPDATE:u=Oe.UPDATE;break;case Le.DELETE:u=Oe.DELETE;break;default:It(r)}var l=function(h,v){var g=h&&v!==null&&typeof v=="object"&&t.fields[h]&&t.fields[h].type==="AWSJSON";return g?JSON.stringify(v):v},f=a(s,Eu(Eu({},c?{id:c}:{}),{data:JSON.stringify(i,l),modelId:i.id,model:n.name,operation:u,condition:JSON.stringify(o)}));return f}function lw(e){var t={};return!e||!Array.isArray(e.predicates)||e.predicates.forEach(function(r){var n;if(Ds(r)){var i=r.field,o=r.operator,s=r.operand;if(i==="id")return;t[i]=(n={},n[o]=s,n)}else t[r.type]=lw(r)}),t}function fw(e){var t={};if(!e||!Array.isArray(e.predicates))return t;var r=e.type,n=e.predicates,i=r==="and"||r==="or";t[r]=i?[]:{};var o=function(s){return i?t[r].push(s):t[r]=s};return n.forEach(function(s){var a,c;if(Ds(s)){var u=s.field,l=s.operator,f=s.operand,h=(a={},a[u]=(c={},c[l]=f,c),a);o(h);return}o(fw(s))}),t}function im(e,t){var r=e[t.groupClaim]||[];if(typeof r=="string"){var n=void 0;try{n=JSON.parse(r)}catch{n=r}r=[].concat(n)}return r}function ud(e){var t=e.authModeStrategy,r=e.defaultAuthMode,n=e.modelName,i=e.schema;return Mf(this,void 0,void 0,function(){var o,s,a,c=this;return kf(this,function(u){switch(u.label){case 0:o=Object.values(xf),s={CREATE:[],READ:[],UPDATE:[],DELETE:[]},u.label=1;case 1:return u.trys.push([1,3,,4]),[4,Promise.all(o.map(function(l){return Mf(c,void 0,void 0,function(){var f;return kf(this,function(h){switch(h.label){case 0:return[4,t({schema:i,modelName:n,operation:l})];case 1:return f=h.sent(),typeof f=="string"?s[l]=[f]:Array.isArray(f)&&f.length?s[l]=f:s[l]=[r],[2]}})})}))];case 2:return u.sent(),[3,4];case 3:return a=u.sent(),Nk.debug("Error getting auth modes for model: "+n,a),[3,4];case 4:return[2,s]}})})}function om(e){var t=["Request failed with status code 401","Request failed with status code 403"],r;return e&&e.errors?r=e.errors.find(function(n){return t.includes(n.message)}):e&&e.message&&(r=e),r?r.message:null}function sm(e){var t=Object.values(Qr),r=e&&e.message&&t.find(function(n){return e.message.includes(n)});return r||null}function Au(e,t){return t===void 0&&(t={}),Mf(this,void 0,void 0,function(){var r,n,i,o;return kf(this,function(s){switch(s.label){case 0:if(e!==et.AWS_LAMBDA)return[3,6];if(r=t.authProviders,n=(r===void 0?{functionAuthProvider:null}:r).functionAuthProvider,!(n&&typeof n=="function"))return[3,5];s.label=1;case 1:return s.trys.push([1,3,,4]),[4,n()];case 2:return i=s.sent().token,[2,i];case 3:throw o=s.sent(),new Error("Error retrieving token from `functionAuthProvider`: "+o);case 4:return[3,6];case 5:throw new Error("You must provide a `functionAuthProvider` function to `DataStore.configure` when using "+et.AWS_LAMBDA);case 6:return[2]}})})}var xn=globalThis&&globalThis.__assign||function(){return xn=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},xn.apply(this,arguments)},gn=globalThis&&globalThis.__awaiter||function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(f){s(f)}}function c(l){try{u(n.throw(l))}catch(f){s(f)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(e,t||[])).next())})},mn=globalThis&&globalThis.__generator||function(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(l){return c([u,l])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){r.label=u[1];break}if(u[0]===6&&r.label<o[1]){r.label=o[1],o=u;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(u);break}o[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(l){u=[6,l],i=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},fa=globalThis&&globalThis.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r},qk=globalThis&&globalThis.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return o},$k=function(){function e(t,r,n,i){this.schema=t,this.MutationEvent=r,this.modelInstanceCreator=n,this.ownSymbol=i}return e.prototype.enqueue=function(t,r){return gn(this,void 0,void 0,function(){var n=this;return mn(this,function(i){return t.runExclusive(function(o){return gn(n,void 0,void 0,function(){var s,a,c,u,l,f,h,v,g,w=this;return mn(this,function(y){switch(y.label){case 0:return s=this.schema.namespaces[uo].models.MutationEvent,a=Ne.createFromExisting(s,function(b){return b.modelId("eq",r.modelId).id("ne",w.inProgressMutationEventId)}),[4,o.query(this.MutationEvent,a)];case 1:return c=qk.apply(void 0,[y.sent(),1]),u=c[0],u!==void 0?[3,3]:[4,o.save(r,void 0,this.ownSymbol)];case 2:return y.sent(),[2];case 3:return l=r.operation,u.operation!==Oe.CREATE?[3,8]:l!==Oe.DELETE?[3,5]:[4,o.delete(this.MutationEvent,a)];case 4:return y.sent(),[3,7];case 5:return f=this.mergeUserFields(u,r),[4,o.save(this.MutationEvent.copyOf(u,function(b){b.data=f.data}),void 0,this.ownSymbol)];case 6:y.sent(),y.label=7;case 7:return[3,12];case 8:return h=r.condition,v=JSON.parse(h),g=void 0,Object.keys(v).length!==0?[3,10]:(g=this.mergeUserFields(u,r),[4,o.delete(this.MutationEvent,a)]);case 9:y.sent(),y.label=10;case 10:return g=g||r,[4,o.save(g,void 0,this.ownSymbol)];case 11:y.sent(),y.label=12;case 12:return[2]}})})}),[2]})})},e.prototype.dequeue=function(t,r,n){return gn(this,void 0,void 0,function(){var i;return mn(this,function(o){switch(o.label){case 0:return[4,this.peek(t)];case 1:return i=o.sent(),r?[4,this.syncOutboxVersionsOnDequeue(t,r,i,n)]:[3,3];case 2:o.sent(),o.label=3;case 3:return[4,t.delete(i)];case 4:return o.sent(),this.inProgressMutationEventId=void 0,[2,i]}})})},e.prototype.peek=function(t){return gn(this,void 0,void 0,function(){var r;return mn(this,function(n){switch(n.label){case 0:return[4,t.queryOne(this.MutationEvent,un.FIRST)];case 1:return r=n.sent(),this.inProgressMutationEventId=r?r.id:void 0,[2,r]}})})},e.prototype.getForModel=function(t,r){return gn(this,void 0,void 0,function(){var n,i;return mn(this,function(o){switch(o.label){case 0:return n=this.schema.namespaces[uo].models.MutationEvent,[4,t.query(this.MutationEvent,Ne.createFromExisting(n,function(s){return s.modelId("eq",r.id)}))];case 1:return i=o.sent(),[2,i]}})})},e.prototype.getModelIds=function(t){return gn(this,void 0,void 0,function(){var r,n;return mn(this,function(i){switch(i.label){case 0:return[4,t.query(this.MutationEvent)];case 1:return r=i.sent(),n=new Set,r.forEach(function(o){var s=o.modelId;return n.add(s)}),[2,n]}})})},e.prototype.syncOutboxVersionsOnDequeue=function(t,r,n,i){return gn(this,void 0,void 0,function(){var o,s,a,c,u,l,f,h,v,g,w,y=this;return mn(this,function(b){switch(b.label){case 0:return n.operation!==i?[2]:(o=r._version,s=r._lastChangedAt,a=fa(r,["_version","_lastChangedAt","_deleted"]),c=this.removeTimestampFields(n.model,a),u=JSON.parse(n.data),u?(l=fa(u,["_version","_lastChangedAt","_deleted"]),f=this.removeTimestampFields(n.model,l),nd(c,f,!0)?(h=this.schema.namespaces[uo].models.MutationEvent,v=Ne.createFromExisting(h,function(_){return _.modelId("eq",r.id).id("ne",y.inProgressMutationEventId)}),[4,t.query(this.MutationEvent,v)]):[2]):[2]);case 1:return g=b.sent(),g.length?(w=g.map(function(_){var T=JSON.parse(_.data),A=xn(xn({},T),{_version:o,_lastChangedAt:s});return y.MutationEvent.copyOf(_,function(x){x.data=JSON.stringify(A)})}),[4,t.delete(this.MutationEvent,v)]):[2];case 2:return b.sent(),[4,Promise.all(w.map(function(_){return gn(y,void 0,void 0,function(){return mn(this,function(T){switch(T.label){case 0:return[4,t.save(_,void 0,this.ownSymbol)];case 1:return[2,T.sent()]}})})}))];case 3:return b.sent(),[2]}})})},e.prototype.mergeUserFields=function(t,r){var n=JSON.parse(t.data),i=n._version,o=n.id,s=n._lastChangedAt,a=n._deleted,c=fa(n,["_version","id","_lastChangedAt","_deleted"]),u=JSON.parse(r.data);u.id,u._version,u._lastChangedAt,u._deleted;var l=fa(u,["id","_version","_lastChangedAt","_deleted"]),f=JSON.stringify(xn(xn({id:o,_version:i,_lastChangedAt:s,_deleted:a},c),l));return this.modelInstanceCreator(this.MutationEvent,xn(xn({},r),{data:f}))},e.prototype.removeTimestampFields=function(t,r){var n,i,o="createdAt",s="updatedAt",a=o,c=s,u=(n=this.schema.namespaces[xo].models[t].attributes)===null||n===void 0?void 0:n.find(function(f){return f.type==="model"}),l=(i=u==null?void 0:u.properties)===null||i===void 0?void 0:i.timestamps;return l&&(a=l[o],c=l[s]),delete r[a],delete r[c],r},e}(),is=globalThis&&globalThis.__assign||function(){return is=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},is.apply(this,arguments)},Li=globalThis&&globalThis.__awaiter||function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(f){s(f)}}function c(l){try{u(n.throw(l))}catch(f){s(f)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(e,t||[])).next())})},Qn=globalThis&&globalThis.__generator||function(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(l){return c([u,l])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){r.label=u[1];break}if(u[0]===6&&r.label<o[1]){r.label=o[1],o=u;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(u);break}o[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(l){u=[6,l],i=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},Kk=globalThis&&globalThis.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r},vr=globalThis&&globalThis.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return o},Hk=globalThis&&globalThis.__values||function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Vk=10,Xn=new Ae("DataStore"),zk=function(){function e(t,r,n,i,o,s,a,c,u,l){a===void 0&&(a={}),this.schema=t,this.storage=r,this.userClasses=n,this.outbox=i,this.modelInstanceCreator=o,this.MutationEvent=s,this.amplifyConfig=a,this.authModeStrategy=c,this.conflictHandler=u,this.errorHandler=l,this.typeQuery=new WeakMap,this.processing=!1,this.generateQueries()}return e.prototype.generateQueries=function(){var t=this;Object.values(this.schema.namespaces).forEach(function(r){Object.values(r.models).filter(function(n){var i=n.syncable;return i}).forEach(function(n){var i=vr(Ko(r,n,"CREATE"),1),o=i[0],s=vr(Ko(r,n,"UPDATE"),1),a=s[0],c=vr(Ko(r,n,"DELETE"),1),u=c[0];t.typeQuery.set(n,[o,a,u])})})},e.prototype.isReady=function(){return this.observer!==void 0},e.prototype.start=function(){var t=this,r=new st(function(n){return t.observer=n,t.resume(),function(){t.pause()}});return r},e.prototype.resume=function(){return Li(this,void 0,void 0,function(){var t,r,n,i,o,s=this;return Qn(this,function(a){switch(a.label){case 0:if(this.processing||!this.isReady())return[2];this.processing=!0,r=xo,n=function(){var c,u,l,f,h,v,g,w,y,b,_,T,A,x,R,k;return Qn(this,function(U){switch(U.label){case 0:c=t.model,u=t.operation,l=t.data,f=t.condition,h=i.userClasses[c],v=void 0,g=void 0,w=void 0,U.label=1;case 1:return U.trys.push([1,4,,5]),[4,ud({authModeStrategy:i.authModeStrategy,defaultAuthMode:i.amplifyConfig.aws_appsync_authenticationType,modelName:c,schema:i.schema})];case 2:return y=U.sent(),b=y[u.toUpperCase()],_=0,T=function(){return Li(s,void 0,void 0,function(){var B,N;return Qn(this,function(F){switch(F.label){case 0:return F.trys.push([0,2,,4]),Xn.debug("Attempting mutation with authMode: "+b[_]),[4,this.jitteredRetry(r,c,u,l,f,h,this.MutationEvent,t,b[_])];case 1:return B=F.sent(),Xn.debug("Mutation sent successfully with authMode: "+b[_]),[2,B];case 2:if(N=F.sent(),_++,_>=b.length)throw Xn.debug("Mutation failed with authMode: "+b[_-1]),N;return Xn.debug("Mutation failed with authMode: "+b[_-1]+". Retrying with authMode: "+b[_]),[4,T()];case 3:return[2,F.sent()];case 4:return[2]}})})},[4,T()];case 3:return k=vr.apply(void 0,[U.sent(),3]),v=k[0],g=k[1],w=k[2],[3,5];case 4:return A=U.sent(),A.message==="Offline"||A.message==="RetryMutation"?[2,"continue"]:[3,5];case 5:return v!==void 0?[3,7]:(Xn.debug("done retrying"),[4,i.storage.runExclusive(function(B){return Li(s,void 0,void 0,function(){return Qn(this,function(N){switch(N.label){case 0:return[4,this.outbox.dequeue(B)];case 1:return N.sent(),[2]}})})})]);case 6:return U.sent(),[2,"continue"];case 7:return x=v.data[g],R=!1,[4,i.storage.runExclusive(function(B){return Li(s,void 0,void 0,function(){return Qn(this,function(N){switch(N.label){case 0:return[4,this.outbox.dequeue(B,x,u)];case 1:return N.sent(),[4,this.outbox.peek(B)];case 2:return R=N.sent()!==void 0,[2]}})})})];case 8:return U.sent(),i.observer.next({operation:u,modelDefinition:w,model:x,hasMore:R}),[2]}})},i=this,a.label=1;case 1:return o=this.processing,o?[4,this.outbox.peek(this.storage)]:[3,3];case 2:o=(t=a.sent())!==void 0,a.label=3;case 3:return o?[5,n()]:[3,5];case 4:return a.sent(),[3,1];case 5:return this.pause(),[2]}})})},e.prototype.jitteredRetry=function(t,r,n,i,o,s,a,c,u){return Li(this,void 0,void 0,function(){var l=this;return Qn(this,function(f){switch(f.label){case 0:return[4,ju(function(h,v,g,w,y,b,_){return Li(l,void 0,void 0,function(){var T,A,x,R,k,U,B,N,F,L,I,P,M,j,K,G,q,z,Y,X,te,W,J,ee,re,se,ve,ye,he;return Qn(this,function(le){switch(le.label){case 0:return T=vr(this.createQueryVariables(t,h,v,g,w),5),A=T[0],x=T[1],R=T[2],k=T[3],U=T[4],[4,Au(u,this.amplifyConfig)];case 1:B=le.sent(),N={query:A,variables:x,authMode:u,authToken:B},F=0,L=this.opTypeFromTransformerOperation(v),le.label=2;case 2:return le.trys.push([2,4,,20]),[4,Su.graphql(N)];case 3:return I=le.sent(),[2,[I,k,U]];case 4:if(P=le.sent(),!(P.errors&&P.errors.length>0))return[3,18];if(M=vr(P.errors,1),j=M[0],K=j.originalError,G=(K===void 0?{}:K).code,q=G===void 0?null:G,j.errorType==="Unauthorized")throw new Wt("Unauthorized");if(j.message==="Network Error"||q==="ECONNABORTED")throw this.processing?new Error("Network Error"):new Wt("Offline");return j.errorType!=="ConflictUnhandled"?[3,13]:(F++,z=void 0,F>Vk?(z=zg,[3,8]):[3,5]);case 5:return le.trys.push([5,7,,8]),[4,this.conflictHandler({modelConstructor:y,localModel:this.modelInstanceCreator(y,x.input),remoteModel:this.modelInstanceCreator(y,j.data),operation:L,attempts:F})];case 6:return z=le.sent(),[3,8];case 7:return Y=le.sent(),Xn.warn("conflict trycatch",Y),[3,20];case 8:return z!==zg?[3,11]:(X=vr(Ko(this.schema.namespaces[t],U,"GET"),1),te=vr(X[0],3),W=te[1],J=te[2],[4,Au(u,this.amplifyConfig)]);case 9:return ee=le.sent(),[4,Su.graphql({query:J,variables:{id:x.input.id},authMode:u,authToken:ee})];case 10:return re=le.sent(),[2,[re,W,U]];case 11:return se=this.schema.namespaces[t],ve=cw(se.relationships,U,L,y,z,R,b,this.modelInstanceCreator,_.id),[4,this.storage.save(ve)];case 12:throw le.sent(),new Wt("RetryMutation");case 13:return le.trys.push([13,15,16,17]),[4,this.errorHandler({localModel:this.modelInstanceCreator(y,x.input),message:j.message,operation:v,errorType:j.errorType,errorInfo:j.errorInfo,remoteModel:j.data?this.modelInstanceCreator(y,j.data):null})];case 14:return le.sent(),[3,17];case 15:return ye=le.sent(),Xn.warn("failed to execute errorHandler",ye),[3,17];case 16:return[2,j.data?[{data:(he={},he[k]=j.data,he)},k,U]:[]];case 17:return[3,19];case 18:throw new Wt(P);case 19:return[3,20];case 20:if(N)return[3,2];le.label=21;case 21:return[2]}})})},[r,n,i,o,s,a,c])];case 1:return[2,f.sent()]}})})},e.prototype.createQueryVariables=function(t,r,n,i,o){var s,a,c=this.schema.namespaces[t].models[r],u=this.schema.namespaces[t].keys[r].primaryKey,l=this.typeQuery.get(c),f=vr(l.find(function(B){var N=vr(B,1),F=N[0];return F===n}),3),h=f[1],v=f[2],g=JSON.parse(i),w=g._version,y=Kk(g,["_version"]),b={};if(u&&u.length)try{for(var _=Hk(u),T=_.next();!T.done;T=_.next()){var A=T.value;b[A]=y[A]}}catch(B){s={error:B}}finally{try{T&&!T.done&&(a=_.return)&&a.call(_)}finally{if(s)throw s.error}}else b.id=y.id;var x=n===Oe.DELETE?b:Object.values(c.fields).filter(function(B){var N=B.name,F=B.type,L=B.association;return Af(F)?!!(gu(L)&&L.connectionType==="BELONGS_TO"):n===Oe.UPDATE?y.hasOwnProperty(N):!0}).map(function(B){var N=B.name,F=B.type,L=B.association,I=N,P=y[N];return Af(F)&&gu(L)&&(I=L.targetName,P=y[I]),[I,P]}).reduce(function(B,N){var F=vr(N,2),L=F[0],I=F[1];return B[L]=I,B},{}),R=is(is({},x),{_version:w}),k=JSON.parse(o),U=is({input:R},n===Oe.CREATE?{}:{condition:Object.keys(k).length>0?k:null});return[v,U,k,h,c]},e.prototype.opTypeFromTransformerOperation=function(t){switch(t){case Oe.CREATE:return Le.INSERT;case Oe.DELETE:return Le.DELETE;case Oe.UPDATE:return Le.UPDATE;case Oe.GET:break;default:It(t)}},e.prototype.pause=function(){this.processing=!1},e}(),Zi=globalThis&&globalThis.__assign||function(){return Zi=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Zi.apply(this,arguments)},ha=globalThis&&globalThis.__awaiter||function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(f){s(f)}}function c(l){try{u(n.throw(l))}catch(f){s(f)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(e,t||[])).next())})},da=globalThis&&globalThis.__generator||function(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(l){return c([u,l])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){r.label=u[1];break}if(u[0]===6&&r.label<o[1]){r.label=o[1],o=u;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(u);break}o[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(l){u=[6,l],i=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},Uf=globalThis&&globalThis.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return o},Wk=globalThis&&globalThis.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Uf(arguments[t]));return e},Zn=new Ae("DataStore"),Tu;(function(e){e.CONNECTED="CONNECTED"})(Tu||(Tu={}));var eo;(function(e){e[e.none=0]="none",e[e.unauth=1]="unauth",e[e.auth=2]="auth"})(eo||(eo={}));var Gk=function(){function e(t,r,n,i){n===void 0&&(n={}),this.schema=t,this.syncPredicates=r,this.amplifyConfig=n,this.authModeStrategy=i,this.typeQuery=new WeakMap,this.buffer=[]}return e.prototype.buildSubscription=function(t,r,n,i,o,s,a){var c=this.amplifyConfig.aws_appsync_authenticationType,u=this.getAuthorizationInfo(r,i,c,o,s,a)||{},l=u.isOwner,f=u.ownerField,h=u.ownerValue,v=Uf(jk(t,r,n,l,f),3),g=v[0],w=v[1],y=v[2];return{authMode:a,opType:g,opName:w,query:y,isOwner:l,ownerField:f,ownerValue:h}},e.prototype.getAuthorizationInfo=function(t,r,n,i,o,s){i===void 0&&(i={}),o===void 0&&(o={});var a=Bk(t),c=s===et.AWS_IAM&&a.find(function(g){return g.authStrategy==="private"&&g.provider==="iam"});if(c&&r===eo.unauth)return null;var u=a.filter(function(g){return g.authStrategy==="groups"&&["userPools","oidc"].includes(g.provider)}),l=(s===et.AMAZON_COGNITO_USER_POOLS||s===et.OPENID_CONNECT)&&u.find(function(g){var w=im(i,g),y=im(o,g);return Wk(w,y).find(function(b){return g.groups.find(function(_){return _===b})})});if(l)return{authMode:s,isOwner:!1};var f=s===et.AMAZON_COGNITO_USER_POOLS?a.filter(function(g){return g.authStrategy==="owner"&&g.provider==="userPools"}):[],h;if(f.forEach(function(g){var w=i[g.identityClaim];w&&(h={authMode:et.AMAZON_COGNITO_USER_POOLS,isOwner:!g.areSubscriptionsPublic,ownerField:g.ownerField,ownerValue:w})}),h)return h;var v=s===et.OPENID_CONNECT?a.filter(function(g){return g.authStrategy==="owner"&&g.provider==="oidc"}):[];return v.forEach(function(g){var w=o[g.identityClaim];w&&(h={authMode:et.OPENID_CONNECT,isOwner:!g.areSubscriptionsPublic,ownerField:g.ownerField,ownerValue:w})}),h||{authMode:s||n,isOwner:!1}},e.prototype.hubQueryCompletionListener=function(t,r){var n=r.payload.event;n===Ut.SUBSCRIPTION_ACK&&t()},e.prototype.start=function(){var t=this,r=new st(function(i){var o=[],s={},a,c,u=eo.none;return function(){return ha(t,void 0,void 0,function(){var l,f,h,v,g,w,y,b,_,T,A=this;return da(this,function(x){switch(x.label){case 0:return x.trys.push([0,2,,3]),[4,Fn.currentCredentials()];case 1:return l=x.sent(),u=l.authenticated?eo.auth:eo.unauth,[3,3];case 2:return x.sent(),[3,3];case 3:return x.trys.push([3,5,,6]),[4,Fn.currentSession()];case 4:return f=x.sent(),a=f.getIdToken().decodePayload(),[3,6];case 5:return x.sent(),[3,6];case 6:if(x.trys.push([6,11,,12]),h=this.amplifyConfig,v=h.aws_cognito_region,g=h.Auth,!v||g&&!g.region)throw"Auth is not configured";return w=void 0,[4,As.getItem("federatedInfo")];case 7:return y=x.sent(),y?(w=y.token,[3,10]):[3,8];case 8:return[4,Fn.currentAuthenticatedUser()];case 9:b=x.sent(),b&&(w=b.token),x.label=10;case 10:return w&&(_=w.split(".")[1],c=JSON.parse(Buffer.from(_,"base64").toString("utf8"))),[3,12];case 11:return T=x.sent(),Zn.debug("error getting OIDC JWT",T),[3,12];case 12:return Object.values(this.schema.namespaces).forEach(function(R){Object.values(R.models).filter(function(k){var U=k.syncable;return U}).forEach(function(k){return ha(A,void 0,void 0,function(){var U,B,N,F,L,I,P,M,j=this;return da(this,function(K){switch(K.label){case 0:return[4,ud({authModeStrategy:this.authModeStrategy,defaultAuthMode:this.amplifyConfig.aws_appsync_authenticationType,modelName:k.name,schema:this.schema})];case 1:return U=K.sent(),B=U.READ,s=Zi(Zi({},s),(I={},I[k.name]=(P={},P[Oe.CREATE]=[],P[Oe.UPDATE]=[],P[Oe.DELETE]=[],P),I)),N=[Oe.CREATE,Oe.UPDATE,Oe.DELETE],F=(M={},M[Oe.CREATE]=0,M[Oe.UPDATE]=0,M[Oe.DELETE]=0,M),L=function(G){return ha(j,void 0,void 0,function(){var q,z,Y,X,te,W,J,ee,re,se,ve,ye,he=this;return da(this,function(le){switch(le.label){case 0:return q=this.buildSubscription(R,k,G,u,a,c,B[F[G]]),z=q.opType,Y=q.opName,X=q.query,te=q.isOwner,W=q.ownerField,J=q.ownerValue,ee=q.authMode,[4,Au(ee,this.amplifyConfig)];case 1:if(re=le.sent(),se={},te){if(!J)return i.error("Owner field required, sign in is needed in order to perform this operation"),[2];se[W]=J}return Zn.debug("Attempting "+G+" subscription with authMode: "+B[F[G]]),ve=Su.graphql(Zi(Zi({query:X,variables:se},{authMode:ee}),{authToken:re})),s[k.name][z].push(ve.map(function(D){var $=D.value;return $}).subscribe({next:function(D){var $=D.data,Q=D.errors;if(Array.isArray(Q)&&Q.length>0){var O=Q.map(function(E){var C=E.message;return C});Zn.warn("Skipping incoming subscription. Messages: "+O.join(`
`)),he.drainBuffer();return}var S=Ne.getPredicates(he.syncPredicates.get(k),!1),d=$,p=Y,m=d[p];he.passesPredicateValidation(m,S)&&he.pushToBuffer(z,k,m),he.drainBuffer()},error:function(D){var $=D.error,Q=Uf(($===void 0?{errors:[]}:$).errors,1),O=Q[0],S=(O===void 0?{}:O).message,d=S===void 0?"":S;if(d.includes(Ut.REALTIME_SUBSCRIPTION_INIT_ERROR)||d.includes(Ut.CONNECTION_FAILED))if(s[k.name][z].forEach(function(p){return p.unsubscribe()}),s[k.name][z]=[],F[G]++,F[G]>=B.length){Zn.debug(G+" subscription failed with authMode: "+B[F[G]-1]),Zn.warn("subscriptionError",d);return}else{Zn.debug(G+" subscription failed with authMode: "+B[F[G]-1]+". Retrying with authMode: "+B[F[G]]),L(G);return}Zn.warn("subscriptionError",d),typeof ye=="function"&&ye(),!(d.includes('"errorType":"Unauthorized"')||d.includes('"errorType":"OperationDisabled"'))&&i.error(d)}})),o.push(function(){return ha(he,void 0,void 0,function(){var D,$=this;return da(this,function(Q){switch(Q.label){case 0:return[4,new Promise(function(O){ye=O,D=$.hubQueryCompletionListener.bind($,O),zt.listen("api",D)})];case 1:return Q.sent(),zt.remove("api",D),[2]}})})}()),[2]}})})},N.forEach(function(G){return L(G)}),[2]}})})})}),Promise.all(o).then(function(){return i.next(Tu.CONNECTED)}),[2]}})})}(),function(){Object.keys(s).forEach(function(l){s[l][Oe.CREATE].forEach(function(f){return f.unsubscribe()}),s[l][Oe.UPDATE].forEach(function(f){return f.unsubscribe()}),s[l][Oe.DELETE].forEach(function(f){return f.unsubscribe()})})}}),n=new st(function(i){return t.dataObserver=i,t.drainBuffer(),function(){t.dataObserver=null}});return[r,n]},e.prototype.passesPredicateValidation=function(t,r){if(!r)return!0;var n=r.predicates,i=r.type;return nn(t,i,n)},e.prototype.pushToBuffer=function(t,r,n){this.buffer.push([t,r,n])},e.prototype.drainBuffer=function(){var t=this;this.dataObserver&&(this.buffer.forEach(function(r){return t.dataObserver.next(r)}),this.buffer=[])},e}(),Iu=globalThis&&globalThis.__assign||function(){return Iu=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Iu.apply(this,arguments)},Bi=globalThis&&globalThis.__awaiter||function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(f){s(f)}}function c(l){try{u(n.throw(l))}catch(f){s(f)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(e,t||[])).next())})},ji=globalThis&&globalThis.__generator||function(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(l){return c([u,l])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){r.label=u[1];break}if(u[0]===6&&r.label<o[1]){r.label=o[1],o=u;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(u);break}o[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(l){u=[6,l],i=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},qi=globalThis&&globalThis.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return o},Yk=globalThis&&globalThis.__values||function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},am={items:[],nextToken:null,startedAt:null},$i=new Ae("DataStore"),Jk=function(){function e(t,r,n,i){n===void 0&&(n={}),this.schema=t,this.syncPredicates=r,this.amplifyConfig=n,this.authModeStrategy=i,this.typeQuery=new WeakMap,this.generateQueries()}return e.prototype.generateQueries=function(){var t=this;Object.values(this.schema.namespaces).forEach(function(r){Object.values(r.models).filter(function(n){var i=n.syncable;return i}).forEach(function(n){var i=qi(Ko(r,n,"LIST"),1),o=qi(i[0]),s=o.slice(1);t.typeQuery.set(n,s)})})},e.prototype.graphqlFilterFromPredicate=function(t){if(!this.syncPredicates)return null;var r=Ne.getPredicates(this.syncPredicates.get(t),!1);return r?fw(r):null},e.prototype.retrievePage=function(t,r,n,i,o){return i===void 0&&(i=null),Bi(this,void 0,void 0,function(){var s,a,c,u,l,f,h,v,g,w,y,b,_,T,A,x=this;return ji(this,function(R){switch(R.label){case 0:return s=qi(this.typeQuery.get(t),2),a=s[0],c=s[1],u={limit:i,nextToken:n,lastSync:r,filter:o},[4,ud({authModeStrategy:this.authModeStrategy,defaultAuthMode:this.amplifyConfig.aws_appsync_authenticationType,modelName:t.name,schema:this.schema})];case 1:return l=R.sent(),f=l.READ,h=0,v=function(){return Bi(x,void 0,void 0,function(){var k,U,B,N;return ji(this,function(F){switch(F.label){case 0:return F.trys.push([0,2,,4]),$i.debug("Attempting sync with authMode: "+f[h]),[4,this.jitteredRetry({query:c,variables:u,opName:a,modelDefinition:t,authMode:f[h]})];case 1:return k=F.sent(),$i.debug("Sync successful with authMode: "+f[h]),[2,k];case 2:if(U=F.sent(),h++,h>=f.length){if(B=f[h-1],$i.debug("Sync failed with authMode: "+B,U),sm(U)||om(U))return $i.warn("User is unauthorized to query "+a+" with auth mode "+B+". No data could be returned."),[2,{data:(N={},N[a]=am,N)}];throw U}return $i.debug("Sync failed with authMode: "+f[h-1]+". Retrying with authMode: "+f[h]),[4,v()];case 3:return[2,F.sent()];case 4:return[2]}})})},[4,v()];case 2:return g=R.sent().data,w=g,y=a,b=w[y],_=b.items,T=b.nextToken,A=b.startedAt,[2,{nextToken:T,startedAt:A,items:_}]}})})},e.prototype.partialDataFeatureFlagEnabled=function(){try{var t=sessionStorage.getItem("datastorePartialData");return Boolean(t)}catch{return!1}},e.prototype.jitteredRetry=function(t){var r=t.query,n=t.variables,i=t.opName,o=t.modelDefinition,s=t.authMode;return Bi(this,void 0,void 0,function(){var a=this;return ji(this,function(c){switch(c.label){case 0:return[4,ju(function(u,l){return Bi(a,void 0,void 0,function(){var f,h,v,g,y,w,y;return ji(this,function(b){switch(b.label){case 0:return b.trys.push([0,3,,4]),[4,Au(s,this.amplifyConfig)];case 1:return f=b.sent(),[4,Su.graphql({query:u,variables:l,authMode:s,authToken:f})];case 2:return[2,b.sent()];case 3:if(h=b.sent(),v=sm(h)||om(h),v)throw new Wt(v);if(g=Boolean(h&&h.data&&h.data[i]&&h.data[i].items),this.partialDataFeatureFlagEnabled()){if(g)return y=h,y.data[i].items=y.data[i].items.filter(function(_){return _!==null}),h.errors&&zt.dispatch("datastore",{event:"syncQueriesPartialSyncError",data:{errors:h.errors,modelName:o.name}}),[2,y];throw h}if(w=h&&h.errors&&h.errors.some(function(_){return _.errorType==="Unauthorized"}),w)return y=h,g?y.data[i].items=y.data[i].items.filter(function(_){return _!==null}):y.data[i]=Iu(Iu({},am),y.data[i]),$i.warn("queryError","User is unauthorized to query "+i+", some items could not be returned."),[2,y];throw h;case 4:return[2]}})})},[r,n])];case 1:return[2,c.sent()]}})})},e.prototype.start=function(t){var r=this,n=!0,i=this.amplifyConfig,o=i.maxRecordsToSync,s=i.syncPageSize,a=new Map,c=new st(function(u){var l=Object.values(r.schema.namespaces).reduce(function(h,v){var g,w;try{for(var y=Yk(Array.from(v.modelTopologicalOrdering.keys())),b=y.next();!b.done;b=y.next()){var _=b.value,T=t.get(v.models[_]);h.set(v.models[_],T)}}catch(A){g={error:A}}finally{try{b&&!b.done&&(w=y.return)&&w.call(y)}finally{if(g)throw g.error}}return h},new Map),f=Array.from(l.entries()).filter(function(h){var v=qi(h,1),g=v[0].syncable;return g}).map(function(h){var v=qi(h,2),g=v[0],w=qi(v[1],2),y=w[0],b=w[1];return Bi(r,void 0,void 0,function(){var _,T,A,x,R,k,U,B,N,F=this;return ji(this,function(L){switch(L.label){case 0:return _=!1,T=null,A=null,x=null,R=0,k=this.graphqlFilterFromPredicate(g),U=this.schema.namespaces[y].modelTopologicalOrdering.get(g.name),B=U.map(function(I){return a.get(y+"_"+I)}),N=new Promise(function(I){return Bi(F,void 0,void 0,function(){var P,M;return ji(this,function(j){switch(j.label){case 0:return[4,Promise.all(B)];case 1:j.sent(),j.label=2;case 2:return n?(P=Math.min(o-R,s),[4,this.retrievePage(g,b,T,P,k)]):[2];case 3:M=j.sent(),x=M.items,T=M.nextToken,A=M.startedAt,R+=x.length,_=T===null||R>=o,u.next({namespace:y,modelDefinition:g,items:x,done:_,startedAt:A,isFullSync:!b}),j.label=4;case 4:if(!_)return[3,2];j.label=5;case 5:return I(),[2]}})})}),a.set(y+"_"+g.name,N),[4,N];case 1:return L.sent(),[2]}})})});return Promise.all(f).then(function(){u.complete()}),function(){n=!1}});return c},e}(),gr=globalThis&&globalThis.__awaiter||function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(f){s(f)}}function c(l){try{u(n.throw(l))}catch(f){s(f)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(e,t||[])).next())})},ir=globalThis&&globalThis.__generator||function(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(l){return c([u,l])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){r.label=u[1];break}if(u[0]===6&&r.label<o[1]){r.label=o[1],o=u;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(u);break}o[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(l){u=[6,l],i=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},Ir=globalThis&&globalThis.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return o},um=globalThis&&globalThis.__values||function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Qk=globalThis&&globalThis.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Ir(arguments[t]));return e},cm=Lr().isNode,pa=new Ae("DataStore"),Uo=Symbol("sync"),Je;(function(e){e.SYNC_ENGINE_STORAGE_SUBSCRIBED="storageSubscribed",e.SYNC_ENGINE_SUBSCRIPTIONS_ESTABLISHED="subscriptionsEstablished",e.SYNC_ENGINE_SYNC_QUERIES_STARTED="syncQueriesStarted",e.SYNC_ENGINE_SYNC_QUERIES_READY="syncQueriesReady",e.SYNC_ENGINE_MODEL_SYNCED="modelSynced",e.SYNC_ENGINE_OUTBOX_MUTATION_ENQUEUED="outboxMutationEnqueued",e.SYNC_ENGINE_OUTBOX_MUTATION_PROCESSED="outboxMutationProcessed",e.SYNC_ENGINE_OUTBOX_STATUS="outboxStatus",e.SYNC_ENGINE_NETWORK_STATUS="networkStatus",e.SYNC_ENGINE_READY="ready"})(Je||(Je={}));var hw=function(){function e(t,r,n,i,o,s,a,c,u,l,f){l===void 0&&(l={}),this.schema=t,this.namespaceResolver=r,this.modelClasses=n,this.userModelClasses=i,this.storage=o,this.modelInstanceCreator=s,this.syncPredicates=u,this.amplifyConfig=l,this.authModeStrategy=f,this.online=!1,this.modelSyncedStatus=new WeakMap;var h=this.modelClasses.MutationEvent;this.outbox=new $k(this.schema,h,s,Uo),this.modelMerger=new Ik(this.outbox,Uo),this.syncQueriesProcessor=new Jk(this.schema,this.syncPredicates,this.amplifyConfig,this.authModeStrategy),this.subscriptionsProcessor=new Gk(this.schema,this.syncPredicates,this.amplifyConfig,this.authModeStrategy),this.mutationsProcessor=new zk(this.schema,this.storage,this.userModelClasses,this.outbox,this.modelInstanceCreator,h,this.amplifyConfig,this.authModeStrategy,a,c),this.datastoreConnectivity=new Ek}return e.prototype.getModelSyncedStatus=function(t){return this.modelSyncedStatus.get(t)},e.prototype.start=function(t){var r=this;return new st(function(n){pa.log("starting sync engine...");var i=[];return function(){return gr(r,void 0,void 0,function(){var o,s,a,c=this;return ir(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,this.setupModels(t)];case 1:return u.sent(),[3,3];case 2:return o=u.sent(),n.error(o),[2];case 3:return s=new Promise(function(l){c.datastoreConnectivity.status().subscribe(function(f){var h=f.online;return gr(c,void 0,void 0,function(){var v,g,w,y,b,_=this;return ir(this,function(T){switch(T.label){case 0:return h&&!this.online?(this.online=h,n.next({type:Je.SYNC_ENGINE_NETWORK_STATUS,data:{active:this.online}}),g=void 0,cm?(pa.warn("Realtime disabled when in a server-side environment"),[3,6]):[3,1]):[3,10];case 1:b=Ir(this.subscriptionsProcessor.start(),2),v=b[0],g=b[1],T.label=2;case 2:return T.trys.push([2,4,,5]),[4,new Promise(function(A,x){var R=v.subscribe({next:function(k){k===Tu.CONNECTED&&A()},error:function(k){x(k);var U=_.disconnectionHandler();U(k)}});i.push(R)})];case 3:return T.sent(),[3,5];case 4:return w=T.sent(),n.error(w),[2];case 5:pa.log("Realtime ready"),n.next({type:Je.SYNC_ENGINE_SUBSCRIPTIONS_ESTABLISHED}),T.label=6;case 6:return T.trys.push([6,8,,9]),[4,new Promise(function(A,x){var R=_.syncQueriesObservable().subscribe({next:function(k){var U=k.type;U===Je.SYNC_ENGINE_SYNC_QUERIES_READY&&A(),n.next(k)},complete:function(){A()},error:function(k){x(k)}});R&&i.push(R)})];case 7:return T.sent(),[3,9];case 8:return y=T.sent(),n.error(y),[2];case 9:return i.push(this.mutationsProcessor.start().subscribe(function(A){var x=A.modelDefinition,R=A.model,k=A.hasMore,U=_.userModelClasses[x.name],B=_.modelInstanceCreator(U,R);_.storage.runExclusive(function(N){return _.modelMerger.merge(N,B)}),n.next({type:Je.SYNC_ENGINE_OUTBOX_MUTATION_PROCESSED,data:{model:U,element:B}}),n.next({type:Je.SYNC_ENGINE_OUTBOX_STATUS,data:{isEmpty:!k}})})),cm||i.push(g.subscribe(function(A){var x=Ir(A,3);x[0];var R=x[1],k=x[2],U=_.userModelClasses[R.name],B=_.modelInstanceCreator(U,k);_.storage.runExclusive(function(N){return _.modelMerger.merge(N,B)})})),[3,11];case 10:h||(this.online=h,n.next({type:Je.SYNC_ENGINE_NETWORK_STATUS,data:{active:this.online}}),i.forEach(function(A){return A.unsubscribe()}),i=[]),T.label=11;case 11:return l(),[2]}})})})}),this.storage.observe(null,null,Uo).filter(function(l){var f=l.model,h=c.getModelDefinition(f);return h.syncable===!0}).subscribe({next:function(l){var f=l.opType,h=l.model,v=l.element,g=l.condition;return gr(c,void 0,void 0,function(){var w,y,b,_;return ir(this,function(T){switch(T.label){case 0:return w=this.schema.namespaces[this.namespaceResolver(h)],y=this.modelClasses.MutationEvent,b=lw(g),_=cw(w.relationships,this.getModelDefinition(h),f,h,v,b,y,this.modelInstanceCreator),[4,this.outbox.enqueue(this.storage,_)];case 1:return T.sent(),n.next({type:Je.SYNC_ENGINE_OUTBOX_MUTATION_ENQUEUED,data:{model:h,element:v}}),n.next({type:Je.SYNC_ENGINE_OUTBOX_STATUS,data:{isEmpty:!1}}),[4,s];case 2:return T.sent(),this.online&&this.mutationsProcessor.resume(),[2]}})})}}),n.next({type:Je.SYNC_ENGINE_STORAGE_SUBSCRIBED}),[4,this.outbox.peek(this.storage)];case 4:return a=u.sent()===void 0,n.next({type:Je.SYNC_ENGINE_OUTBOX_STATUS,data:{isEmpty:a}}),[4,s];case 5:return u.sent(),n.next({type:Je.SYNC_ENGINE_READY}),[2]}})})}(),function(){i.forEach(function(o){return o.unsubscribe()})}})},e.prototype.getModelsMetadataWithNextFullSync=function(t){return gr(this,void 0,void 0,function(){var r,n,i=this;return ir(this,function(o){switch(o.label){case 0:return n=Map.bind,[4,this.getModelsMetadata()];case 1:return r=new(n.apply(Map,[void 0,o.sent().map(function(s){var a=s.namespace,c=s.model,u=s.lastSync,l=s.lastFullSync,f=s.fullSyncInterval;s.lastSyncPredicate;var h=l+f,v=!l||h<t?0:u;return[i.schema.namespaces[a].models[c],[a,v]]})])),[2,r]}})})},e.prototype.syncQueriesObservable=function(){var t=this;return this.online?new st(function(r){var n,i;return function(){return gr(t,void 0,void 0,function(){var o,s,a=this;return ir(this,function(c){switch(c.label){case 0:o=function(){var u,l,f,h,v,g,w,y,b;return ir(this,function(_){switch(_.label){case 0:return u=new WeakMap,[4,s.getModelsMetadataWithNextFullSync(Date.now())];case 1:return l=_.sent(),f=new Set(l.keys()),[4,new Promise(function(T){n=a.syncQueriesProcessor.start(l).subscribe({next:function(A){var x=A.namespace,R=A.modelDefinition,k=A.items,U=A.done,B=A.startedAt,N=A.isFullSync;return gr(a,void 0,void 0,function(){var F,L,I,P,M,j,K=this;return ir(this,function(G){switch(G.label){case 0:return F=this.userModelClasses[R.name],u.has(F)||(u.set(F,{new:0,updated:0,deleted:0}),g=Hg(),y=y===void 0?B:Math.max(y,B)),[4,this.storage.runExclusive(function(q){return gr(K,void 0,void 0,function(){var z,Y,X,te,W,J,ee,re,se,ve,ye,he,le,D,$;return ir(this,function(Q){switch(Q.label){case 0:return[4,this.outbox.getModelIds(q)];case 1:z=Q.sent(),Y=[],X=k.filter(function(O){return z.has(O.id)?(Y.push(O),!1):!0}),te=[],Q.label=2;case 2:Q.trys.push([2,7,8,9]),W=um(Y),J=W.next(),Q.label=3;case 3:return J.done?[3,6]:(ee=J.value,[4,this.modelMerger.merge(q,ee)]);case 4:re=Q.sent(),re!==void 0&&te.push([ee,re]),Q.label=5;case 5:return J=W.next(),[3,3];case 6:return[3,9];case 7:return se=Q.sent(),D={error:se},[3,9];case 8:try{J&&!J.done&&($=W.return)&&$.call(W)}finally{if(D)throw D.error}return[7];case 9:return ye=(ve=te.push).apply,he=[te],[4,this.modelMerger.mergePage(q,F,X)];case 10:return ye.apply(ve,he.concat([Qk.apply(void 0,[Q.sent()])])),le=u.get(F),te.forEach(function(O){var S=Ir(O,2),d=S[1];switch(d){case Le.INSERT:le.new++;break;case Le.UPDATE:le.updated++;break;case Le.DELETE:le.deleted++;break;default:It(d)}}),[2]}})})})];case 1:return G.sent(),U?(L=R.name,[4,this.getModelMetadata(x,L)]):[3,4];case 2:return I=G.sent(),P=I.lastFullSync,M=I.fullSyncInterval,v=M,h=h===void 0?P:Math.max(h,N?B:P),I=this.modelClasses.ModelMetadata.copyOf(I,function(q){q.lastSync=B,q.lastFullSync=N?B:I.lastFullSync}),[4,this.storage.save(I,void 0,Uo)];case 3:G.sent(),j=u.get(F),this.modelSyncedStatus.set(F,!0),r.next({type:Je.SYNC_ENGINE_MODEL_SYNCED,data:{model:F,isFullSync:N,isDeltaSync:!N,counts:j}}),f.delete(R),f.size===0&&(w=Hg()-g,T(),r.next({type:Je.SYNC_ENGINE_SYNC_QUERIES_READY}),n.unsubscribe()),G.label=4;case 4:return[2]}})})},error:function(A){r.error(A)}}),r.next({type:Je.SYNC_ENGINE_SYNC_QUERIES_STARTED,data:{models:Array.from(f).map(function(A){var x=A.name;return x})}})})];case 2:return _.sent(),b=h+v-(y+w),pa.debug("Next fullSync in "+b/1e3+" seconds. ("+new Date(Date.now()+b)+")"),[4,new Promise(function(T){i=setTimeout(T,b)})];case 3:return _.sent(),[2]}})},s=this,c.label=1;case 1:return r.closed?[3,3]:[5,o()];case 2:return c.sent(),[3,1];case 3:return[2]}})})}(),function(){n&&n.unsubscribe(),i&&clearTimeout(i)}}):st.of()},e.prototype.disconnectionHandler=function(){var t=this;return function(r){(Ut.CONNECTION_CLOSED===r||Ut.TIMEOUT_DISCONNECT===r)&&t.datastoreConnectivity.socketDisconnected()}},e.prototype.unsubscribeConnectivity=function(){this.datastoreConnectivity.unsubscribe()},e.prototype.setupModels=function(t){return gr(this,void 0,void 0,function(){var r,n,i,o,s,a,c,u,l,f,h,v,g,w=this;return ir(this,function(y){switch(y.label){case 0:r=t.fullSyncInterval,n=this.modelClasses.ModelMetadata,i=[],Object.values(this.schema.namespaces).forEach(function(b){Object.values(b.models).filter(function(_){var T=_.syncable;return T}).forEach(function(_){if(i.push([b.name,_]),b.name===xo){var T=w.userModelClasses[_.name];w.modelSyncedStatus.set(T,!1)}})}),s=i.map(function(b){var _=Ir(b,2),T=_[0],A=_[1];return gr(w,void 0,void 0,function(){var x,R,k,U,B,N,F,L,I;return ir(this,function(P){switch(P.label){case 0:return[4,this.getModelMetadata(T,A.name)];case 1:return x=P.sent(),R=Ne.getPredicates(this.syncPredicates.get(A),!1),k=R?JSON.stringify(R):null,x!==void 0?[3,3]:[4,this.storage.save(this.modelInstanceCreator(n,{model:A.name,namespace:T,lastSync:null,fullSyncInterval:r,lastFullSync:null,lastSyncPredicate:k}),void 0,Uo)];case 2:return N=Ir.apply(void 0,[P.sent(),1]),F=Ir(N[0],1),o=F[0],[3,5];case 3:return U=x.lastSyncPredicate?x.lastSyncPredicate:null,B=U!==k,[4,this.storage.save(this.modelClasses.ModelMetadata.copyOf(x,function(M){M.fullSyncInterval=r,B&&(M.lastSync=null,M.lastFullSync=null,M.lastSyncPredicate=k)}))];case 4:L=Ir.apply(void 0,[P.sent(),1]),I=Ir(L[0],1),o=I[0],P.label=5;case 5:return[2,o]}})})}),a={},y.label=1;case 1:return y.trys.push([1,6,7,8]),[4,Promise.all(s)];case 2:c=um.apply(void 0,[y.sent()]),u=c.next(),y.label=3;case 3:if(u.done)return[3,5];l=u.value,f=l.model,a[f]=l,y.label=4;case 4:return u=c.next(),[3,3];case 5:return[3,8];case 6:return h=y.sent(),v={error:h},[3,8];case 7:try{u&&!u.done&&(g=c.return)&&g.call(c)}finally{if(v)throw v.error}return[7];case 8:return[2,a]}})})},e.prototype.getModelsMetadata=function(){return gr(this,void 0,void 0,function(){var t,r;return ir(this,function(n){switch(n.label){case 0:return t=this.modelClasses.ModelMetadata,[4,this.storage.query(t)];case 1:return r=n.sent(),[2,r]}})})},e.prototype.getModelMetadata=function(t,r){return gr(this,void 0,void 0,function(){var n,i,o,s;return ir(this,function(a){switch(a.label){case 0:return n=this.modelClasses.ModelMetadata,i=Ne.createFromExisting(this.schema.namespaces[uo].models[n.name],function(c){return c.namespace("eq",t).model("eq",r)}),[4,this.storage.query(n,i,{page:0,limit:1})];case 1:return o=Ir.apply(void 0,[a.sent(),1]),s=o[0],[2,s]}})})},e.prototype.getModelDefinition=function(t){var r=this.namespaceResolver(t),n=this.schema.namespaces[r].models[t.name];return n},e.getNamespace=function(){var t={name:uo,relationships:{},enums:{OperationType:{name:"OperationType",values:["CREATE","UPDATE","DELETE"]}},nonModels:{},models:{MutationEvent:{name:"MutationEvent",pluralName:"MutationEvents",syncable:!1,fields:{id:{name:"id",type:"ID",isRequired:!0,isArray:!1},model:{name:"model",type:"String",isRequired:!0,isArray:!1},data:{name:"data",type:"String",isRequired:!0,isArray:!1},modelId:{name:"modelId",type:"String",isRequired:!0,isArray:!1},operation:{name:"operation",type:{enum:"Operationtype"},isArray:!1,isRequired:!0},condition:{name:"condition",type:"String",isArray:!1,isRequired:!0}}},ModelMetadata:{name:"ModelMetadata",pluralName:"ModelsMetadata",syncable:!1,fields:{id:{name:"id",type:"ID",isRequired:!0,isArray:!1},namespace:{name:"namespace",type:"String",isRequired:!0,isArray:!1},model:{name:"model",type:"String",isRequired:!0,isArray:!1},lastSync:{name:"lastSync",type:"Int",isRequired:!1,isArray:!1},lastFullSync:{name:"lastFullSync",type:"Int",isRequired:!1,isArray:!1},fullSyncInterval:{name:"fullSyncInterval",type:"Int",isRequired:!0,isArray:!1},lastSyncPredicate:{name:"lastSyncPredicate",type:"String",isRequired:!1,isArray:!1}}}}};return t},e}(),en=globalThis&&globalThis.__assign||function(){return en=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},en.apply(this,arguments)},Mt=globalThis&&globalThis.__awaiter||function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(f){s(f)}}function c(l){try{u(n.throw(l))}catch(f){s(f)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(e,t||[])).next())})},kt=globalThis&&globalThis.__generator||function(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(l){return c([u,l])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){r.label=u[1];break}if(u[0]===6&&r.label<o[1]){r.label=o[1],o=u;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(u);break}o[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(l){u=[6,l],i=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},Xk=globalThis&&globalThis.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r},wt=globalThis&&globalThis.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return o},Zk=globalThis&&globalThis.__values||function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},eD=globalThis&&globalThis.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(wt(arguments[t]));return e};uP(!0);rP();var Be=new Ae("DataStore"),tD=Zb(Date.now()),rD=vs.browserOrNode().isNode,lm="schemaVersion",jt,uc=new WeakMap,dw=new WeakMap,Vr=function(e){var t=uc.get(e);return jt.namespaces[t].models[e.name]},Yr=function(e){return vo(e)&&uc.has(e)},ul=function(e){return uc.get(e)},cd,os,ld,pw,tU=function(e){var t;if(jt!==void 0)return console.warn("The schema has already been initialized"),os;Be.log("validating schema",{schema:e});var r=en({name:xo},e);Be.log("DataStore","Init models"),os=va(r),Be.log("DataStore","Models initialized");var n=cD(),i=sw.getNamespace(),o=hw.getNamespace();return ld=va(n),pw=va(i),cd=va(o),jt={namespaces:(t={},t[n.name]=n,t[r.name]=r,t[i.name]=i,t[o.name]=o,t),version:e.version},Object.keys(jt.namespaces).forEach(function(s){var a,c,u=wt(pM(jt.namespaces[s]),2),l=u[0],f=u[1];jt.namespaces[s].relationships=l,jt.namespaces[s].keys=f;var h=new Map;Object.values(jt.namespaces[s].models).forEach(function(T){var A=[];Object.values(T.fields).filter(function(x){return x.association&&x.association.connectionType==="BELONGS_TO"&&x.type.model!==T.name}).forEach(function(x){return A.push(x.type.model)}),h.set(T.name,A)});for(var v=new Map,g=1e3;g>0&&h.size!==0;){if(g--,g===0)throw new Error("Models are not topologically sortable. Please verify your schema.");try{for(var w=(a=void 0,Zk(Array.from(h.keys()))),y=w.next();!y.done;y=w.next()){var b=y.value,_=h.get(b);_.every(function(T){return v.has(T)})&&v.set(b,_)}}catch(T){a={error:T}}finally{try{y&&!y.done&&(c=w.return)&&c.call(w)}finally{if(a)throw a.error}}Array.from(v.keys()).forEach(function(T){return h.delete(T)})}jt.namespaces[s].modelTopologicalOrdering=v}),os},va=function(e){var t={};return Object.entries(e.models).forEach(function(r){var n=wt(r,2),i=n[0],o=n[1],s=nD(o);t[i]=s,uc.set(s,e.name)}),Object.entries(e.nonModels||{}).forEach(function(r){var n=wt(r,2),i=n[0],o=n[1],s=sD(o);t[i]=s}),t},vw=new WeakSet;function Ts(e,t){return vw.add(t),new e(t)}var Ff=function(e){return function(t,r){var n=e.fields[t];if(n!==void 0){var i=n.type,o=n.isRequired,s=n.isArrayNullable,a=n.name,c=n.isArray;if((!c&&o||c&&!s)&&r==null)throw new Error("Field "+a+" is required");if(tw(i)){var u=Si.getJSType(i),l=Si.getValidationFunction(i);if(i==="AWSJSON"){if(typeof r===u)return;if(typeof r=="string")try{JSON.parse(r);return}catch{throw new Error("Field "+a+" is an invalid JSON object. "+r)}}if(c){var f=u;if(o||(f=u+" | null | undefined"),!Array.isArray(r)&&!s)throw new Error("Field "+a+" should be of type ["+f+"], "+typeof r+" received. "+r);if(!Xr(r)&&r.some(function(g){return Xr(g)?o:typeof g!==u})){var h=r.map(function(g){return g===null?"null":typeof g}).join(",");throw new Error("All elements in the "+a+" array should be of type "+f+", ["+h+"] received. "+r)}if(l&&!Xr(r)){var v=r.map(function(g){return Xr(g)?!!(Xr(g)&&!o):l(g)});if(!v.every(function(g){return g}))throw new Error("All elements in the "+a+" array should be of type "+i+", validation failed for one or more elements. "+r)}}else{if(!o&&r===void 0)return;if(typeof r!==u&&r!==null)throw new Error("Field "+a+" should be of type "+u+", "+typeof r+" received. "+r);if(!Xr(r)&&l&&!l(r))throw new Error("Field "+a+" should be of type "+i+", validation failed. "+r)}}}}},gw=function(e,t,r){var n=e.fields[t]||{},i=n.isArray,o=n.type;if(typeof r=="string"&&(i||o==="AWSJSON"||Tf(o)||Af(o)))try{return JSON.parse(r)}catch{}return typeof r=="number"&&o==="Boolean"?Boolean(r):r},mw=function(e,t,r){var n=Ff(t);Object.entries(e).forEach(function(i){var o=wt(i,2),s=o[0],a=o[1],c=gw(t,s,a);n(s,c),r[s]=c})},nD=function(e){var t=function(){function r(n){var i=gf(this,function(o){mw(n,e,o);var s=vw.has(n)?n:{},a=s.id,c=s._version,u=s._lastChangedAt,l=s._deleted,f=a!=null,h=f?a:e.syncable?Rs.v4():tD();f||iD(o,e),o.id=h,e.syncable&&(o._version=c,o._lastChangedAt=u,o._deleted=l)});return i}return r.copyOf=function(n,i){var o=Object.getPrototypeOf(n||{}).constructor;if(!Yr(o)){var s="The source object is not a valid model";throw Be.error(s,{source:n}),new Error(s)}var a,c=gf(n,function(u){i(u),u.id=n.id;var l=Ff(e);Object.entries(u).forEach(function(f){var h=wt(f,2),v=h[0],g=h[1],w=gw(e,v,g);l(v,w)})},function(u){return a=u});return a.length&&(dw.set(c,[a,n]),oD(a,e)),c},r.fromJSON=function(n){var i=this;if(Array.isArray(n))return n.map(function(a){return i.fromJSON(a)});var o=Ts(t,n),s=Ff(e);return Object.entries(o).forEach(function(a){var c=wt(a,2),u=c[0],l=c[1];s(u,l)}),o},r}();return t[vi]=!0,Object.defineProperty(t,"name",{value:e.name}),t},iD=function(e,t){var r=Object.keys(e),n=t.fields;r.forEach(function(i){if(n[i]&&n[i].isReadOnly)throw new Error(i+" is read-only.")})},oD=function(e,t){var r=e.map(function(i){return[i.path[0],i.value]}),n=t.fields;r.forEach(function(i){var o=wt(i,2),s=o[0],a=o[1];if(!(!a||!n[s])&&n[s].isReadOnly)throw new Error(s+" is read-only.")})},sD=function(e){var t=function(){function r(n){var i=gf(this,function(o){mw(n,e,o)});return i}return r}();return t[vi]=!0,Object.defineProperty(t,"name",{value:e.name}),hM(t),t};function fm(e){return typeof e=="string"}function hm(e){var t=e.localModel,r=e.modelConstructor,n=e.remoteModel,i=n._version;return Ts(r,en(en({},t),{_version:i}))}function dm(e){Be.warn(e)}function aD(e,t){var r;switch(e){case td:r=ld[t];break;case xo:r=os[t];break;case uo:r=cd[t];break;case Xb:r=pw[t];break;default:It(e);break}if(Yr(r))return r;var n="Model name is not valid for namespace. modelName: "+t+", namespace: "+e;throw Be.error(n),new Error(n)}function uD(e,t){return Mt(this,void 0,void 0,function(){var r,n,i=this;return kt(this,function(o){switch(o.label){case 0:return r=ld.Setting,n=jt.namespaces[td].models.Setting,[4,e.runExclusive(function(s){return Mt(i,void 0,void 0,function(){var a,c,u;return kt(this,function(l){switch(l.label){case 0:return[4,s.query(r,Ne.createFromExisting(n,function(f){return f.key("eq",lm)}),{page:0,limit:1})];case 1:return a=wt.apply(void 0,[l.sent(),1]),c=a[0],c!==void 0&&c.value!==void 0?(u=JSON.parse(c.value),u===t?[3,3]:[4,s.clear(!1)]):[3,4];case 2:l.sent(),l.label=3;case 3:return[3,6];case 4:return[4,s.save(Ts(r,{key:lm,value:JSON.stringify(t)}))];case 5:l.sent(),l.label=6;case 6:return[2]}})})})];case 1:return o.sent(),[2]}})})}var ei;function cD(){var e={name:td,relationships:{},enums:{},nonModels:{},models:{Setting:{name:"Setting",pluralName:"Settings",syncable:!1,fields:{id:{name:"id",type:"ID",isRequired:!0,isArray:!1},key:{name:"key",type:"String",isRequired:!0,isArray:!1},value:{name:"value",type:"String",isRequired:!0,isArray:!1}}}}};return e}var lD=function(){function e(){var t=this;this.amplifyConfig={},this.syncPredicates=new WeakMap,this.start=function(){return Mt(t,void 0,void 0,function(){var r,n,i,o=this;return kt(this,function(s){switch(s.label){case 0:return this.initialized!==void 0?[3,1]:(Be.debug("Starting DataStore"),this.initialized=new Promise(function(a,c){o.initResolve=a,o.initReject=c}),[3,3]);case 1:return[4,this.initialized];case 2:return s.sent(),[2];case 3:return this.storage=new sw(jt,ul,aD,Ts,this.storageAdapter,this.sessionId),[4,this.storage.init()];case 4:return s.sent(),[4,uD(this.storage,jt.version)];case 5:return s.sent(),r=this.amplifyConfig.aws_appsync_graphqlEndpoint,r?(Be.debug("GraphQL endpoint available",r),n=this,[4,this.processSyncExpressions()]):[3,7];case 6:return n.syncPredicates=s.sent(),this.sync=new hw(jt,ul,cd,os,this.storage,Ts,this.conflictHandler,this.errorHandler,this.syncPredicates,this.amplifyConfig,this.authModeStrategy),i=this.fullSyncInterval*1e3*60,ei=this.sync.start({fullSyncInterval:i}).subscribe({next:function(a){var c=a.type,u=a.data,l=rD?Je.SYNC_ENGINE_SYNC_QUERIES_READY:Je.SYNC_ENGINE_STORAGE_SUBSCRIBED;c===l&&o.initResolve(),zt.dispatch("datastore",{event:c,data:u})},error:function(a){Be.warn("Sync error",a),o.initReject()}}),[3,8];case 7:Be.warn("Data won't be synchronized. No GraphQL endpoint configured. Did you forget `Amplify.configure(awsconfig)`?",{config:this.amplifyConfig}),this.initResolve(),s.label=8;case 8:return[4,this.initialized];case 9:return s.sent(),[2]}})})},this.query=function(r,n,i){return Mt(t,void 0,void 0,function(){var o,s,a,c,u;return kt(this,function(l){switch(l.label){case 0:return[4,this.start()];case 1:if(l.sent(),!Yr(r))throw o="Constructor is not for a valid model",Be.error(o,{modelConstructor:r}),new Error(o);return typeof n=="string"&&i!==void 0&&Be.warn("Pagination is ignored when querying by id"),s=Vr(r),fm(n)?a=Ne.createForId(s,n):Gg(n)?a=void 0:a=Ne.createFromExisting(s,n),c=this.processPagination(s,i),Be.debug("params ready",{modelConstructor:r,predicate:Ne.getPredicates(a,!1),pagination:en(en({},c),{sort:ns.getPredicates(c&&c.sort,!1)})}),[4,this.storage.query(r,a,c)];case 2:return u=l.sent(),[2,fm(n)?u[0]:u]}})})},this.save=function(r,n){return Mt(t,void 0,void 0,function(){var i,o,s,a,c,u,l,f=this;return kt(this,function(h){switch(h.label){case 0:return[4,this.start()];case 1:if(h.sent(),i=dw.get(r),o=r?r.constructor:void 0,!Yr(o))throw s="Object is not an instance of a valid model",Be.error(s,{model:r}),new Error(s);return a=Vr(o),c=Ne.createFromExisting(a,n),[4,this.storage.runExclusive(function(v){return Mt(f,void 0,void 0,function(){return kt(this,function(g){switch(g.label){case 0:return[4,v.save(r,c,void 0,i)];case 1:return g.sent(),[2,v.query(o,Ne.createForId(a,r.id))]}})})})];case 2:return u=wt.apply(void 0,[h.sent(),1]),l=u[0],[2,l]}})})},this.setConflictHandler=function(r){var n=r.DataStore,i=function(){return t.conflictHandler===hm};return n&&n.conflictHandler?n.conflictHandler:i()&&r.conflictHandler?r.conflictHandler:t.conflictHandler||hm},this.setErrorHandler=function(r){var n=r.DataStore,i=function(){return t.errorHandler===dm};return n&&n.errorHandler?n.errorHandler:i()&&r.errorHandler?r.errorHandler:t.errorHandler||dm},this.delete=function(r,n){return Mt(t,void 0,void 0,function(){var i,l,a,l,l,o,v,s,a,l,c,u,l,f,h,v;return kt(this,function(g){switch(g.label){case 0:return[4,this.start()];case 1:if(g.sent(),!r)throw l="Model or Model Constructor required",Be.error(l,{modelOrConstructor:r}),new Error(l);if(!Yr(r))return[3,3];if(a=r,!n)throw l="Id to delete or criteria required. Do you want to delete all? Pass Predicates.ALL",Be.error(l,{idOrCriteria:n}),new Error(l);if(typeof n=="string")i=Ne.createForId(Vr(a),n);else if(i=Ne.createFromExisting(Vr(a),n),!i||!Ne.isValidPredicate(i))throw l="Criteria required. Do you want to delete all? Pass Predicates.ALL",Be.error(l,{condition:i}),new Error(l);return[4,this.storage.delete(a,i)];case 2:return o=wt.apply(void 0,[g.sent(),1]),v=o[0],[2,v];case 3:if(s=r,a=Object.getPrototypeOf(s||{}).constructor,!Yr(a))throw l="Object is not an instance of a valid model",Be.error(l,{model:s}),new Error(l);if(c=Vr(a),u=Ne.createForId(c,s.id),n){if(typeof n!="function")throw l="Invalid criteria",Be.error(l,{idOrCriteria:n}),new Error(l);i=n(u)}else i=u;return[4,this.storage.delete(s,i)];case 4:return f=wt.apply(void 0,[g.sent(),1]),h=wt(f[0],1),v=h[0],[2,v]}})})},this.observe=function(r,n){var i,o=r&&Yr(r)?r:void 0;if(r&&o===void 0){var s=r,a=s&&Object.getPrototypeOf(s).constructor;if(Yr(a))return n&&Be.warn("idOrCriteria is ignored when using a model instance",{model:s,idOrCriteria:n}),t.observe(a,s.id);var c="The model is not an instance of a PersistentModelConstructor";throw Be.error(c,{model:s}),new Error(c)}if(n!==void 0&&o===void 0){var c="Cannot provide criteria without a modelConstructor";throw Be.error(c,n),new Error(c)}if(o&&!Yr(o)){var c="Constructor is not for a valid model";throw Be.error(c,{modelConstructor:o}),new Error(c)}return typeof n=="string"?i=Ne.createForId(Vr(o),n):i=o&&Ne.createFromExisting(Vr(o),n),new st(function(u){var l;return function(){return Mt(t,void 0,void 0,function(){return kt(this,function(f){switch(f.label){case 0:return[4,this.start()];case 1:return f.sent(),l=this.storage.observe(o,i).filter(function(h){var v=h.model;return ul(v)===xo}).subscribe(u),[2]}})})}(),function(){l&&l.unsubscribe()}})},this.observeQuery=function(r,n,i){return new st(function(o){var s=new Map,a=new Map,c=[],u,l=function(){var _=g();w(_)},f=new xM({callback:l,errorHandler:o.error,maxInterval:2e3}),h=(i||{}).sort,v=h?{sort:h}:void 0;(function(){return Mt(t,void 0,void 0,function(){var _,T=this;return kt(this,function(A){switch(A.label){case 0:return A.trys.push([0,2,,3]),[4,this.query(r,n,v)];case 1:return A.sent().forEach(function(x){return s.set(x.id,x)}),u=this.observe(r,n).subscribe(function(x){var R=x.element,k=x.model,U=x.opType,B,N;U==="DELETE"?c.push(R.id):a.set(R.id,R);var F=(N=(B=T.sync)===null||B===void 0?void 0:B.getModelSyncedStatus(k))!==null&&N!==void 0?N:!1,L=a.size-c.length>=T.syncPageSize;(L||F)&&f.resolve(),f.start()}),l(),[3,3];case 2:return _=A.sent(),o.error(_),[3,3];case 3:return[2]}})})})();var g=function(){var _,T,A=(T=(_=t.sync)===null||_===void 0?void 0:_.getModelSyncedStatus(r))!==null&&T!==void 0?T:!1,x=eD(Array.from(s.values()),Array.from(a.values()));return(i==null?void 0:i.sort)&&y(x),s.clear(),x.forEach(function(R){return s.set(R.id,R)}),c.forEach(function(R){return s.delete(R)}),{items:Array.from(s.values()),isSynced:A}},w=function(_){o.next(_),a.clear(),c=[]},y=function(_){var T=Vr(r),A=t.processPagination(T,i),x=ns.getPredicates(A.sort);if(x.length){var R=rd(x);_.sort(R)}},b=function(_){var T=_.payload,A,x=T.event,R=T.data;x===Je.SYNC_ENGINE_MODEL_SYNCED&&((A=R==null?void 0:R.model)===null||A===void 0?void 0:A.name)===r.name&&(l(),zt.remove("api",b))};return zt.listen("datastore",b),function(){u&&u.unsubscribe()}})},this.configure=function(r){r===void 0&&(r={});var n=r.DataStore,i=r.authModeStrategyType;r.conflictHandler,r.errorHandler;var o=r.maxRecordsToSync,s=r.syncPageSize,a=r.fullSyncInterval,c=r.syncExpressions,u=r.authProviders,l=r.storageAdapter,f=Xk(r,["DataStore","authModeStrategyType","conflictHandler","errorHandler","maxRecordsToSync","syncPageSize","fullSyncInterval","syncExpressions","authProviders","storageAdapter"]);t.amplifyConfig=en(en({},f),t.amplifyConfig),t.conflictHandler=t.setConflictHandler(r),t.errorHandler=t.setErrorHandler(r);var h=n&&n.authModeStrategyType||i||rs.DEFAULT;switch(h){case rs.MULTI_AUTH:t.authModeStrategy=LM;break;case rs.DEFAULT:t.authModeStrategy=fg;break;default:t.authModeStrategy=fg;break}t.amplifyConfig.authProviders=n&&n.authProviders||u,t.syncExpressions=n&&n.syncExpressions||c||t.syncExpressions,t.maxRecordsToSync=n&&n.maxRecordsToSync||o||t.maxRecordsToSync||1e4,t.amplifyConfig.maxRecordsToSync=t.maxRecordsToSync,t.syncPageSize=n&&n.syncPageSize||s||t.syncPageSize||1e3,t.amplifyConfig.syncPageSize=t.syncPageSize,t.fullSyncInterval=n&&n.fullSyncInterval||a||t.fullSyncInterval||24*60,t.storageAdapter=n&&n.storageAdapter||l||t.storageAdapter||void 0,t.sessionId=t.retrieveSessionId()},this.clear=function(){return Mt(this,void 0,void 0,function(){return kt(this,function(n){switch(n.label){case 0:return this.storage===void 0?[2]:(ei&&!ei.closed&&ei.unsubscribe(),[4,this.storage.clear()]);case 1:return n.sent(),this.sync&&this.sync.unsubscribeConnectivity(),this.initialized=void 0,this.storage=void 0,this.sync=void 0,this.syncPredicates=new WeakMap,[2]}})})},this.stop=function(){return Mt(this,void 0,void 0,function(){return kt(this,function(n){switch(n.label){case 0:return this.initialized===void 0?[3,2]:[4,this.start()];case 1:n.sent(),n.label=2;case 2:return ei&&!ei.closed&&ei.unsubscribe(),this.sync&&this.sync.unsubscribeConnectivity(),this.initialized=void 0,this.sync=void 0,[2]}})})}}return e.prototype.getModuleName=function(){return"DataStore"},e.prototype.processPagination=function(t,r){var n,i=r||{},o=i.limit,s=i.page,a=i.sort;if(!(o===void 0&&s===void 0&&a===void 0)){if(s!==void 0&&o===void 0)throw new Error("Limit is required when requesting a page");if(s!==void 0){if(typeof s!="number")throw new Error("Page should be a number");if(s<0)throw new Error("Page can't be negative")}if(o!==void 0){if(typeof o!="number")throw new Error("Limit should be a number");if(o<0)throw new Error("Limit can't be negative")}return a&&(n=ns.createFromExisting(t,r.sort)),{limit:o,page:s,sort:n}}},e.prototype.processSyncExpressions=function(){return Mt(this,void 0,void 0,function(){var t,r=this;return kt(this,function(n){switch(n.label){case 0:return!this.syncExpressions||!this.syncExpressions.length?[2,new WeakMap]:[4,Promise.all(this.syncExpressions.map(function(i){return Mt(r,void 0,void 0,function(){var o,s,a,c,u,l;return kt(this,function(f){switch(f.label){case 0:return[4,i];case 1:return o=f.sent(),s=o.modelConstructor,a=o.conditionProducer,c=Vr(s),[4,this.unwrapPromise(a)];case 2:return u=f.sent(),Gg(u)?[2,[c,null]]:(l=this.createFromCondition(c,u),[2,[c,l]])}})})}))];case 1:return t=n.sent(),[2,this.weakMapFromEntries(t)]}})})},e.prototype.createFromCondition=function(t,r){try{return Ne.createFromExisting(t,r)}catch(n){throw Be.error("Error creating Sync Predicate"),n}},e.prototype.unwrapPromise=function(t){return Mt(this,void 0,void 0,function(){var r,n;return kt(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,t()];case 1:return r=i.sent(),[2,r];case 2:if(n=i.sent(),n instanceof TypeError)return[2,t];throw n;case 3:return[2]}})})},e.prototype.weakMapFromEntries=function(t){return t.reduce(function(r,n){var i=wt(n,2),o=i[0],s=i[1];if(r.has(o)){var a=o.name;return Be.warn(`You can only utilize one Sync Expression per model.
          Subsequent sync expressions for the `+a+" model will be ignored."),r}return s&&r.set(o,s),r},new WeakMap)},e.prototype.retrieveSessionId=function(){try{var t=sessionStorage.getItem("datastoreSessionId");if(t){var r=this.amplifyConfig.aws_appsync_graphqlEndpoint,n=r.split("/")[2],i=wt(n.split("."),1),o=i[0];return t+"-"+o}}catch{return}},e}(),fD=new lD;Fr.register(fD);/*!
  * vue-router v4.0.12
  * (c) 2021 Eduardo San Martin Morote
  * @license MIT
  */const yw=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol",Co=e=>yw?Symbol(e):"_vr_"+e,hD=Co("rvlm"),pm=Co("rvd"),cc=Co("r"),fd=Co("rl"),Lf=Co("rvl"),Ji=typeof window!="undefined";function dD(e){return e.__esModule||yw&&e[Symbol.toStringTag]==="Module"}const De=Object.assign;function cl(e,t){const r={};for(const n in t){const i=t[n];r[n]=Array.isArray(i)?i.map(e):e(i)}return r}const ss=()=>{},pD=/\/$/,vD=e=>e.replace(pD,"");function ll(e,t,r="/"){let n,i={},o="",s="";const a=t.indexOf("?"),c=t.indexOf("#",a>-1?a:0);return a>-1&&(n=t.slice(0,a),o=t.slice(a+1,c>-1?c:t.length),i=e(o)),c>-1&&(n=n||t.slice(0,c),s=t.slice(c,t.length)),n=bD(n!=null?n:t,r),{fullPath:n+(o&&"?")+o+s,path:n,query:i,hash:s}}function gD(e,t){const r=t.query?e(t.query):"";return t.path+(r&&"?")+r+(t.hash||"")}function vm(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function mD(e,t,r){const n=t.matched.length-1,i=r.matched.length-1;return n>-1&&n===i&&mo(t.matched[n],r.matched[i])&&bw(t.params,r.params)&&e(t.query)===e(r.query)&&t.hash===r.hash}function mo(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function bw(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(!yD(e[r],t[r]))return!1;return!0}function yD(e,t){return Array.isArray(e)?gm(e,t):Array.isArray(t)?gm(t,e):e===t}function gm(e,t){return Array.isArray(t)?e.length===t.length&&e.every((r,n)=>r===t[n]):e.length===1&&e[0]===t}function bD(e,t){if(e.startsWith("/"))return e;if(!e)return t;const r=t.split("/"),n=e.split("/");let i=r.length-1,o,s;for(o=0;o<n.length;o++)if(s=n[o],!(i===1||s==="."))if(s==="..")i--;else break;return r.slice(0,i).join("/")+"/"+n.slice(o-(o===n.length?1:0)).join("/")}var yo;(function(e){e.pop="pop",e.push="push"})(yo||(yo={}));var gi;(function(e){e.back="back",e.forward="forward",e.unknown=""})(gi||(gi={}));const fl="";function ww(e){if(!e)if(Ji){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),vD(e)}const wD=/^[^#]+#/;function _w(e,t){return e.replace(wD,"#")+t}function _D(e,t){const r=document.documentElement.getBoundingClientRect(),n=e.getBoundingClientRect();return{behavior:t.behavior,left:n.left-r.left-(t.left||0),top:n.top-r.top-(t.top||0)}}const lc=()=>({left:window.pageXOffset,top:window.pageYOffset});function SD(e){let t;if("el"in e){const r=e.el,n=typeof r=="string"&&r.startsWith("#"),i=typeof r=="string"?n?document.getElementById(r.slice(1)):document.querySelector(r):r;if(!i)return;t=_D(i,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function mm(e,t){return(history.state?history.state.position-t:-1)+e}const Bf=new Map;function ED(e,t){Bf.set(e,t)}function AD(e){const t=Bf.get(e);return Bf.delete(e),t}let TD=()=>location.protocol+"//"+location.host;function Sw(e,t){const{pathname:r,search:n,hash:i}=t,o=e.indexOf("#");if(o>-1){let a=i.includes(e.slice(o))?e.slice(o).length:1,c=i.slice(a);return c[0]!=="/"&&(c="/"+c),vm(c,"")}return vm(r,e)+n+i}function ID(e,t,r,n){let i=[],o=[],s=null;const a=({state:h})=>{const v=Sw(e,location),g=r.value,w=t.value;let y=0;if(h){if(r.value=v,t.value=h,s&&s===g){s=null;return}y=w?h.position-w.position:0}else n(v);i.forEach(b=>{b(r.value,g,{delta:y,type:yo.pop,direction:y?y>0?gi.forward:gi.back:gi.unknown})})};function c(){s=r.value}function u(h){i.push(h);const v=()=>{const g=i.indexOf(h);g>-1&&i.splice(g,1)};return o.push(v),v}function l(){const{history:h}=window;!h.state||h.replaceState(De({},h.state,{scroll:lc()}),"")}function f(){for(const h of o)h();o=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",l)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",l),{pauseListeners:c,listen:u,destroy:f}}function ym(e,t,r,n=!1,i=!1){return{back:e,current:t,forward:r,replaced:n,position:window.history.length,scroll:i?lc():null}}function xD(e){const{history:t,location:r}=window,n={value:Sw(e,r)},i={value:t.state};i.value||o(n.value,{back:null,current:n.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function o(c,u,l){const f=e.indexOf("#"),h=f>-1?(r.host&&document.querySelector("base")?e:e.slice(f))+c:TD()+e+c;try{t[l?"replaceState":"pushState"](u,"",h),i.value=u}catch(v){console.error(v),r[l?"replace":"assign"](h)}}function s(c,u){const l=De({},t.state,ym(i.value.back,c,i.value.forward,!0),u,{position:i.value.position});o(c,l,!0),n.value=c}function a(c,u){const l=De({},i.value,t.state,{forward:c,scroll:lc()});o(l.current,l,!0);const f=De({},ym(n.value,c,null),{position:l.position+1},u);o(c,f,!1),n.value=c}return{location:n,state:i,push:a,replace:s}}function CD(e){e=ww(e);const t=xD(e),r=ID(e,t.state,t.location,t.replace);function n(o,s=!0){s||r.pauseListeners(),history.go(o)}const i=De({location:"",base:e,go:n,createHref:_w.bind(null,e)},t,r);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>t.state.value}),i}function OD(e=""){let t=[],r=[fl],n=0;e=ww(e);function i(a){n++,n===r.length||r.splice(n),r.push(a)}function o(a,c,{direction:u,delta:l}){const f={direction:u,delta:l,type:yo.pop};for(const h of t)h(a,c,f)}const s={location:fl,state:{},base:e,createHref:_w.bind(null,e),replace(a){r.splice(n--,1),i(a)},push(a,c){i(a)},listen(a){return t.push(a),()=>{const c=t.indexOf(a);c>-1&&t.splice(c,1)}},destroy(){t=[],r=[fl],n=0},go(a,c=!0){const u=this.location,l=a<0?gi.back:gi.forward;n=Math.max(0,Math.min(n+a,r.length-1)),c&&o(this.location,u,{direction:l,delta:a})}};return Object.defineProperty(s,"location",{enumerable:!0,get:()=>r[n]}),s}function PD(e){return typeof e=="string"||e&&typeof e=="object"}function Ew(e){return typeof e=="string"||typeof e=="symbol"}const yn={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Aw=Co("nf");var bm;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(bm||(bm={}));function bo(e,t){return De(new Error,{type:e,[Aw]:!0},t)}function ti(e,t){return e instanceof Error&&Aw in e&&(t==null||!!(e.type&t))}const wm="[^/]+?",ND={sensitive:!1,strict:!1,start:!0,end:!0},RD=/[.+*?^${}()[\]/\\]/g;function MD(e,t){const r=De({},ND,t),n=[];let i=r.start?"^":"";const o=[];for(const u of e){const l=u.length?[]:[90];r.strict&&!u.length&&(i+="/");for(let f=0;f<u.length;f++){const h=u[f];let v=40+(r.sensitive?.25:0);if(h.type===0)f||(i+="/"),i+=h.value.replace(RD,"\\$&"),v+=40;else if(h.type===1){const{value:g,repeatable:w,optional:y,regexp:b}=h;o.push({name:g,repeatable:w,optional:y});const _=b||wm;if(_!==wm){v+=10;try{new RegExp(`(${_})`)}catch(A){throw new Error(`Invalid custom RegExp for param "${g}" (${_}): `+A.message)}}let T=w?`((?:${_})(?:/(?:${_}))*)`:`(${_})`;f||(T=y&&u.length<2?`(?:/${T})`:"/"+T),y&&(T+="?"),i+=T,v+=20,y&&(v+=-8),w&&(v+=-20),_===".*"&&(v+=-50)}l.push(v)}n.push(l)}if(r.strict&&r.end){const u=n.length-1;n[u][n[u].length-1]+=.7000000000000001}r.strict||(i+="/?"),r.end?i+="$":r.strict&&(i+="(?:/|$)");const s=new RegExp(i,r.sensitive?"":"i");function a(u){const l=u.match(s),f={};if(!l)return null;for(let h=1;h<l.length;h++){const v=l[h]||"",g=o[h-1];f[g.name]=v&&g.repeatable?v.split("/"):v}return f}function c(u){let l="",f=!1;for(const h of e){(!f||!l.endsWith("/"))&&(l+="/"),f=!1;for(const v of h)if(v.type===0)l+=v.value;else if(v.type===1){const{value:g,repeatable:w,optional:y}=v,b=g in u?u[g]:"";if(Array.isArray(b)&&!w)throw new Error(`Provided param "${g}" is an array but it is not repeatable (* or + modifiers)`);const _=Array.isArray(b)?b.join("/"):b;if(!_)if(y)h.length<2&&(l.endsWith("/")?l=l.slice(0,-1):f=!0);else throw new Error(`Missing required param "${g}"`);l+=_}}return l}return{re:s,score:n,keys:o,parse:a,stringify:c}}function kD(e,t){let r=0;for(;r<e.length&&r<t.length;){const n=t[r]-e[r];if(n)return n;r++}return e.length<t.length?e.length===1&&e[0]===40+40?-1:1:e.length>t.length?t.length===1&&t[0]===40+40?1:-1:0}function DD(e,t){let r=0;const n=e.score,i=t.score;for(;r<n.length&&r<i.length;){const o=kD(n[r],i[r]);if(o)return o;r++}return i.length-n.length}const UD={type:0,value:""},FD=/[a-zA-Z0-9_]/;function LD(e){if(!e)return[[]];if(e==="/")return[[UD]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(v){throw new Error(`ERR (${r})/"${u}": ${v}`)}let r=0,n=r;const i=[];let o;function s(){o&&i.push(o),o=[]}let a=0,c,u="",l="";function f(){!u||(r===0?o.push({type:0,value:u}):r===1||r===2||r===3?(o.length>1&&(c==="*"||c==="+")&&t(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),o.push({type:1,value:u,regexp:l,repeatable:c==="*"||c==="+",optional:c==="*"||c==="?"})):t("Invalid state to consume buffer"),u="")}function h(){u+=c}for(;a<e.length;){if(c=e[a++],c==="\\"&&r!==2){n=r,r=4;continue}switch(r){case 0:c==="/"?(u&&f(),s()):c===":"?(f(),r=1):h();break;case 4:h(),r=n;break;case 1:c==="("?r=2:FD.test(c)?h():(f(),r=0,c!=="*"&&c!=="?"&&c!=="+"&&a--);break;case 2:c===")"?l[l.length-1]=="\\"?l=l.slice(0,-1)+c:r=3:l+=c;break;case 3:f(),r=0,c!=="*"&&c!=="?"&&c!=="+"&&a--,l="";break;default:t("Unknown state");break}}return r===2&&t(`Unfinished custom RegExp for param "${u}"`),f(),s(),i}function BD(e,t,r){const n=MD(LD(e.path),r),i=De(n,{record:e,parent:t,children:[],alias:[]});return t&&!i.record.aliasOf==!t.record.aliasOf&&t.children.push(i),i}function jD(e,t){const r=[],n=new Map;t=Sm({strict:!1,end:!0,sensitive:!1},t);function i(l){return n.get(l)}function o(l,f,h){const v=!h,g=$D(l);g.aliasOf=h&&h.record;const w=Sm(t,l),y=[g];if("alias"in l){const T=typeof l.alias=="string"?[l.alias]:l.alias;for(const A of T)y.push(De({},g,{components:h?h.record.components:g.components,path:A,aliasOf:h?h.record:g}))}let b,_;for(const T of y){const{path:A}=T;if(f&&A[0]!=="/"){const x=f.record.path,R=x[x.length-1]==="/"?"":"/";T.path=f.record.path+(A&&R+A)}if(b=BD(T,f,w),h?h.alias.push(b):(_=_||b,_!==b&&_.alias.push(b),v&&l.name&&!_m(b)&&s(l.name)),"children"in g){const x=g.children;for(let R=0;R<x.length;R++)o(x[R],b,h&&h.children[R])}h=h||b,c(b)}return _?()=>{s(_)}:ss}function s(l){if(Ew(l)){const f=n.get(l);f&&(n.delete(l),r.splice(r.indexOf(f),1),f.children.forEach(s),f.alias.forEach(s))}else{const f=r.indexOf(l);f>-1&&(r.splice(f,1),l.record.name&&n.delete(l.record.name),l.children.forEach(s),l.alias.forEach(s))}}function a(){return r}function c(l){let f=0;for(;f<r.length&&DD(l,r[f])>=0;)f++;r.splice(f,0,l),l.record.name&&!_m(l)&&n.set(l.record.name,l)}function u(l,f){let h,v={},g,w;if("name"in l&&l.name){if(h=n.get(l.name),!h)throw bo(1,{location:l});w=h.record.name,v=De(qD(f.params,h.keys.filter(_=>!_.optional).map(_=>_.name)),l.params),g=h.stringify(v)}else if("path"in l)g=l.path,h=r.find(_=>_.re.test(g)),h&&(v=h.parse(g),w=h.record.name);else{if(h=f.name?n.get(f.name):r.find(_=>_.re.test(f.path)),!h)throw bo(1,{location:l,currentLocation:f});w=h.record.name,v=De({},f.params,l.params),g=h.stringify(v)}const y=[];let b=h;for(;b;)y.unshift(b.record),b=b.parent;return{name:w,path:g,params:v,matched:y,meta:HD(y)}}return e.forEach(l=>o(l)),{addRoute:o,resolve:u,removeRoute:s,getRoutes:a,getRecordMatcher:i}}function qD(e,t){const r={};for(const n of t)n in e&&(r[n]=e[n]);return r}function $D(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:KD(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||{}:{default:e.component}}}function KD(e){const t={},r=e.props||!1;if("component"in e)t.default=r;else for(const n in e.components)t[n]=typeof r=="boolean"?r:r[n];return t}function _m(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function HD(e){return e.reduce((t,r)=>De(t,r.meta),{})}function Sm(e,t){const r={};for(const n in e)r[n]=n in t?t[n]:e[n];return r}const Tw=/#/g,VD=/&/g,zD=/\//g,WD=/=/g,GD=/\?/g,Iw=/\+/g,YD=/%5B/g,JD=/%5D/g,xw=/%5E/g,QD=/%60/g,Cw=/%7B/g,XD=/%7C/g,Ow=/%7D/g,ZD=/%20/g;function hd(e){return encodeURI(""+e).replace(XD,"|").replace(YD,"[").replace(JD,"]")}function e3(e){return hd(e).replace(Cw,"{").replace(Ow,"}").replace(xw,"^")}function jf(e){return hd(e).replace(Iw,"%2B").replace(ZD,"+").replace(Tw,"%23").replace(VD,"%26").replace(QD,"`").replace(Cw,"{").replace(Ow,"}").replace(xw,"^")}function t3(e){return jf(e).replace(WD,"%3D")}function r3(e){return hd(e).replace(Tw,"%23").replace(GD,"%3F")}function n3(e){return e==null?"":r3(e).replace(zD,"%2F")}function xu(e){try{return decodeURIComponent(""+e)}catch{}return""+e}function i3(e){const t={};if(e===""||e==="?")return t;const n=(e[0]==="?"?e.slice(1):e).split("&");for(let i=0;i<n.length;++i){const o=n[i].replace(Iw," "),s=o.indexOf("="),a=xu(s<0?o:o.slice(0,s)),c=s<0?null:xu(o.slice(s+1));if(a in t){let u=t[a];Array.isArray(u)||(u=t[a]=[u]),u.push(c)}else t[a]=c}return t}function Em(e){let t="";for(let r in e){const n=e[r];if(r=t3(r),n==null){n!==void 0&&(t+=(t.length?"&":"")+r);continue}(Array.isArray(n)?n.map(o=>o&&jf(o)):[n&&jf(n)]).forEach(o=>{o!==void 0&&(t+=(t.length?"&":"")+r,o!=null&&(t+="="+o))})}return t}function o3(e){const t={};for(const r in e){const n=e[r];n!==void 0&&(t[r]=Array.isArray(n)?n.map(i=>i==null?null:""+i):n==null?n:""+n)}return t}function Fo(){let e=[];function t(n){return e.push(n),()=>{const i=e.indexOf(n);i>-1&&e.splice(i,1)}}function r(){e=[]}return{add:t,list:()=>e,reset:r}}function Cn(e,t,r,n,i){const o=n&&(n.enterCallbacks[i]=n.enterCallbacks[i]||[]);return()=>new Promise((s,a)=>{const c=f=>{f===!1?a(bo(4,{from:r,to:t})):f instanceof Error?a(f):PD(f)?a(bo(2,{from:t,to:f})):(o&&n.enterCallbacks[i]===o&&typeof f=="function"&&o.push(f),s())},u=e.call(n&&n.instances[i],t,r,c);let l=Promise.resolve(u);e.length<3&&(l=l.then(c)),l.catch(f=>a(f))})}function hl(e,t,r,n){const i=[];for(const o of e)for(const s in o.components){let a=o.components[s];if(!(t!=="beforeRouteEnter"&&!o.instances[s]))if(s3(a)){const u=(a.__vccOpts||a)[t];u&&i.push(Cn(u,r,n,o,s))}else{let c=a();i.push(()=>c.then(u=>{if(!u)return Promise.reject(new Error(`Couldn't resolve component "${s}" at "${o.path}"`));const l=dD(u)?u.default:u;o.components[s]=l;const h=(l.__vccOpts||l)[t];return h&&Cn(h,r,n,o,s)()}))}}return i}function s3(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function Am(e){const t=Yt(cc),r=Yt(fd),n=lt(()=>t.resolve(Vo(e.to))),i=lt(()=>{const{matched:c}=n.value,{length:u}=c,l=c[u-1],f=r.matched;if(!l||!f.length)return-1;const h=f.findIndex(mo.bind(null,l));if(h>-1)return h;const v=Tm(c[u-2]);return u>1&&Tm(l)===v&&f[f.length-1].path!==v?f.findIndex(mo.bind(null,c[u-2])):h}),o=lt(()=>i.value>-1&&l3(r.params,n.value.params)),s=lt(()=>i.value>-1&&i.value===r.matched.length-1&&bw(r.params,n.value.params));function a(c={}){return c3(c)?t[Vo(e.replace)?"replace":"push"](Vo(e.to)).catch(ss):Promise.resolve()}return{route:n,href:lt(()=>n.value.href),isActive:o,isExactActive:s,navigate:a}}const a3=lh({name:"RouterLink",props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Am,setup(e,{slots:t}){const r=Eo(Am(e)),{options:n}=Yt(cc),i=lt(()=>({[Im(e.activeClass,n.linkActiveClass,"router-link-active")]:r.isActive,[Im(e.exactActiveClass,n.linkExactActiveClass,"router-link-exact-active")]:r.isExactActive}));return()=>{const o=t.default&&t.default(r);return e.custom?o:Dn("a",{"aria-current":r.isExactActive?e.ariaCurrentValue:null,href:r.href,onClick:r.navigate,class:i.value},o)}}}),u3=a3;function c3(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function l3(e,t){for(const r in t){const n=t[r],i=e[r];if(typeof n=="string"){if(n!==i)return!1}else if(!Array.isArray(i)||i.length!==n.length||n.some((o,s)=>o!==i[s]))return!1}return!0}function Tm(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const Im=(e,t,r)=>e!=null?e:t!=null?t:r,f3=lh({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},setup(e,{attrs:t,slots:r}){const n=Yt(Lf),i=lt(()=>e.route||n.value),o=Yt(pm,0),s=lt(()=>i.value.matched[o]);ya(pm,o+1),ya(hD,s),ya(Lf,i);const a=Rr();return hi(()=>[a.value,s.value,e.name],([c,u,l],[f,h,v])=>{u&&(u.instances[l]=c,h&&h!==u&&c&&c===f&&(u.leaveGuards.size||(u.leaveGuards=h.leaveGuards),u.updateGuards.size||(u.updateGuards=h.updateGuards))),c&&u&&(!h||!mo(u,h)||!f)&&(u.enterCallbacks[l]||[]).forEach(g=>g(c))},{flush:"post"}),()=>{const c=i.value,u=s.value,l=u&&u.components[e.name],f=e.name;if(!l)return xm(r.default,{Component:l,route:c});const h=u.props[e.name],v=h?h===!0?c.params:typeof h=="function"?h(c):h:null,w=Dn(l,De({},v,t,{onVnodeUnmounted:y=>{y.component.isUnmounted&&(u.instances[f]=null)},ref:a}));return xm(r.default,{Component:w,route:c})||w}}});function xm(e,t){if(!e)return null;const r=e(t);return r.length===1?r[0]:r}const h3=f3;function d3(e){const t=jD(e.routes,e),r=e.parseQuery||i3,n=e.stringifyQuery||Em,i=e.history,o=Fo(),s=Fo(),a=Fo(),c=a1(yn);let u=yn;Ji&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const l=cl.bind(null,J=>""+J),f=cl.bind(null,n3),h=cl.bind(null,xu);function v(J,ee){let re,se;return Ew(J)?(re=t.getRecordMatcher(J),se=ee):se=J,t.addRoute(se,re)}function g(J){const ee=t.getRecordMatcher(J);ee&&t.removeRoute(ee)}function w(){return t.getRoutes().map(J=>J.record)}function y(J){return!!t.getRecordMatcher(J)}function b(J,ee){if(ee=De({},ee||c.value),typeof J=="string"){const le=ll(r,J,ee.path),D=t.resolve({path:le.path},ee),$=i.createHref(le.fullPath);return De(le,D,{params:h(D.params),hash:xu(le.hash),redirectedFrom:void 0,href:$})}let re;if("path"in J)re=De({},J,{path:ll(r,J.path,ee.path).path});else{const le=De({},J.params);for(const D in le)le[D]==null&&delete le[D];re=De({},J,{params:f(J.params)}),ee.params=f(ee.params)}const se=t.resolve(re,ee),ve=J.hash||"";se.params=l(h(se.params));const ye=gD(n,De({},J,{hash:e3(ve),path:se.path})),he=i.createHref(ye);return De({fullPath:ye,hash:ve,query:n===Em?o3(J.query):J.query||{}},se,{redirectedFrom:void 0,href:he})}function _(J){return typeof J=="string"?ll(r,J,c.value.path):De({},J)}function T(J,ee){if(u!==J)return bo(8,{from:ee,to:J})}function A(J){return k(J)}function x(J){return A(De(_(J),{replace:!0}))}function R(J){const ee=J.matched[J.matched.length-1];if(ee&&ee.redirect){const{redirect:re}=ee;let se=typeof re=="function"?re(J):re;return typeof se=="string"&&(se=se.includes("?")||se.includes("#")?se=_(se):{path:se},se.params={}),De({query:J.query,hash:J.hash,params:J.params},se)}}function k(J,ee){const re=u=b(J),se=c.value,ve=J.state,ye=J.force,he=J.replace===!0,le=R(re);if(le)return k(De(_(le),{state:ve,force:ye,replace:he}),ee||re);const D=re;D.redirectedFrom=ee;let $;return!ye&&mD(n,se,re)&&($=bo(16,{to:D,from:se}),z(se,se,!0,!1)),($?Promise.resolve($):B(D,se)).catch(Q=>ti(Q)?Q:K(Q,D,se)).then(Q=>{if(Q){if(ti(Q,2))return k(De(_(Q.to),{state:ve,force:ye,replace:he}),ee||D)}else Q=F(D,se,!0,he,ve);return N(D,se,Q),Q})}function U(J,ee){const re=T(J,ee);return re?Promise.reject(re):Promise.resolve()}function B(J,ee){let re;const[se,ve,ye]=p3(J,ee);re=hl(se.reverse(),"beforeRouteLeave",J,ee);for(const le of se)le.leaveGuards.forEach(D=>{re.push(Cn(D,J,ee))});const he=U.bind(null,J,ee);return re.push(he),Ki(re).then(()=>{re=[];for(const le of o.list())re.push(Cn(le,J,ee));return re.push(he),Ki(re)}).then(()=>{re=hl(ve,"beforeRouteUpdate",J,ee);for(const le of ve)le.updateGuards.forEach(D=>{re.push(Cn(D,J,ee))});return re.push(he),Ki(re)}).then(()=>{re=[];for(const le of J.matched)if(le.beforeEnter&&!ee.matched.includes(le))if(Array.isArray(le.beforeEnter))for(const D of le.beforeEnter)re.push(Cn(D,J,ee));else re.push(Cn(le.beforeEnter,J,ee));return re.push(he),Ki(re)}).then(()=>(J.matched.forEach(le=>le.enterCallbacks={}),re=hl(ye,"beforeRouteEnter",J,ee),re.push(he),Ki(re))).then(()=>{re=[];for(const le of s.list())re.push(Cn(le,J,ee));return re.push(he),Ki(re)}).catch(le=>ti(le,8)?le:Promise.reject(le))}function N(J,ee,re){for(const se of a.list())se(J,ee,re)}function F(J,ee,re,se,ve){const ye=T(J,ee);if(ye)return ye;const he=ee===yn,le=Ji?history.state:{};re&&(se||he?i.replace(J.fullPath,De({scroll:he&&le&&le.scroll},ve)):i.push(J.fullPath,ve)),c.value=J,z(J,ee,re,he),q()}let L;function I(){L=i.listen((J,ee,re)=>{const se=b(J),ve=R(se);if(ve){k(De(ve,{replace:!0}),se).catch(ss);return}u=se;const ye=c.value;Ji&&ED(mm(ye.fullPath,re.delta),lc()),B(se,ye).catch(he=>ti(he,12)?he:ti(he,2)?(k(he.to,se).then(le=>{ti(le,20)&&!re.delta&&re.type===yo.pop&&i.go(-1,!1)}).catch(ss),Promise.reject()):(re.delta&&i.go(-re.delta,!1),K(he,se,ye))).then(he=>{he=he||F(se,ye,!1),he&&(re.delta?i.go(-re.delta,!1):re.type===yo.pop&&ti(he,20)&&i.go(-1,!1)),N(se,ye,he)}).catch(ss)})}let P=Fo(),M=Fo(),j;function K(J,ee,re){q(J);const se=M.list();return se.length?se.forEach(ve=>ve(J,ee,re)):console.error(J),Promise.reject(J)}function G(){return j&&c.value!==yn?Promise.resolve():new Promise((J,ee)=>{P.add([J,ee])})}function q(J){j||(j=!0,I(),P.list().forEach(([ee,re])=>J?re(J):ee()),P.reset())}function z(J,ee,re,se){const{scrollBehavior:ve}=e;if(!Ji||!ve)return Promise.resolve();const ye=!re&&AD(mm(J.fullPath,0))||(se||!re)&&history.state&&history.state.scroll||null;return sh().then(()=>ve(J,ee,ye)).then(he=>he&&SD(he)).catch(he=>K(he,J,ee))}const Y=J=>i.go(J);let X;const te=new Set;return{currentRoute:c,addRoute:v,removeRoute:g,hasRoute:y,getRoutes:w,resolve:b,options:e,push:A,replace:x,go:Y,back:()=>Y(-1),forward:()=>Y(1),beforeEach:o.add,beforeResolve:s.add,afterEach:a.add,onError:M.add,isReady:G,install(J){const ee=this;J.component("RouterLink",u3),J.component("RouterView",h3),J.config.globalProperties.$router=ee,Object.defineProperty(J.config.globalProperties,"$route",{enumerable:!0,get:()=>Vo(c)}),Ji&&!X&&c.value===yn&&(X=!0,A(i.location).catch(ve=>{}));const re={};for(const ve in yn)re[ve]=lt(()=>c.value[ve]);J.provide(cc,ee),J.provide(fd,Eo(re)),J.provide(Lf,c);const se=J.unmount;te.add(J),J.unmount=function(){te.delete(J),te.size<1&&(u=yn,L&&L(),c.value=yn,X=!1,j=!1),se()}}}}function Ki(e){return e.reduce((t,r)=>t.then(()=>r()),Promise.resolve())}function p3(e,t){const r=[],n=[],i=[],o=Math.max(t.matched.length,e.matched.length);for(let s=0;s<o;s++){const a=t.matched[s];a&&(e.matched.find(u=>mo(u,a))?n.push(a):r.push(a));const c=e.matched[s];c&&(t.matched.find(u=>mo(u,c))||i.push(c))}return[r,n,i]}function rU(){return Yt(cc)}function nU(){return Yt(fd)}var v3=Object.defineProperty,Cm=Object.getOwnPropertySymbols,g3=Object.prototype.hasOwnProperty,m3=Object.prototype.propertyIsEnumerable,Om=(e,t,r)=>t in e?v3(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,y3=(e,t)=>{for(var r in t||(t={}))g3.call(t,r)&&Om(e,r,t[r]);if(Cm)for(var r of Cm(t))m3.call(t,r)&&Om(e,r,t[r]);return e},Pw="usehead",Pm="head:count",dl="data-head-attrs",b3=(e,t,r)=>{const n=r.createElement(e);for(const i of Object.keys(t)){let o=t[i];i==="key"||o===!1||(i==="children"?n.textContent=o:n.setAttribute(i,o))}return n};function w3(e,t){if(e instanceof HTMLElement&&t instanceof HTMLElement){const r=t.getAttribute("nonce");if(r&&!e.getAttribute("nonce")){const n=t.cloneNode(!0);return n.setAttribute("nonce",""),n.nonce=r,r===e.nonce&&e.isEqualNode(n)}}return e.isEqualNode(t)}var _3=e=>{const t=["key","id","name","property"];for(const r of t){const n=typeof e.getAttribute=="function"?e.hasAttribute(r)?e.getAttribute(r):void 0:e[r];if(n!==void 0)return{name:r,value:n}}},S3=()=>{const e=Yt(Pw);if(!e)throw new Error("You may forget to apply app.use(head)");return e},E3=["title","meta","link","base","style","script","htmlAttrs","bodyAttrs"],A3=e=>{const t=[];for(const r of Object.keys(e))if(e[r]!=null){if(r==="title")t.push({tag:r,props:{children:e[r]}});else if(r==="base")t.push({tag:r,props:y3({key:"default"},e[r])});else if(E3.includes(r)){const n=e[r];Array.isArray(n)?n.forEach(i=>{t.push({tag:r,props:i})}):n&&t.push({tag:r,props:n})}}return t},Nm=(e,t)=>{const r=e.getAttribute(dl);if(r)for(const i of r.split(","))i in t||e.removeAttribute(i);const n=[];for(const i in t){const o=t[i];o!=null&&(o===!1?e.removeAttribute(i):e.setAttribute(i,o),n.push(i))}n.length?e.setAttribute(dl,n.join(",")):e.removeAttribute(dl)},T3=(e=window.document,t,r)=>{var n;const i=e.head;let o=i.querySelector(`meta[name="${Pm}"]`);const s=o?Number(o.getAttribute("content")):0,a=[];if(o)for(let u=0,l=o.previousElementSibling;u<s;u++,l=(l==null?void 0:l.previousElementSibling)||null)((n=l==null?void 0:l.tagName)==null?void 0:n.toLowerCase())===t&&a.push(l);else o=e.createElement("meta"),o.setAttribute("name",Pm),o.setAttribute("content","0"),i.append(o);let c=r.map(u=>b3(u.tag,u.props,e));c=c.filter(u=>{for(let l=0;l<a.length;l++){const f=a[l];if(w3(f,u))return a.splice(l,1),!1}return!0}),a.forEach(u=>{var l;return(l=u.parentNode)==null?void 0:l.removeChild(u)}),c.forEach(u=>{i.insertBefore(u,o)}),o.setAttribute("content",""+(s-a.length+c.length))},I3=()=>{let e=[];const t={install(r){r.config.globalProperties.$head=t,r.provide(Pw,t)},get headTags(){const r=[];return e.forEach(n=>{A3(n.value).forEach(o=>{if(o.tag==="meta"||o.tag==="base"||o.tag==="script"){const s=_3(o.props);if(s){let a=-1;for(let c=0;c<r.length;c++){const u=r[c],l=u.props[s.name],f=o.props[s.name];if(u.tag===o.tag&&l===f){a=c;break}}a!==-1&&r.splice(a,1)}}r.push(o)})}),r},addHeadObjs(r){e.push(r)},removeHeadObjs(r){e=e.filter(n=>n!==r)},updateDOM(r=window.document){let n,i={},o={};const s={};for(const a of t.headTags){if(a.tag==="title"){n=a.props.children;continue}if(a.tag==="htmlAttrs"){Object.assign(i,a.props);continue}if(a.tag==="bodyAttrs"){Object.assign(o,a.props);continue}s[a.tag]=s[a.tag]||[],s[a.tag].push(a)}n!==void 0&&(r.title=n),Nm(r.documentElement,i),Nm(r.body,o);for(const a of Object.keys(s))T3(r,a,s[a])}};return t},x3=typeof window!="undefined",iU=e=>{const t=Rr(e),r=S3();r.addHeadObjs(t),x3&&(x1(()=>{r.updateDOM()}),by(()=>{r.removeHeadObjs(t),r.updateDOM()}))};function C3(e){try{return JSON.parse(e||"{}")}catch(t){return console.error("[SSG] On state deserialization -",t,e),{}}}function O3(e){return document.readyState==="loading"?new Promise(t=>{document.addEventListener("DOMContentLoaded",()=>t(e))}):Promise.resolve(e)}const P3=lh({setup(e,{slots:t}){const r=Rr(!1);return fh(()=>r.value=!0),()=>r.value&&t.default&&t.default({})}});function oU(e,t,r,n={}){const{transformState:i,registerComponents:o=!0,useHead:s=!0,rootContainer:a="#app"}=n,c=typeof window!="undefined";async function u(l=!1,f){var k,U;const h=l?qS(e):$S(e);let v;s&&(v=I3(),h.use(v));const g=d3(Us({history:l?CD(t.base):OD(t.base)},t)),{routes:w}=t;o&&h.component("ClientOnly",l?P3:{render:()=>null});const y=[],T={app:h,head:v,isClient:c,router:g,routes:w,onSSRAppRendered:l?()=>{}:B=>y.push(B),triggerOnSSRAppRendered:()=>Promise.all(y.map(B=>B())),initialState:{},transformState:i,routePath:f};l&&(await O3(),T.initialState=(i==null?void 0:i(window.__INITIAL_STATE__||{}))||C3(window.__INITIAL_STATE__)),await(r==null?void 0:r(T)),h.use(g);let A,x=!0;if(g.beforeEach((B,N,F)=>{(x||A&&A===B.path)&&(x=!1,A=B.path,B.meta.state=T.initialState),F()}),!l){const B=(U=(k=T.routePath)!=null?k:t.base)!=null?U:"/";g.push(B),await g.isReady(),T.initialState=g.currentRoute.value.meta.state||{}}const R=T.initialState;return fc(Us({},T),{initialState:R})}return c&&(async()=>{const{app:l,router:f}=await u(!0);await f.isReady(),l.mount(a,!0)})(),u}export{TT as $,qh as A,nU as B,x1 as C,$3 as D,L3 as E,bt as F,B3 as G,zf as H,k1 as I,Dn as J,fh as K,Z as L,Nh as M,V3 as N,Pn as O,G3 as P,m0 as Q,AI as R,If as S,x0 as T,xT as U,oU as V,vI as W,SI as X,Dh as Y,RT as Z,ne as _,lt as a,p0 as a0,CT as a1,y0 as a2,yi as a3,Rp as a4,Ch as a5,CI as a6,TI as a7,fx as a8,dI as a9,Uh as aA,FA as aB,q3 as aC,gh as aD,gx as aa,J3 as ab,DT as ac,RI as ad,DI as ae,LI as af,_x as ag,Sx as ah,Y3 as ai,eU as aj,dt as ak,pt as al,Q3 as am,Z3 as an,X3 as ao,Ex as ap,q0 as aq,j0 as ar,ET as as,ux as at,Ae as au,Pr as av,aa as aw,zt as ax,tn as ay,bc as az,fD as b,H3 as c,W3 as d,z3 as e,D3 as f,Dy as g,lh as h,tU as i,Vo as j,Xe as k,F3 as l,k3 as m,iU as n,Ny as o,My as p,Fr as q,Rr as r,U3 as s,R3 as t,rU as u,M3 as v,_1 as w,j3 as x,K3 as y,Uy as z};
